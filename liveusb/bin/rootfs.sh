#!/bin/env bash
###############################################################################################################################################################################################################
# bootfs
# keyfs
# randomfs
# takes /dev/sdX 
###############################################################################################################################################################################################################

#usage
###############################################################################################################################################################################################################
function usage {
echo "

"
if [[ ${2} ]];then echo ${2};fi
exit ${1}
}
###############################################################################################################################################################################################################


# check usb exists
###############################################################################################################################################################################################################
if [[ ! -b ${1} ]];then usage 1 "/dev/sdX - does not exist";fi
if [[ ${1: -1} == [0-9] ]];then usage 1 "takes /dev/sdX not partition";fi
###############################################################################################################################################################################################################

# setup bootfs
###############################################################################################################################################################################################################
echo "
${0} - menu
setup bootfs (y|n)
"
unset input;while [[ $input != @("y"|"n") ]];do  read -rp "input: " input;done
if [[ $input == y ]];then
  echo "stub yes"
else
  echo "stub no"
fi
###############################################################################################################################################################################################################

# setup keyfs
###############################################################################################################################################################################################################
echo "
${0} - menu
setup keyfs (y|n)
"
unset input;while [[ $input != @("y"|"n") ]];do  read -rp "input: " input;done
if [[ $input == y ]];then
  echo "stub yes"
else
  echo "stub no"
fi
###############################################################################################################################################################################################################

# setup randomfs
###############################################################################################################################################################################################################
echo "
${0} - menu
setup randomfs (y|n)
"
unset input;while [[ $input != @("y"|"n") ]];do  read -rp "input: " input;done
if [[ $input == y ]];then
  echo "stub yes"
else
  echo "stub no"
fi
###############################################################################################################################################################################################################
