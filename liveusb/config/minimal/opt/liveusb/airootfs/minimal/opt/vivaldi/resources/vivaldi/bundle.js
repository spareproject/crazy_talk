!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e){"use strict";e(483);var t=e(302),n=t.createFactory(e(376)),i=t.createFactory(e(378)),r=e(485),o=e(486),a=e(484);window.React=t,window.isPopup()?t.render(i(),document.body):t.render(n(),document.body),r(),o(),"MacIntel"===navigator.platform&&a()},{}],2:[function(){!function(){if(!Array.prototype.find){var e=function(e){var t=Object(this),n=t.length<0?0:t.length>>>0;if(0===n)return void 0;if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError("Array#find: predicate must be a function");for(var i,r=arguments[1],o=0;n>o;o++)if(i=t[o],e.call(r,i,o,t))return i;return void 0};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"find",{value:e,configurable:!0,enumerable:!1,writable:!0})}catch(t){}Array.prototype.find||(Array.prototype.find=e)}}(this)},{}],3:[function(){!function(){if(!Array.prototype.findIndex){var e=function(e){var t=Object(this),n=Math.max(0,t.length)>>>0;if(0===n)return-1;if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var i=arguments.length>1?arguments[1]:void 0,r=0;n>r;r++)if(e.call(i,t[r],r,t))return r;return-1};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"findIndex",{value:e,configurable:!0,writable:!0})}catch(t){}Array.prototype.findIndex||(Array.prototype.findIndex=e)}}(this)},{}],4:[function(e){(function(t){"use strict";if(e(89),e(90),t._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");t._babelPolyfill=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t){t.exports=e(4)},{}],6:[function(e,t){var n=e(26);t.exports=function(e){return function(t,i,r){var o,a=n.toObject(t),s=n.toLength(a.length),l=n.toIndex(r,s);if(e&&i!=i){for(;s>l;)if(o=a[l++],o!=o)return!0}else for(;s>l;l++)if((e||l in a)&&a[l]===i)return e||l;return!e&&-1}}},{}],7:[function(e,t){var n=e(26),i=e(15);t.exports=function(e){var t=1==e,r=2==e,o=3==e,a=4==e,s=6==e,l=5==e||s;return function(c,u,h){for(var d,p,f=Object(n.assertDefined(c)),m=n.ES5Object(f),g=i(u,h,3),v=n.toLength(m.length),E=0,b=t?Array(v):r?[]:void 0;v>E;E++)if((l||E in m)&&(d=m[E],p=g(d,E,f),e))if(t)b[E]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return E;case 2:b.push(d)}else if(a)return!1;return s?-1:o||a?a:b}}},{}],8:[function(e,t){function n(e,t,n){if(!e)throw TypeError(n?t+n:t)}var i=e(26);n.def=i.assertDefined,n.fn=function(e){if(!i.isFunction(e))throw TypeError(e+" is not a function!");return e},n.obj=function(e){if(!i.isObject(e))throw TypeError(e+" is not an object!");return e},n.inst=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e},t.exports=n},{}],9:[function(e,t){var n=e(26),i=e(18);t.exports=Object.assign||function(e){for(var t=Object(n.assertDefined(e)),r=arguments.length,o=1;r>o;)for(var a,s=n.ES5Object(arguments[o++]),l=i(s),c=l.length,u=0;c>u;)t[a=l[u++]]=s[a];return t}},{}],10:[function(e,t){function n(e){return o.call(e).slice(8,-1)}var i=e(26),r=e(40)("toStringTag"),o={}.toString;n.classof=function(e){var t,i;return void 0==e?void 0===e?"Undefined":"Null":"string"==typeof(i=(t=Object(e))[r])?i:n(t)},n.set=function(e,t,n){e&&!i.has(e=n?e:e.prototype,r)&&i.hide(e,r,t)},t.exports=n},{}],11:[function(e,t){"use strict";function n(e,t){if(!d(e))return("string"==typeof e?"S":"P")+e;if(f(e))return"F";if(!u(e,m)){if(!t)return"E";p(e,m,++y)}return"O"+e[m]}function i(e,t){var i,r=n(t);if("F"!=r)return e[g][r];for(i=e[E];i;i=i.n)if(i.k==t)return i}var r=e(26),o=e(15),a=e(38).safe,s=e(8),l=e(19),c=e(25).step,u=r.has,h=r.set,d=r.isObject,p=r.hide,f=Object.isFrozen||r.core.Object.isFrozen,m=a("id"),g=a("O1"),v=a("last"),E=a("first"),b=a("iter"),_=r.DESC?a("size"):"size",y=0;t.exports={getConstructor:function(e,t,n){function a(){var i=s.inst(this,a,e),o=arguments[0];h(i,g,r.create(null)),h(i,_,0),h(i,v,void 0),h(i,E,void 0),void 0!=o&&l(o,t,i[n],i)}return r.mix(a.prototype,{clear:function(){for(var e=this,t=e[g],n=e[E];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e[E]=e[v]=void 0,e[_]=0},"delete":function(e){var t=this,n=i(t,e);if(n){var r=n.n,o=n.p;delete t[g][n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),t[E]==n&&(t[E]=r),t[v]==n&&(t[v]=o),t[_]--}return!!n},forEach:function(e){for(var t,n=o(e,arguments[1],3);t=t?t.n:this[E];)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!i(this,e)}}),r.DESC&&r.setDesc(a.prototype,"size",{get:function(){return s.def(this[_])}}),a},def:function(e,t,r){var o,a,s=i(e,t);return s?s.v=r:(e[v]=s={i:a=n(t,!0),k:t,v:r,p:o=e[v],n:void 0,r:!1},e[E]||(e[E]=s),o&&(o.n=s),e[_]++,"F"!=a&&(e[g][a]=s)),e},getEntry:i,setIter:function(t,n,i){e(23)(t,n,function(e,t){h(this,b,{o:e,k:t})},function(){for(var e=this[b],t=e.k,n=e.l;n&&n.r;)n=n.p;return e.o&&(e.l=n=n?n.n:e.o[E])?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e.o=void 0,c(1))},i?"entries":"values",!i,!0)}}},{}],12:[function(e,t){var n=e(16),i=e(19);t.exports=function(e){n(n.P,e,{toJSON:function(){var e=[];return i(this,!1,e.push,e),e}})}},{}],13:[function(e,t){"use strict";function n(e,t){return v(e.array,function(e){return e[0]===t})}function i(e){return e[m]||u(e,m,{array:[],get:function(e){var t=n(this,e);return t?t[1]:void 0},has:function(e){return!!n(this,e)},set:function(e,t){var i=n(this,e);i?i[1]=t:this.array.push([e,t])},"delete":function(e){var t=E(this.array,function(t){return t[0]===e});return~t&&this.array.splice(t,1),!!~t}})[m]}var r=e(26),o=e(38).safe,a=e(8),s=e(19),l=r.has,c=r.isObject,u=r.hide,h=Object.isFrozen||r.core.Object.isFrozen,d=0,p=o("id"),f=o("weak"),m=o("leak"),g=e(7),v=g(5),E=g(6);t.exports={getConstructor:function(e,t,n){function o(){r.set(a.inst(this,o,e),p,d++);var i=arguments[0];void 0!=i&&s(i,t,this[n],this)}return r.mix(o.prototype,{"delete":function(e){return c(e)?h(e)?i(this).delete(e):l(e,f)&&l(e[f],this[p])&&delete e[f][this[p]]:!1},has:function(e){return c(e)?h(e)?i(this).has(e):l(e,f)&&l(e[f],this[p]):!1}}),o},def:function(e,t,n){return h(a.obj(t))?i(e).set(t,n):(l(t,f)||u(t,f,{}),t[f][e[p]]=n),e},leakStore:i,WEAK:f,ID:p}},{}],14:[function(e,t){"use strict";var n=e(26),i=e(16),r=e(25).BUGGY,o=e(19),a=e(32),s=e(8).inst;t.exports=function(t,l,c,u,h){function d(e,t){var i=g[e];n.FW&&(g[e]=function(e,n){var r=i.call(this,0===e?0:e,n);return t?this:r})}var p=n.g[t],f=p,m=u?"set":"add",g=f&&f.prototype,v={};if(n.isFunction(f)&&(h||!r&&g.forEach&&g.entries)){var E,b=new f,_=b[m](h?{}:-0,1);e(24)(function(e){new f(e)})||(f=function(){s(this,f,t);var e=new p,n=arguments[0];return void 0!=n&&o(n,u,e[m],e),e},f.prototype=g,n.FW&&(g.constructor=f)),h||b.forEach(function(e,t){E=1/t===-1/0}),E&&(d("delete"),d("has"),u&&d("get")),(E||_!==b)&&d(m,!0)}else f=c.getConstructor(t,u,m),n.mix(f.prototype,l);return e(10).set(f,t),v[t]=f,i(i.G+i.W+i.F*(f!=p),v),a(f),a(n.core[t]),h||c.setIter(f,t,u),f}},{}],15:[function(e,t){var n=e(8).fn;t.exports=function(e,t,i){if(n(e),~i&&void 0===t)return e;switch(i){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},{}],16:[function(e,t){function n(e,t){return function(){return e.apply(t,arguments)}}function i(e,t,l){var c,u,h,d,p=e&i.G,f=p?o:e&i.S?o[t]:(o[t]||{}).prototype,m=p?a:a[t]||(a[t]={});p&&(l=t);for(c in l)u=!(e&i.F)&&f&&c in f,h=(u?f:l)[c],d=e&i.B&&u?n(h,o):e&i.P&&s(h)?n(Function.call,h):h,f&&!u&&(p?f[c]=h:delete f[c]&&r.hide(f,c,h)),m[c]!=h&&r.hide(m,c,d)}var r=e(26),o=r.g,a=r.core,s=r.isFunction;o.core=a,i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,t.exports=i},{}],17:[function(e,t){var n=e(26),i=n.g.document,r=n.isObject,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{}],18:[function(e,t){var n=e(26);t.exports=function(e){var t=n.getKeys(e),i=n.getDesc,r=n.getSymbols;return r&&n.each.call(r(e),function(n){i(e,n).enumerable&&t.push(n)}),t}},{}],19:[function(e,t){var n=e(15),i=e(25).get,r=e(22);t.exports=function(e,t,o,a){for(var s,l=i(e),c=n(o,a,t?2:1);!(s=l.next()).done;)if(r(l,c,s.value,t)===!1)return r.close(l)}},{}],20:[function(e,t){t.exports=function(e){return e.FW=!0,e.path=e.g,e}},{}],21:[function(e,t){t.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);case 5:return i?e(t[0],t[1],t[2],t[3],t[4]):e.call(n,t[0],t[1],t[2],t[3],t[4])}return e.apply(n,t)}},{}],22:[function(e,t){function n(e){var t=e.return;void 0!==t&&r(t.call(e))}function i(e,t,i,o){try{return o?t(r(i)[0],i[1]):t(i)}catch(a){throw n(e),a}}var r=e(8).obj;i.close=n,t.exports=i},{}],23:[function(e,t){var n=e(16),i=e(26),r=e(10),o=e(25),a=e(40)("iterator"),s="@@iterator",l="keys",c="values",u=o.Iterators;t.exports=function(e,t,h,d,p,f,m){function g(e){function t(t){return new h(t,e)}switch(e){case l:return function(){return t(this)};case c:return function(){return t(this)}}return function(){return t(this)}}o.create(h,t,d);var v,E,b=t+" Iterator",_=e.prototype,y=_[a]||_[s]||p&&_[p],S=y||g(p);if(y){var C=i.getProto(S.call(new e));r.set(C,b,!0),i.FW&&i.has(_,s)&&o.set(C,i.that)}if(i.FW&&o.set(_,S),u[t]=S,u[b]=i.that,p)if(v={keys:f?S:g(l),values:p==c?S:g(c),entries:p!=c?S:g("entries")},m)for(E in v)E in _||i.hide(_,E,v[E]);else n(n.P+n.F*o.BUGGY,t,v)}},{}],24:[function(e,t){var n=e(40)("iterator"),i=!1;try{var r=[7][n]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(o){}t.exports=function(e){if(!i)return!1;var t=!1;try{var r=[7],o=r[n]();o.next=function(){t=!0},r[n]=function(){return o},e(r)}catch(a){}return t}},{}],25:[function(e,t){"use strict";function n(e,t){i.hide(e,a,t),s in[]&&i.hide(e,s,t)}var i=e(26),r=e(10),o=e(8).obj,a=e(40)("iterator"),s="@@iterator",l={},c={};n(c,i.that),t.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:l,step:function(e,t){return{value:t,done:!!e}},is:function(e){var t=Object(e),n=i.g.Symbol,o=n&&n.iterator||s;return o in t||a in t||i.has(l,r.classof(t))},get:function(e){var t=i.g.Symbol,n=e[t&&t.iterator||s],c=n||e[a]||l[r.classof(e)];return o(c.call(e))},set:n,create:function(e,t,n,o){e.prototype=i.create(o||c,{next:i.desc(1,n)}),r.set(e,t+" Iterator")}}},{}],26:[function(e,t){"use strict";function n(e){return isNaN(e=+e)?0:(e>0?f:p)(e)}function i(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function r(e,t,n){return e[t]=n,e}function o(e){return v?function(t,n,r){return b.setDesc(t,n,i(e,r))}:r}function a(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function s(e){return"function"==typeof e}function l(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var c="undefined"!=typeof self?self:Function("return this")(),u={},h=Object.defineProperty,d={}.hasOwnProperty,p=Math.ceil,f=Math.floor,m=Math.max,g=Math.min,v=!!function(){try{return 2==h({},"a",{get:function(){return 2}}).a}catch(e){}}(),E=o(1),b=t.exports=e(20)({g:c,core:u,html:c.document&&document.documentElement,isObject:a,isFunction:s,it:function(e){return e},that:function(){return this},toInteger:n,toLength:function(e){return e>0?g(n(e),9007199254740991):0},toIndex:function(e,t){return e=n(e),0>e?m(e+t,0):g(e,t)},has:function(e,t){return d.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:v,desc:i,getDesc:Object.getOwnPropertyDescriptor,setDesc:h,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:l,ES5Object:Object,toObject:function(e){return b.ES5Object(l(e))},hide:E,def:o(0),set:c.Symbol?r:E,mix:function(e,t){for(var n in t)E(e,n,t[n]);return e},each:[].forEach});"undefined"!=typeof __e&&(__e=u),"undefined"!=typeof __g&&(__g=c)},{}],27:[function(e,t){var n=e(26);t.exports=function(e,t){for(var i,r=n.toObject(e),o=n.getKeys(r),a=o.length,s=0;a>s;)if(r[i=o[s++]]===t)return i}},{}],28:[function(e,t){var n=e(26),i=e(8).obj;t.exports=function(e){i(e);var t=n.getNames(e),r=n.getSymbols;return r?t.concat(r(e)):t}},{}],29:[function(e,t){"use strict";var n=e(26),i=e(21),r=e(8).fn;t.exports=function(){for(var e=r(this),t=arguments.length,o=Array(t),a=0,s=n.path._,l=!1;t>a;)(o[a]=arguments[a++])===s&&(l=!0);return function(){var n,r=this,a=arguments.length,c=0,u=0;if(!l&&!a)return i(e,o,r);if(n=o.slice(),l)for(;t>c;c++)n[c]===s&&(n[c]=arguments[u++]);for(;a>u;)n.push(arguments[u++]);return i(e,n,r)}}},{}],30:[function(e,t){"use strict";t.exports=function(e,t,n){var i=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(n?t:this).replace(e,i)}}},{}],31:[function(e,t){function n(e,t){r.obj(e),r(null===t||i.isObject(t),t,": can't set as prototype!")}var i=e(26),r=e(8);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r){try{r=e(15)(Function.call,i.getDesc(Object.prototype,"__proto__").set,2),r({},[])}catch(o){t=!0}return function(e,i){return n(e,i),t?e.__proto__=i:r(e,i),e}}():void 0),check:n}},{}],32:[function(e,t){var n=e(26),i=e(40)("species");t.exports=function(e){!n.DESC||i in e||n.setDesc(e,i,{configurable:!0,get:n.that})}},{}],33:[function(e,t){var n=e(26);t.exports=function(e){return function(t,i){var r,o,a=String(n.assertDefined(t)),s=n.toInteger(i),l=a.length;return 0>s||s>=l?e?"":void 0:(r=a.charCodeAt(s),55296>r||r>56319||s+1===l||(o=a.charCodeAt(s+1))<56320||o>57343?e?a.charAt(s):r:e?a.slice(s,s+2):(r-55296<<10)+(o-56320)+65536)}}},{}],34:[function(e,t){var n=e(26),i=e(35);t.exports=function(e,t,r,o){var a=String(n.assertDefined(e));if(void 0===t)return a;var s=n.toInteger(t),l=s-a.length;if(0>l||1/0===l)throw new RangeError("Cannot satisfy string length "+t+" for string: "+a);var c=void 0===r?" ":String(r),u=i.call(c,Math.ceil(l/c.length));return u.length>l&&(u=o?u.slice(u.length-l):u.slice(0,l)),o?u.concat(a):a.concat(u)}},{}],35:[function(e,t){"use strict";var n=e(26);t.exports=function(e){var t=String(n.assertDefined(this)),i="",r=n.toInteger(e);if(0>r||1/0==r)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(i+=t);return i}},{}],36:[function(e,t){"use strict";function n(){var e=+this;if(s.has(S,e)){var t=S[e];delete S[e],t()}}function i(e){n.call(e.data)}var r,o,a,s=e(26),l=e(15),c=e(10),u=e(21),h=e(17),d=s.g,p=s.isFunction,f=s.html,m=d.process,g=d.setImmediate,v=d.clearImmediate,E=d.postMessage,b=d.addEventListener,_=d.MessageChannel,y=0,S={},C="onreadystatechange";p(g)&&p(v)||(g=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return S[++y]=function(){u(p(e)?e:Function(e),t)},r(y),y},v=function(e){delete S[e]},"process"==c(m)?r=function(e){m.nextTick(l(n,e,1))}:b&&p(E)&&!d.importScripts?(r=function(e){E(e,"*")},b("message",i,!1)):p(_)?(o=new _,a=o.port2,o.port1.onmessage=i,r=l(a.postMessage,a,1)):r=C in h("script")?function(e){f.appendChild(h("script"))[C]=function(){f.removeChild(this),n.call(e)}}:function(e){setTimeout(l(n,e,1),0)}),t.exports={set:g,clear:v}},{}],37:[function(e,t){t.exports=function(e){try{return e(),!1}catch(t){return!0}}},{}],38:[function(e,t){function n(e){return"Symbol("+e+")_"+(++i+Math.random()).toString(36)}var i=0;n.safe=e(26).g.Symbol||n,t.exports=n},{}],39:[function(e,t){var n=e(26),i=e(40)("unscopables");!n.FW||i in[]||n.hide(Array.prototype,i,{}),t.exports=function(e){n.FW&&([][i][e]=!0)}},{}],40:[function(e,t){var n=e(26).g,i={};t.exports=function(t){return i[t]||(i[t]=n.Symbol&&n.Symbol[t]||e(38).safe("Symbol."+t))}},{}],41:[function(e){function t(e,t){return function(n){var i,r=A(n),o=0,a=[];for(i in r)i!=d&&y(r,i)&&a.push(i);for(;t>o;)y(r,i=e[o++])&&(~O(a,i)||a.push(i));return a}}function n(e){return!a.isObject(e)}function i(){}function r(e){return function(t,n){p.fn(t);var i=A(this),r=I(i.length),o=e?r-1:0,a=e?-1:1;if(arguments.length<2)for(;;){if(o in i){n=i[o],o+=a;break}o+=a,p(e?o>=0:r>o,"Reduce of empty array with no initial value")}for(;e?o>=0:r>o;o+=a)o in i&&(n=t(n,i[o],o,this));return n}}function o(e){return e>9?e:"0"+e}var a=e(26),s=e(17),l=e(10),c=e(16),u=e(21),h=e(7),d=e(38).safe("__proto__"),p=e(8),f=p.obj,m=Object.prototype,g=a.html,v=[],E=v.slice,b=v.join,_=l.classof,y=a.has,S=a.setDesc,C=a.getDesc,w=a.setDescs,k=a.isFunction,A=a.toObject,I=a.toLength,N=a.toIndex,T=!1,O=e(6)(!1),D=h(0),M=h(1),x=h(2),P=h(3),L=h(4);if(!a.DESC){try{T=8==S(s("div"),"x",{get:function(){return 8}}).x}catch(R){}a.setDesc=function(e,t,n){if(T)try{return S(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(f(e)[t]=n.value),e},a.getDesc=function(e,t){if(T)try{return C(e,t)}catch(n){}return y(e,t)?a.desc(!m.propertyIsEnumerable.call(e,t),e[t]):void 0},a.setDescs=w=function(e,t){f(e);for(var n,i=a.getKeys(t),r=i.length,o=0;r>o;)a.setDesc(e,n=i[o++],t[n]);return e}}c(c.S+c.F*!a.DESC,"Object",{getOwnPropertyDescriptor:a.getDesc,defineProperty:a.setDesc,defineProperties:w});var B="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),F=B.concat("length","prototype"),U=B.length,W=function(){var e,t=s("iframe"),n=U,i=">";for(t.style.display="none",g.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+i),e.close(),W=e.F;n--;)delete W.prototype[B[n]];return W()};c(c.S,"Object",{getPrototypeOf:a.getProto=a.getProto||function(e){return e=Object(p.def(e)),y(e,d)?e[d]:k(e.constructor)&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?m:null},getOwnPropertyNames:a.getNames=a.getNames||t(F,F.length,!0),create:a.create=a.create||function(e,t){var n;return null!==e?(i.prototype=f(e),n=new i,i.prototype=null,n[d]=e):n=W(),void 0===t?n:w(n,t)},keys:a.getKeys=a.getKeys||t(B,U,!1),seal:a.it,freeze:a.it,preventExtensions:a.it,isSealed:n,isFrozen:n,isExtensible:a.isObject}),c(c.P,"Function",{bind:function(e){function t(){var r=i.concat(E.call(arguments));return u(n,r,this instanceof t?a.create(n.prototype):e)}var n=p.fn(this),i=E.call(arguments,1);return n.prototype&&(t.prototype=n.prototype),t}}),0 in Object("z")&&"z"=="z"[0]||(a.ES5Object=function(e){return"String"==l(e)?e.split(""):Object(e)});var H=!0;try{g&&E.call(g),H=!1}catch(R){}c(c.P+c.F*H,"Array",{slice:function(e,t){var n=I(this.length),i=l(this);if(t=void 0===t?n:t,"Array"==i)return E.call(this,e,t);for(var r=N(e,n),o=N(t,n),a=I(o-r),s=Array(a),c=0;a>c;c++)s[c]="String"==i?this.charAt(r+c):this[r+c];return s}}),c(c.P+c.F*(a.ES5Object!=Object),"Array",{join:function(){return b.apply(a.ES5Object(this),arguments)}}),c(c.S,"Array",{isArray:function(e){return"Array"==l(e)}}),c(c.P,"Array",{forEach:a.each=a.each||function(e){return D(this,e,arguments[1])},map:function(e){return M(this,e,arguments[1])},filter:function(e){return x(this,e,arguments[1])},some:function(e){return P(this,e,arguments[1])},every:function(e){return L(this,e,arguments[1])},reduce:r(!1),reduceRight:r(!0),indexOf:function(e){return O(this,e,arguments[1])},lastIndexOf:function(e,t){var n=A(this),i=I(n.length),r=i-1;for(arguments.length>1&&(r=Math.min(r,a.toInteger(t))),0>r&&(r=I(i+r));r>=0;r--)if(r in n&&n[r]===e)return r;return-1}}),c(c.P,"String",{trim:e(30)(/^\s*([\s\S]*\S)?\s*$/,"$1")}),c(c.S,"Date",{now:function(){return+new Date}});var G=new Date(-5e13-1),V=!(G.toISOString&&"0385-07-25T07:06:39.999Z"==G.toISOString()&&e(37)(function(){new Date(0/0).toISOString()}));c(c.P+c.F*V,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),i=0>t?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z"}}),"Object"==_(function(){return arguments}())&&(l.classof=function(e){var t=_(e);return"Object"==t&&k(e.callee)?"Arguments":t})},{}],42:[function(e){"use strict";var t=e(26),n=e(16),i=t.toIndex;n(n.P,"Array",{copyWithin:function(e,n){var r=Object(t.assertDefined(this)),o=t.toLength(r.length),a=i(e,o),s=i(n,o),l=arguments[2],c=void 0===l?o:i(l,o),u=Math.min(c-s,o-a),h=1;for(a>s&&s+u>a&&(h=-1,s=s+u-1,a=a+u-1);u-->0;)s in r?r[a]=r[s]:delete r[a],a+=h,s+=h;return r}}),e(39)("copyWithin")},{}],43:[function(e){"use strict";var t=e(26),n=e(16),i=t.toIndex;n(n.P,"Array",{fill:function(e){for(var n=Object(t.assertDefined(this)),r=t.toLength(n.length),o=i(arguments[1],r),a=arguments[2],s=void 0===a?r:i(a,r);s>o;)n[o++]=e;return n}}),e(39)("fill")},{}],44:[function(e){"use strict";var t="findIndex",n=e(16),i=!0,r=e(7)(6);t in[]&&Array(1)[t](function(){i=!1}),n(n.P+n.F*i,"Array",{findIndex:function(e){return r(this,e,arguments[1])}}),e(39)(t)},{}],45:[function(e){"use strict";var t="find",n=e(16),i=!0,r=e(7)(5);t in[]&&Array(1)[t](function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(e){return r(this,e,arguments[1])}}),e(39)(t)},{}],46:[function(e){var t=e(26),n=e(15),i=e(16),r=e(25),o=e(22);i(i.S+i.F*!e(24)(function(e){Array.from(e)}),"Array",{from:function(e){var i,a,s,l,c=Object(t.assertDefined(e)),u=arguments[1],h=void 0!==u,d=h?n(u,arguments[2],2):void 0,p=0;if(r.is(c))for(l=r.get(c),a=new("function"==typeof this?this:Array);!(s=l.next()).done;p++)a[p]=h?o(l,d,[s.value,p],!0):s.value;else for(a=new("function"==typeof this?this:Array)(i=t.toLength(c.length));i>p;p++)a[p]=h?d(c[p],p):c[p];return a.length=p,a}})},{}],47:[function(e){var t=e(26),n=e(39),i=e(38).safe("iter"),r=e(25),o=r.step,a=r.Iterators;e(23)(Array,"Array",function(e,n){t.set(this,i,{o:t.toObject(e),i:0,k:n})},function(){var e=this[i],t=e.o,n=e.k,r=e.i++;return!t||r>=t.length?(e.o=void 0,o(1)):"keys"==n?o(0,r):"values"==n?o(0,t[r]):o(0,[r,t[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},{}],48:[function(e){var t=e(16);t(t.S,"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)n[e]=arguments[e++];return n.length=t,n}})},{}],49:[function(e){e(32)(Array)},{}],50:[function(e){var t=e(26),n=e(40)("hasInstance"),i=Function.prototype;n in i||t.setDesc(i,n,{value:function(e){if(!t.isFunction(this)||!t.isObject(e))return!1;if(!t.isObject(this.prototype))return e instanceof this;for(;e=t.getProto(e);)if(this.prototype===e)return!0;return!1}})},{}],51:[function(e){"use strict";var t=e(26),n="name",i=t.setDesc,r=Function.prototype;n in r||t.FW&&t.DESC&&i(r,n,{configurable:!0,get:function(){var e=String(this).match(/^\s*function ([^ (]*)/),r=e?e[1]:"";return t.has(this,n)||i(this,n,t.desc(5,r)),r},set:function(e){t.has(this,n)||i(this,n,t.desc(0,e))}})},{}],52:[function(e){"use strict";var t=e(11);e(14)("Map",{get:function(e){var n=t.getEntry(this,e);return n&&n.v},set:function(e,n){return t.def(this,0===e?0:e,n)}},t,!0)},{}],53:[function(e){function t(e){return e+1/m-1/m}function n(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}function i(e){return isFinite(e=+e)&&0!=e?0>e?-i(-e):h(e+d(e*e+1)):e}function r(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:u(e)-1}var o=1/0,a=e(16),s=Math.E,l=Math.pow,c=Math.abs,u=Math.exp,h=Math.log,d=Math.sqrt,p=Math.ceil,f=Math.floor,m=l(2,-52),g=l(2,-23),v=l(2,127)*(2-g),E=l(2,-126);a(a.S,"Math",{acosh:function(e){return(e=+e)<1?0/0:isFinite(e)?h(e/s+d(e+1)*d(e-1)/s)+1:e},asinh:i,atanh:function(e){return 0==(e=+e)?e:h((1+e)/(1-e))/2},cbrt:function(e){return n(e=+e)*l(c(e),1/3)},clz32:function(e){return(e>>>=0)?31-f(h(e+.5)*Math.LOG2E):32},cosh:function(e){return(u(e=+e)+u(-e))/2},expm1:r,fround:function(e){var i,r,a=c(e),s=n(e);return E>a?s*t(a/E/g)*E*g:(i=(1+g/m)*a,r=i-(i-a),r>v||r!=r?s*o:s*r)},hypot:function(){for(var e,t=0,n=arguments.length,i=n,r=Array(n),a=0;n--;){if(e=r[n]=c(arguments[n]),e==o)return o;e>a&&(a=e)}for(a=a||1;i--;)t+=l(r[i]/a,2);return a*d(t)},imul:function(e,t){var n=65535,i=+e,r=+t,o=n&i,a=n&r;return 0|o*a+((n&i>>>16)*a+o*(n&r>>>16)<<16>>>0)},log1p:function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:h(1+e)},log10:function(e){return h(e)/Math.LN10},log2:function(e){return h(e)/Math.LN2},sign:n,sinh:function(e){return c(e=+e)<1?(r(e)-r(-e))/2:(u(e-1)-u(-e-1))*(s/2)},tanh:function(e){var t=r(e=+e),n=r(-e);return t==o?1:n==o?-1:(t-n)/(u(e)+u(-e))},trunc:function(e){return(e>0?f:p)(e)}})},{}],54:[function(e){"use strict";function t(e){var t,n;if(o(t=e.valueOf)&&!r(n=t.call(e)))return n;if(o(t=e.toString)&&!r(n=t.call(e)))return n;throw TypeError("Can't convert object to number")}function n(e){if(r(e)&&(e=t(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var n=!1;switch(e.charCodeAt(1)){case 66:case 98:n=!0;case 79:case 111:return parseInt(e.slice(2),n?2:8)}}return+e}var i=e(26),r=i.isObject,o=i.isFunction,a="Number",s=i.g[a],l=s,c=s.prototype;!i.FW||s("0o1")&&s("0b1")||(s=function(e){return this instanceof s?new l(n(e)):n(e)},i.each.call(i.DESC?i.getNames(l):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){i.has(l,e)&&!i.has(s,e)&&i.setDesc(s,e,i.getDesc(l,e))}),s.prototype=c,c.constructor=s,i.hide(i.g,a,s))},{}],55:[function(e){function t(e){return!n.isObject(e)&&a(e)&&o(e)===e}var n=e(26),i=e(16),r=Math.abs,o=Math.floor,a=n.g.isFinite,s=9007199254740991;i(i.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function(e){return"number"==typeof e&&a(e)},isInteger:t,isNaN:function(e){return e!=e},isSafeInteger:function(e){return t(e)&&r(e)<=s},MAX_SAFE_INTEGER:s,MIN_SAFE_INTEGER:-s,parseFloat:parseFloat,parseInt:parseInt})},{}],56:[function(e){var t=e(16);t(t.S,"Object",{assign:e(9)})},{}],57:[function(e){var t=e(16);t(t.S,"Object",{is:function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}})},{}],58:[function(e){var t=e(16);t(t.S,"Object",{setPrototypeOf:e(31).set})},{}],59:[function(e){function t(e,t){var a=(n.core.Object||{})[e]||Object[e],s=0,l={};l[e]=1==t?function(e){return r(e)?a(e):e}:2==t?function(e){return r(e)?a(e):!0}:3==t?function(e){return r(e)?a(e):!1}:4==t?function(e,t){return a(o(e),t)}:5==t?function(e){return a(Object(n.assertDefined(e)))}:function(e){return a(o(e))};try{a("z")}catch(c){s=1}i(i.S+i.F*s,"Object",l)}var n=e(26),i=e(16),r=n.isObject,o=n.toObject;t("freeze",1),t("seal",1),t("preventExtensions",1),t("isFrozen",2),t("isSealed",2),t("isExtensible",3),t("getOwnPropertyDescriptor",4),t("getPrototypeOf",5),t("keys"),t("getOwnPropertyNames")},{}],60:[function(e){"use strict";function t(){return"[object "+i.classof(this)+"]"}var n=e(26),i=e(10),r=String({}.toString),o={};t.toString=function(){return r},o[e(40)("toStringTag")]="z",n.FW&&"z"!=i(o)&&n.hide(Object.prototype,"toString",t)},{}],61:[function(e){"use strict";function t(e){var t=k(e)[m];return void 0!=t?t:e}function n(e){var t;return C(e)&&(t=e.then),S(t)?t:!1}function i(e){var t=e.c;t.length&&_(function(){function i(t){var i,a,s=o?t.ok:t.fail;try{s?(o||(e.h=!0),i=s===!0?r:s(r),i===t.P?t.rej(TypeError("Promise-chain cycle")):(a=n(i))?a.call(i,t.res,t.rej):t.res(i)):t.rej(r)}catch(l){t.rej(l)}}for(var r=e.v,o=1==e.s,a=0;t.length>a;)i(t[a++]);t.length=0})}function r(e){var t,n=e[g],i=n.a||n.c,o=0;if(n.h)return!1;for(;i.length>o;)if(t=i[o++],t.fail||!r(t.P))return!1;return!0}function o(e){var t,n=this;n.d||(n.d=!0,n=n.r||n,n.v=e,n.s=2,n.a=n.c.slice(),setTimeout(function(){_(function(){r(t=n.p)&&("process"==c(b)?b.emit("unhandledRejection",e,t):E.console&&S(console.error)&&console.error("Unhandled promise rejection",e)),n.a=void 0})},1),i(n))}function a(e){var t,r,s=this;if(!s.d){s.d=!0,s=s.r||s;try{(t=n(e))?(r={r:s,d:!1},t.call(e,l(a,r,1),l(o,r,1))):(s.v=e,s.s=1,i(s))}catch(c){o.call(r||{r:s,d:!1},c)}}}var s=e(26),l=e(15),c=e(10),u=e(16),h=e(8),d=e(19),p=e(31).set,f=e(32),m=e(40)("species"),g=e(38).safe("record"),v="Promise",E=s.g,b=E.process,_=b&&b.nextTick||e(36).set,y=E[v],S=s.isFunction,C=s.isObject,w=h.fn,k=h.obj,A=function(){function e(t){var n=new y(t);return p(n,e.prototype),n}var t,n=!1;try{n=S(y)&&S(y.resolve)&&y.resolve(t=new y(function(){}))==t,p(e,y),e.prototype=s.create(y.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(n=!1)}catch(i){n=!1}return n}();A||(y=function(e){w(e);var t={p:h.inst(this,y,v),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1};s.hide(this,g,t);try{e(l(a,t,1),l(o,t,1))}catch(n){o.call(t,n)}},s.mix(y.prototype,{then:function(e,t){var n=k(k(this).constructor)[m],r={ok:S(e)?e:!0,fail:S(t)?t:!1},o=r.P=new(void 0!=n?n:y)(function(e,t){r.res=w(e),r.rej=w(t)}),a=this[g];return a.c.push(r),a.a&&a.a.push(r),a.s&&i(a),o},"catch":function(e){return this.then(void 0,e)}})),u(u.G+u.W+u.F*!A,{Promise:y}),c.set(y,v),f(y),f(s.core[v]),u(u.S+u.F*!A,v,{reject:function(e){return new(t(this))(function(t,n){n(e)})},resolve:function(e){return C(e)&&g in e&&s.getProto(e)===this.prototype?e:new(t(this))(function(t){t(e)})}}),u(u.S+u.F*!(A&&e(24)(function(e){y.all(e).catch(function(){})})),v,{all:function(e){var n=t(this),i=[];return new n(function(t,r){d(e,!1,i.push,i);var o=i.length,a=Array(o);o?s.each.call(i,function(e,i){n.resolve(e).then(function(e){a[i]=e,--o||t(a)},r)}):t(a)})},race:function(e){var n=t(this);return new n(function(t,i){d(e,!1,function(e){n.resolve(e).then(t,i)})})}})},{}],62:[function(e){function t(e){n.set(this,s,{o:e,k:void 0,i:0})}var n=e(26),i=e(16),r=e(31),o=e(25),a=e(40)("iterator"),s=e(38).safe("iter"),l=o.step,c=e(8),u=n.isObject,h=n.getProto,d=n.g.Reflect,p=Function.apply,f=c.obj,m=Object.isExtensible||n.isObject,g=Object.preventExtensions||n.it,v=!(d&&d.enumerate&&a in d.enumerate({}));o.create(t,"Object",function(){var e,t=this[s],n=t.k;if(void 0==n){t.k=n=[];for(e in t.o)n.push(e)}do if(t.i>=n.length)return l(1);while(!((e=n[t.i++])in t.o));return l(0,e)});var E={apply:function(e,t,n){return p.call(e,t,n)},construct:function(e,t){var i=c.fn(arguments.length<3?e:arguments[2]).prototype,r=n.create(u(i)?i:Object.prototype),o=p.call(e,r,t);return u(o)?o:r},defineProperty:function(e,t,i){f(e);try{return n.setDesc(e,t,i),!0}catch(r){return!1}},deleteProperty:function(e,t){var i=n.getDesc(f(e),t);return i&&!i.configurable?!1:delete e[t]},get:function b(e,t){var i,r=arguments.length<3?e:arguments[2],o=n.getDesc(f(e),t);return o?n.has(o,"value")?o.value:void 0===o.get?void 0:o.get.call(r):u(i=h(e))?b(i,t,r):void 0},getOwnPropertyDescriptor:function(e,t){return n.getDesc(f(e),t)},getPrototypeOf:function(e){return h(f(e))},has:function(e,t){return t in e},isExtensible:function(e){return m(f(e))},ownKeys:e(28),preventExtensions:function(e){f(e);try{return g(e),!0}catch(t){return!1}},set:function _(e,t,i){var r,o,a=arguments.length<4?e:arguments[3],s=n.getDesc(f(e),t);if(!s){if(u(o=h(e)))return _(o,t,i,a);s=n.desc(0)}return n.has(s,"value")?s.writable!==!1&&u(a)?(r=n.getDesc(a,t)||n.desc(0),r.value=i,n.setDesc(a,t,r),!0):!1:void 0===s.set?!1:(s.set.call(a,i),!0)}};r&&(E.setPrototypeOf=function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(n){return!1}}),i(i.G,{Reflect:{}}),i(i.S+i.F*v,"Reflect",{enumerate:function(e){return new t(f(e))}}),i(i.S,"Reflect",E)},{}],63:[function(e){var t=e(26),n=e(10),i=t.g.RegExp,r=i,o=i.prototype,a=/a/g,s=new i(a)!==a,l=function(){try{return"/a/i"==i(a,"i")}catch(e){}}();t.FW&&t.DESC&&(s&&l||(i=function(e,t){var o="RegExp"==n(e),a=void 0===t;return this instanceof i||!o||!a?s?new r(o&&!a?e.source:e,t):new r(o?e.source:e,o&&a?e.flags:t):e},t.each.call(t.getNames(r),function(e){e in i||t.setDesc(i,e,{configurable:!0,get:function(){return r[e]
},set:function(t){r[e]=t}})}),o.constructor=i,i.prototype=o,t.hide(t.g,"RegExp",i)),"g"!=/./g.flags&&t.setDesc(o,"flags",{configurable:!0,get:e(30)(/^.*\/(\w*)$/,"$1")})),e(32)(i)},{}],64:[function(e){"use strict";var t=e(11);e(14)("Set",{add:function(e){return t.def(this,e=0===e?0:e,e)}},t)},{}],65:[function(e){"use strict";var t=e(16),n=e(33)(!1);t(t.P,"String",{codePointAt:function(e){return n(this,e)}})},{}],66:[function(e){"use strict";var t=e(26),n=e(10),i=e(16),r=t.toLength;i(i.P+i.F*!e(37)(function(){"q".endsWith(/./)}),"String",{endsWith:function(e){if("RegExp"==n(e))throw TypeError();var i=String(t.assertDefined(this)),o=arguments[1],a=r(i.length),s=void 0===o?a:Math.min(r(o),a);return e+="",i.slice(s-e.length,s)===e}})},{}],67:[function(e){var t=e(16),n=e(26).toIndex,i=String.fromCharCode,r=String.fromCodePoint;t(t.S+t.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(){for(var e,t=[],r=arguments.length,o=0;r>o;){if(e=+arguments[o++],n(e,1114111)!==e)throw RangeError(e+" is not a valid code point");t.push(65536>e?i(e):i(((e-=65536)>>10)+55296,e%1024+56320))}return t.join("")}})},{}],68:[function(e){"use strict";var t=e(26),n=e(10),i=e(16);i(i.P,"String",{includes:function(e){if("RegExp"==n(e))throw TypeError();return!!~String(t.assertDefined(this)).indexOf(e,arguments[1])}})},{}],69:[function(e){var t=e(26).set,n=e(33)(!0),i=e(38).safe("iter"),r=e(25),o=r.step;e(23)(String,"String",function(e){t(this,i,{o:String(e),i:0})},function(){var e,t=this[i],r=t.o,a=t.i;return a>=r.length?o(1):(e=n(r,a),t.i+=e.length,o(0,e))})},{}],70:[function(e){var t=e(26),n=e(16);n(n.S,"String",{raw:function(e){for(var n=t.toObject(e.raw),i=t.toLength(n.length),r=arguments.length,o=[],a=0;i>a;)o.push(String(n[a++])),r>a&&o.push(String(arguments[a]));return o.join("")}})},{}],71:[function(e){var t=e(16);t(t.P,"String",{repeat:e(35)})},{}],72:[function(e){"use strict";var t=e(26),n=e(10),i=e(16);i(i.P+i.F*!e(37)(function(){"q".startsWith(/./)}),"String",{startsWith:function(e){if("RegExp"==n(e))throw TypeError();var i=String(t.assertDefined(this)),r=t.toLength(Math.min(arguments[1],i.length));return e+="",i.slice(r,r+e.length)===e}})},{}],73:[function(e){"use strict";function t(e){var t=I[e]=l.set(g(S.prototype),w,e);return l.DESC&&C&&E(Object.prototype,e,{configurable:!0,set:function(t){m(this,k)&&m(this[k],e)&&(this[k][e]=!1),E(this,e,b(1,t))}}),t}function n(e,t,n){return n&&m(I,t)&&(n.enumerable?(m(e,k)&&e[k][t]&&(e[k][t]=!1),n.enumerable=!1):(m(e,k)||E(e,k,b(1,{})),e[k][t]=!0)),E(e,t,n)}function i(e,t){f(e);for(var i,r=p(t=y(t)),o=0,a=r.length;a>o;)n(e,i=r[o++],t[i]);return e}function r(e,t){return void 0===t?g(e):i(g(e),t)}function o(e,t){var n=v(e=y(e),t);return!n||!m(I,t)||m(e,k)&&e[k][t]||(n.enumerable=!0),n}function a(e){for(var t,n=_(y(e)),i=[],r=0;n.length>r;)m(I,t=n[r++])||t==k||i.push(t);return i}function s(e){for(var t,n=_(y(e)),i=[],r=0;n.length>r;)m(I,t=n[r++])&&i.push(I[t]);return i}var l=e(26),c=e(10).set,u=e(38),h=e(16),d=e(27),p=e(18),f=e(8).obj,m=l.has,g=l.create,v=l.getDesc,E=l.setDesc,b=l.desc,_=l.getNames,y=l.toObject,S=l.g.Symbol,C=!1,w=u("tag"),k=u("hidden"),A={},I={},N=l.isFunction(S);N||(S=function(e){if(this instanceof S)throw TypeError("Symbol is not a constructor");return t(u(e))},l.hide(S.prototype,"toString",function(){return this[w]}),l.create=r,l.setDesc=n,l.getDesc=o,l.setDescs=i,l.getNames=a,l.getSymbols=s);var T={"for":function(e){return m(A,e+="")?A[e]:A[e]=S(e)},keyFor:function(e){return d(A,e)},useSetter:function(){C=!0},useSimple:function(){C=!1}};l.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(n){var i=e(40)(n);T[n]=N?i:t(i)}),C=!0,h(h.G+h.W,{Symbol:S}),h(h.S,"Symbol",T),h(h.S+h.F*!N,"Object",{create:r,defineProperty:n,defineProperties:i,getOwnPropertyDescriptor:o,getOwnPropertyNames:a,getOwnPropertySymbols:s}),c(S,"Symbol"),c(Math,"Math",!0),c(l.g.JSON,"JSON",!0)},{}],74:[function(e){"use strict";var t=e(26),n=e(13),i=n.leakStore,r=n.ID,o=n.WEAK,a=t.has,s=t.isObject,l=Object.isFrozen||t.core.Object.isFrozen,c={},u=e(14)("WeakMap",{get:function(e){if(s(e)){if(l(e))return i(this).get(e);if(a(e,o))return e[o][this[r]]}},set:function(e,t){return n.def(this,e,t)}},n,!0,!0);t.FW&&7!=(new u).set((Object.freeze||Object)(c),7).get(c)&&t.each.call(["delete","has","get","set"],function(e){var t=u.prototype[e];u.prototype[e]=function(n,r){if(s(n)&&l(n)){var o=i(this)[e](n,r);return"set"==e?this:o}return t.call(this,n,r)}})},{}],75:[function(e){"use strict";var t=e(13);e(14)("WeakSet",{add:function(e){return t.def(this,e,!0)}},t,!1,!0)},{}],76:[function(e){var t=e(16),n=e(6)(!0);t(t.P,"Array",{includes:function(e){return n(this,e,arguments[1])}}),e(39)("includes")},{}],77:[function(e){e(12)("Map")},{}],78:[function(e){var t=e(26),n=e(16),i=e(28);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){var n=t.toObject(e),r={};return t.each.call(i(n),function(e){t.setDesc(r,e,t.desc(0,t.getDesc(n,e)))}),r}})},{}],79:[function(e){function t(e){return function(t){var i,r=n.toObject(t),o=n.getKeys(r),a=o.length,s=0,l=Array(a);if(e)for(;a>s;)l[s]=[i=o[s++],r[i]];else for(;a>s;)l[s]=r[o[s++]];return l}}var n=e(26),i=e(16);i(i.S,"Object",{values:t(!1),entries:t(!0)})},{}],80:[function(e){var t=e(16);t(t.S,"RegExp",{escape:e(30)(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})},{}],81:[function(e){e(12)("Set")},{}],82:[function(e){"use strict";var t=e(16),n=e(33)(!0);t(t.P,"String",{at:function(e){return n(this,e)}})},{}],83:[function(e){"use strict";var t=e(16),n=e(34);t(t.P,"String",{lpad:function(e){return n(this,e,arguments[1],!0)}})},{}],84:[function(e){"use strict";var t=e(16),n=e(34);t(t.P,"String",{rpad:function(e){return n(this,e,arguments[1],!1)}})},{}],85:[function(e){function t(t,i){n.each.call(t.split(","),function(t){void 0==i&&t in r?o[t]=r[t]:t in[]&&(o[t]=e(15)(Function.call,[][t],i))})}var n=e(26),i=e(16),r=n.core.Array||Array,o={};t("pop,reverse,shift,keys,values,entries",1),t("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),t("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),i(i.S,"Array",o)},{}],86:[function(e){e(47);var t=e(26),n=e(25).Iterators,i=e(40)("iterator"),r=n.Array,o=t.g.NodeList;!t.FW||!o||i in o.prototype||t.hide(o.prototype,i,r),n.NodeList=r},{}],87:[function(e){var t=e(16),n=e(36);t(t.G+t.B,{setImmediate:n.set,clearImmediate:n.clear})},{}],88:[function(e){function t(e){return s?function(t,i){return e(r(o,[].slice.call(arguments,2),n.isFunction(t)?t:Function(t)),i)}:e}var n=e(26),i=e(16),r=e(21),o=e(29),a=n.g.navigator,s=!!a&&/MSIE .\./.test(a.userAgent);i(i.G+i.B+i.F*s,{setTimeout:t(n.g.setTimeout),setInterval:t(n.g.setInterval)})},{}],89:[function(e,t){e(41),e(73),e(56),e(57),e(58),e(60),e(59),e(51),e(50),e(54),e(55),e(53),e(67),e(70),e(69),e(65),e(66),e(68),e(71),e(72),e(46),e(48),e(47),e(49),e(42),e(43),e(45),e(44),e(63),e(61),e(52),e(64),e(74),e(75),e(62),e(76),e(82),e(83),e(84),e(80),e(78),e(79),e(77),e(81),e(85),e(88),e(87),e(86),t.exports=e(26).core},{}],90:[function(e,t){(function(e){!function(e){"use strict";function n(e,t,n,i){var o=Object.create((t||r).prototype);return o._invoke=s(e,n||null,new h(i||[])),o}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}function r(){}function o(){}function a(){}function s(e,t,n){var r=b;return function(o,a){if(r===y)throw new Error("Generator is already running");if(r===S)return p();for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===f){n.delegate=null;var l=s.iterator.return;if(l){var c=i(l,s.iterator,a);if("throw"===c.type){o="throw",a=c.arg;continue}}if("return"===o)continue}var c=i(s.iterator[o],s.iterator,a);if("throw"===c.type){n.delegate=null,o="throw",a=c.arg;continue}o="next",a=f;var u=c.arg;if(!u.done)return r=_,u;n[s.resultName]=u.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)r===_?n.sent=a:delete n.sent;else if("throw"===o){if(r===b)throw r=S,a;n.dispatchException(a)&&(o="next",a=f)}else"return"===o&&n.abrupt("return",a);r=y;var c=i(e,t,n);if("normal"===c.type){r=n.done?S:_;var u={value:c.arg,done:n.done};if(c.arg!==C)return u;n.delegate&&"next"===o&&(a=f)}else"throw"===c.type&&(r=S,o="throw",a=c.arg)}}}function l(e){w[e]=function(t){return this._invoke(e,t)}}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function u(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset()}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(m.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=f,r.done=!0,r};return i.next=i}}return{next:p}}function p(){return{value:f,done:!0}}var f,m=Object.prototype.hasOwnProperty,g="function"==typeof Symbol&&Symbol.iterator||"@@iterator",v="object"==typeof t,E=e.regeneratorRuntime;if(E)return void(v&&(t.exports=E));E=e.regeneratorRuntime=v?t.exports:{},E.wrap=n;var b="suspendedStart",_="suspendedYield",y="executing",S="completed",C={},w=a.prototype=r.prototype;o.prototype=w.constructor=a,a.constructor=o,o.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===o||"GeneratorFunction"===(t.displayName||t.name):!1},E.mark=function(e){return e.__proto__=a,e.prototype=Object.create(w),e},E.async=function(e,t,r,o){return new Promise(function(a,s){function l(e,t){var n=i(c[e],c,t);if("throw"===n.type)return void s(n.arg);var r=n.arg;r.done?a(r.value):Promise.resolve(r.value).then(u,h)}var c=n(e,t,r,o),u=l.bind(c,"next"),h=l.bind(c,"throw");u()})},l("next"),l("throw"),l("return"),w[g]=function(){return this},w.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},E.values=d,h.prototype={constructor:h,reset:function(){this.prev=0,this.next=0,this.sent=f,this.done=!1,this.delegate=null,this.tryEntries.forEach(u);for(var e,t=0;m.call(this,e="t"+t)||20>t;++t)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return o.type="throw",o.arg=e,n.next=t,!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=m.call(r,"catchLoc"),s=m.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&m.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?this.next=r.finallyLoc:this.complete(o),C},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc)}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;u(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:d(e),resultName:t,nextLoc:n},C}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],91:[function(e,t){t.exports=e(5)},{}],92:[function(e,t,n){!function(t,i){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(e,n,r){t.Backbone=i(t,r,e,n)});else if("undefined"!=typeof n){var r=e(303);i(t,n,r)}else t.Backbone=i(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(e,t,n,i){{var r=e.Backbone,o=[],a=(o.push,o.slice);o.splice}t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!c(this,"once",e,[t,i])||!t)return this;var r=this,o=n.once(function(){r.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,i)},off:function(e,t,i){var r,o,a,s,l,u,h,d;if(!this._events||!c(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(s=e?[e]:n.keys(this._events),l=0,u=s.length;u>l;l++)if(e=s[l],a=this._events[e]){if(this._events[e]=r=[],t||i)for(h=0,d=a.length;d>h;h++)o=a[h],(t&&t!==o.callback&&t!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&u(n,t),i&&u(i,arguments),this},stopListening:function(e,t,i){var r=this._listeningTo;if(!r)return this;var o=!t&&!i;i||"object"!=typeof t||(i=this),e&&((r={})[e._listenId]=e);for(var a in r)e=r[a],e.off(t,i,this),(o||n.isEmpty(e._events))&&delete this._listeningTo[a];return this}},l=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(i));return!1}return!0},u=function(e,t){var n,i=-1,r=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(e,t){s[t]=function(t,i,r){var o=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=n.uniqueId("l"));return o[a]=t,r||"object"!=typeof i||(r=this),t[e](i,r,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(t,s);var d=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var r,o,a,s,l,c,u,h;if(null==e)return this;if("object"==typeof e?(o=e,i=t):(o={})[e]=t,i||(i={}),!this._validate(o,i))return!1;a=i.unset,l=i.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(r in o)t=o[r],n.isEqual(h[r],t)||s.push(r),n.isEqual(u[r],t)?delete this.changed[r]:this.changed[r]=t,a?delete h[r]:h[r]=t;if(!l){s.length&&(this._pending=i);for(var d=0,p=s.length;p>d;d++)this.trigger("change:"+s[d],this,h[s[d]],i)}if(c)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in e)n.isEqual(r[o],t=e[o])||((i||(i={}))[o]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},B(this,e),this.sync("read",this,e)},save:function(e,t,i){var r,o,a,s=this.attributes;if(null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},s,r)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=s;var t=l.parse(e,i);return i.wait&&(t=n.extend(r||{},t)),n.isObject(t)&&!l.set(t,i)?!1:(c&&c(l,e,i),void l.trigger("sync",l,e,i))},B(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=r),a=this.sync(o,this,i),r&&i.wait&&(this.attributes=s),a},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&r(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;B(this,e);var o=this.sync("delete",this,e);return e.wait||r(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||R();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(e){d.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(f.prototype,s,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,g))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var r,o,a,s;for(r=0,o=e.length;o>r;r++)s=e[r]=this.get(e[r]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,t.silent||(t.index=a,s.trigger("remove",s,this,t)),this._removeReference(s,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var r,o,a,s,l,c,u,h=t.at,p=this.model,f=this.comparator&&null==h&&t.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],E=[],b={},_=t.add,y=t.merge,S=t.remove,C=!f&&_&&S?[]:!1;for(r=0,o=e.length;o>r;r++){if(l=e[r]||{},a=l instanceof d?s=l:l[p.prototype.idAttribute||"id"],c=this.get(a))S&&(b[c.cid]=!0),y&&(l=l===s?s.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!u&&c.hasChanged(g)&&(u=!0)),e[r]=c;else if(_){if(s=e[r]=this._prepareModel(l,t),!s)continue;v.push(s),this._addReference(s,t)}s=c||s,!C||!s.isNew()&&b[s.id]||C.push(s),b[s.id]=!0}if(S){for(r=0,o=this.length;o>r;++r)b[(s=this.models[r]).cid]||E.push(s);E.length&&this.remove(E,t)}if(v.length||C&&C.length)if(f&&(u=!0),this.length+=v.length,null!=h)for(r=0,o=v.length;o>r;r++)this.models.splice(h+r,0,v[r]);else{C&&(this.models.length=0);var w=C||v;for(r=0,o=w.length;o>r;r++)this.models.push(w[r])}if(u&&this.sort({silent:!0}),!t.silent){for(r=0,o=v.length;o>r;r++)(s=v[r]).trigger("add",s,this,t);(u||C&&C.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},B(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,r=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),r&&r(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){f.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var E=["groupBy","countBy","sortBy","indexBy"];n.each(E,function(e){f.prototype[e]=function(t,i){var r=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,r,i)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,y)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,y=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var r=t.match(_),o=r[1],a=r[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,i):this.$el.on(o,a,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,r){var o=C[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||R()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||r.emulateJSON||(a.processData=!1),"PATCH"===a.type&&S&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=t.ajax(n.extend(a,r));return i.trigger("request",i,l,r),l};var S=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var w=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,I=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,s,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);o.execute(r,a),o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),t.history.trigger("route",o,i,a)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(k,"(?:$1)?").replace(A,function(e,t){return t?e:"([^/?]+)"}).replace(I,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var T=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,M=/msie [\w.]+/,x=/\/$/,P=/#.*$/;T.started=!1,n.extend(T.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(x,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(O,"")},start:function(e){if(T.started)throw new Error("Backbone.history has already been started");T.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,o=M.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(D,"/"),o&&this._wantsHashChange){var a=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),T.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!T.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(P,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new T;var L=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=f.extend=w.extend=b.extend=T.extend=L;var R=function(){throw new Error('A "url" property or function must be specified')},B=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t})},{}],93:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");
return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,s=new Array(r-1),l=1;r>l;l++)s[l-1]=arguments[l];n.apply(this,s)}else if(o(n)){for(r=arguments.length,s=new Array(r-1),l=1;r>l;l++)s[l-1]=arguments[l];for(c=n.slice(),r=c.length,l=0;r>l;l++)c[l].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var r;r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],94:[function(e,t,n){(function(e){function t(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(i(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),o="/"===a(e,-1);return e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=i(e.split("/")),o=i(t.split("/")),a=Math.min(r.length,o.length),s=a,l=0;a>l;l++)if(r[l]!==o[l]){s=l;break}for(var c=[],l=s;l<r.length;l++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e(95))},{}],95:[function(e,t){function n(){c=!1,a.length?l=a.concat(l):u=-1,l.length&&i()}function i(){if(!c){var e=setTimeout(n);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a[u].run();u=-1,t=l.length}a=null,c=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function o(){}var a,s=t.exports={},l=[],c=!1,u=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new r(e,t)),c||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],96:[function(e,t,n){(function(e){!function(i){function r(e){throw RangeError(x[e])}function o(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function a(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(M,".");var r=e.split("."),a=o(r,t).join(".");return i+a}function s(e){for(var t,n,i=[],r=0,o=e.length;o>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&o>r?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function l(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function c(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:S}function u(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var i=0;for(e=n?L(e/A):e>>1,e+=L(e/t);e>P*w>>1;i+=S)e=L(e/P);return L(i+(P+1)*e/(e+k))}function d(e){var t,n,i,o,a,s,u,d,p,f,m=[],g=e.length,v=0,E=N,b=I;for(n=e.lastIndexOf(T),0>n&&(n=0),i=0;n>i;++i)e.charCodeAt(i)>=128&&r("not-basic"),m.push(e.charCodeAt(i));for(o=n>0?n+1:0;g>o;){for(a=v,s=1,u=S;o>=g&&r("invalid-input"),d=c(e.charCodeAt(o++)),(d>=S||d>L((y-v)/s))&&r("overflow"),v+=d*s,p=b>=u?C:u>=b+w?w:u-b,!(p>d);u+=S)f=S-p,s>L(y/f)&&r("overflow"),s*=f;t=m.length+1,b=h(v-a,t,0==a),L(v/t)>y-E&&r("overflow"),E+=L(v/t),v%=t,m.splice(v++,0,E)}return l(m)}function p(e){var t,n,i,o,a,l,c,d,p,f,m,g,v,E,b,_=[];for(e=s(e),g=e.length,t=N,n=0,a=I,l=0;g>l;++l)m=e[l],128>m&&_.push(R(m));for(i=o=_.length,o&&_.push(T);g>i;){for(c=y,l=0;g>l;++l)m=e[l],m>=t&&c>m&&(c=m);for(v=i+1,c-t>L((y-n)/v)&&r("overflow"),n+=(c-t)*v,t=c,l=0;g>l;++l)if(m=e[l],t>m&&++n>y&&r("overflow"),m==t){for(d=n,p=S;f=a>=p?C:p>=a+w?w:p-a,!(f>d);p+=S)b=d-f,E=S-f,_.push(R(u(f+b%E,0))),d=L(b/E);_.push(R(u(d,0))),a=h(n,v,i==o),n=0,++i}++n,++t}return _.join("")}function f(e){return a(e,function(e){return O.test(e)?d(e.slice(4).toLowerCase()):e})}function m(e){return a(e,function(e){return D.test(e)?"xn--"+p(e):e})}var g="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof t&&t&&!t.nodeType&&t,E="object"==typeof e&&e;(E.global===E||E.window===E||E.self===E)&&(i=E);var b,_,y=2147483647,S=36,C=1,w=26,k=38,A=700,I=72,N=128,T="-",O=/^xn--/,D=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=S-C,L=Math.floor,R=String.fromCharCode;if(b={version:"1.3.2",ucs2:{decode:s,encode:l},decode:d,encode:p,toASCII:m,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(g&&v)if(t.exports==g)v.exports=b;else for(_ in b)b.hasOwnProperty(_)&&(g[_]=b[_]);else i.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],97:[function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;c>u;++u){var h,d,p,f,m=e[u].replace(s,"%20"),g=m.indexOf(r);g>=0?(h=m.substr(0,g),d=m.substr(g+1)):(h=m,d=""),p=decodeURIComponent(h),f=decodeURIComponent(d),n(a,p)?i(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],98:[function(e,t){"use strict";function n(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?n(o(e),function(o){var s=encodeURIComponent(i(o))+a;return r(e[o])?n(e[o],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[o]))}).join(t):s?encodeURIComponent(i(s))+a+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],99:[function(e,t,n){"use strict";n.decode=n.parse=e(97),n.encode=n.stringify=e(98)},{}],100:[function(e,t,n){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,n){if(e&&c(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}function o(e){return l(e)&&(e=r(e)),e instanceof i?e.format():i.prototype.format.call(e)}function a(e,t){return r(e,!1,!0).resolve(t)}function s(e,t){return e?r(e,!1,!0).resolveObject(t):t}function l(e){return"string"==typeof e}function c(e){return"object"==typeof e&&null!==e}function u(e){return null===e}function h(e){return null==e}var d=e(96);n.parse=r,n.resolve=a,n.resolveObject=s,n.format=o,n.Url=i;var p=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(m),v=["'"].concat(g),E=["%","/","?",";","#"].concat(v),b=["/","?","#"],_=255,y=/^[a-z0-9A-Z_-]{0,63}$/,S=/^([a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=e(99);i.prototype.parse=function(e,t,n){if(!l(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e;i=i.trim();var r=p.exec(i);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,i=i.substr(r.length)}if(n||r||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===i.substr(0,2);!a||r&&w[r]||(i=i.substr(2),this.slashes=!0)}if(!w[r]&&(a||r&&!k[r])){for(var s=-1,c=0;c<b.length;c++){var u=i.indexOf(b[c]);-1!==u&&(-1===s||s>u)&&(s=u)}var h,f;f=-1===s?i.lastIndexOf("@"):i.lastIndexOf("@",s),-1!==f&&(h=i.slice(0,f),i=i.slice(f+1),this.auth=decodeURIComponent(h)),s=-1;for(var c=0;c<E.length;c++){var u=i.indexOf(E[c]);-1!==u&&(-1===s||s>u)&&(s=u)}-1===s&&(s=i.length),this.host=i.slice(0,s),i=i.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),c=0,I=g.length;I>c;c++){var N=g[c];if(N&&!N.match(y)){for(var T="",O=0,D=N.length;D>O;O++)T+=N.charCodeAt(O)>127?"x":N[O];if(!T.match(y)){var M=g.slice(0,c),x=g.slice(c+1),P=N.match(S);P&&(M.push(P[1]),x.unshift(P[2])),x.length&&(i="/"+x.join(".")+i),this.hostname=M.join(".");break}}}if(this.hostname=this.hostname.length>_?"":this.hostname.toLowerCase(),!m){for(var L=this.hostname.split("."),R=[],c=0;c<L.length;++c){var B=L[c];R.push(B.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(B):B)}this.hostname=R.join(".")}var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!C[o])for(var c=0,I=v.length;I>c;c++){var W=v[c],H=encodeURIComponent(W);H===W&&(H=escape(W)),i=i.split(W).join(H)}var G=i.indexOf("#");-1!==G&&(this.hash=i.substr(G),i=i.slice(0,G));var V=i.indexOf("?");if(-1!==V?(this.search=i.substr(V),this.query=i.substr(V+1),t&&(this.query=A.parse(this.query)),i=i.slice(0,V)):t&&(this.search="",this.query={}),i&&(this.pathname=i),k[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",B=this.search||"";this.path=F+B}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=A.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&r!==!1?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+r+n+a+i},i.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(l(e)){var t=new i;t.parse(e,!1,!0),e=t}var n=new i;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),k[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!k[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||w[e.protocol])n.pathname=e.pathname;else{for(var r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=c||s||n.host&&e.pathname,p=d,f=n.pathname&&n.pathname.split("/")||[],r=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!k[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===f[0]?f[0]=n.host:f.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),d=d&&(""===r[0]||""===f[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,f=r;else if(r.length)f||(f=[]),f.pop(),f=f.concat(r),n.search=e.search,n.query=e.query;else if(!h(e.search)){if(m){n.hostname=n.host=f.shift();var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=e.search,n.query=e.query,u(n.pathname)&&u(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!f.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var v=f.slice(-1)[0],E=(n.host||e.host)&&("."===v||".."===v)||""===v,b=0,_=f.length;_>=0;_--)v=f[_],"."==v?f.splice(_,1):".."===v?(f.splice(_,1),b++):b&&(f.splice(_,1),b--);if(!d&&!p)for(;b--;b)f.unshift("..");!d||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),E&&"/"!==f.join("/").substr(-1)&&f.push("");var y=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(m){n.hostname=n.host=y?"":f.length?f.shift():"";var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return d=d||n.host&&f.length,d&&!y&&f.unshift(""),f.length?n.pathname=f.join("/"):(n.pathname=null,n.path=null),u(n.pathname)&&u(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{}],101:[function(e,t){(function(n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;s=c=l=void 0,i=!1;var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=o,n=a,i=!0}},s=e(286),l=e(93).EventEmitter,c="0",u="1",h="2",d=s({Created:null,Removed:null,Changed:null,Moved:null,ChildrenReordered:null,ImportBegan:null,ImportEnded:null}),p=function m(e){r(this,m),this.id=e.id,this.parentId=e.parentId,this.index=e.index,this.url=e.url,this.title=e.title||"",this.speeddial=e.speeddial,this.dateAdded=e.dateAdded||Date.now(),this.dateGroupModified=e.dateGroupModified,this.unmodifiable="managed",this.children=e.children||[]},f=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.bookmarksBarFolder=new p({id:u,title:"Bookmarks Bar"}),this.otherBookmarksFolder=new p({id:h,title:"Other Bookmarks"}),this.rootFolder=new p({id:c,title:"",children:[this.bookmarksBarFolder,this.otherBookmarksFolder]}),this.nextId=3,this.bookmarkItems={},this.bookmarkItems[this.rootFolder.id]=this.rootFolder,this.bookmarkItems[this.bookmarksBarFolder.id]=this.bookmarksBarFolder,this.bookmarkItems[this.otherBookmarksFolder.id]=this.otherBookmarksFolder,this.recentBookmarks=[],this.onChanged={addListener:this.addEventListener.bind(this,d.Changed)},this.onCreated={addListener:this.addEventListener.bind(this,d.Created)},this.onRemoved={addListener:this.addEventListener.bind(this,d.Removed)},this.onMoved={addListener:this.addEventListener.bind(this,d.Moved)},this.onChildrenReordered={addListener:this.addEventListener.bind(this,d.ChildrenReordered)},this.onImportBegan={addListener:this.addEventListener.bind(this,d.ImportBegan)},this.onImportEnded={addListener:this.addEventListener.bind(this,d.ImportEnded)}}return i(t,e),o(t,[{key:"get",value:function(e,t){var i=this,r=[].concat(e),o=r.map(function(e){return i.bookmarkItems[e]});n.nextTick(function(){return t&&t(o)})}},{key:"getTree",value:function(e){var t=this;n.nextTick(function(){return e&&e([t.rootFolder])})}},{key:"getSubTree",value:function(e,t){var i=this.bookmarkItems[e];n.nextTick(function(){return t&&t([i])})}},{key:"create",value:function(e,t){var i=this._getParent(e.parentId),r=new p({id:String(this.nextId++),parentId:i.id,title:e.title,url:e.url,speeddial:e.speeddial});this._addChild(i,r,e.index),this.recentBookmarks.push(r),this.bookmarkItems[r.id]=r,n.nextTick(function(){t&&t(r),this.emit(d.Created,r)}.bind(this))}},{key:"move",value:function(e,t,i){var r=this.bookmarkItems[e],o=r.index,a=this._getParent(r.parentId);this._removeChild(a,r);var s=this._getParent(t.parentId);this._addChild(s,r,t.index),n.nextTick(function(){i&&i(r),this.emit(d.Moved,{parentId:s.id,index:r.index,oldParentId:a.id,oldIndex:o})}.bind(this))}},{key:"update",value:function(e,t,i){var r=this.bookmarkItems[e];r.title=t.title||r.title,r.url=t.url||r.title,r.speeddial=void 0!==t.speeddial?t.speeddial:r.speeddial,n.nextTick(function(){i&&i(r),this.emit(d.Changed,{title:r.title,url:r.url})}.bind(this))}},{key:"remove",value:function(e,t){var i=this.bookmarkItems[e];this._removeChild(this._getParent(i.parentId),i),n.nextTick(function(){t&&t(),this.emit(d.Removed,{parentId:i.parentId,index:i.index})}.bind(this))}},{key:"removeTree",value:function(e,t){var i=this.bookmarkItems[e];this._removeChild(this._getParent(i.parentId),i),this._removeChildren(i),n.nextTick(function(){return t&&t()})}},{key:"getChildren",value:function(e,t){var i=this.bookmarkItems[e];n.nextTick(function(){return t&&t(i.children)})}},{key:"search",value:function(e,t){t&&t([])}},{key:"getRecent",value:function(e,t){n.nextTick(function(){t&&t(this.recentBookmarks.reverse().slice(0,e))}.bind(this))}},{key:"addEventListener",value:function(e,t){this.on(e,t)}},{key:"_getParent",value:function(e){return e&&this.bookmarkItems[e]?this.bookmarkItems[e]:this.otherBookmarksFolder}},{key:"_addChild",value:function(e,t,n){n?e.children.splice(n,0,t):e.children=(e.children||[]).concat(t),this._updateIndexes(e)}},{key:"_removeChild",value:function(e,t){e.children=e.children.filter(function(e){return e!==t}),this._updateIndexes(e)}},{key:"_removeChildren",value:function(e){var t=this;e.children.forEach(function(e){return t._removeChildren(e)}),e.children=null}},{key:"_updateIndexes",value:function(e){for(var t=0;t<e.children.length;t++)e.children.index=t}}]),t}(l);t.exports=f}).call(this,e(95))},{}],102:[function(e,t){(function(n){"use strict";function i(e,t){return String.fromCharCode(parseInt(t))}var r=e(101),o=e(103),a=e(104);window.vivaldiWindowId=42;var s=new RegExp("_([0-9]+)_","g"),l={app:{window:{current:function(){return{isMaximized:function(){return!0},onMaximized:{addListener:function(){}},onMinimized:{addListener:function(){}},onFullscreened:{addListener:function(){}},onRestored:{addListener:function(){}},show:function(){}}}}},bookmarks:new r,downloads:{onCreated:{addListener:function(){}},onChanged:{addListener:function(){}},onErased:{addListener:function(){}},onDeterminingFilename:{addListener:function(){}},search:function(){},setShelfEnabled:function(){},pause:function(){},resume:function(){},erase:function(){}},extension:{getURL:function(e){return e}},history:{search:function(e,t){t([])},onVisitRemoved:{addListener:function(){}}},i18n:{getMessage:function(e,t){var n=e.replace(s,i);return Array.isArray(t)&&(t.length>0&&(n=n.replace("$1",t[0])),t.length>1&&(n=n.replace("$2",t[1])),t.length>2&&(n=n.replace("$3",t[2])),t.length>3&&(n=n.replace("$4",t[3])),t.length>4&&(n=n.replace("$5",t[4])),t.length>5&&(n=n.replace("$6",t[5])),t.length>6&&(n=n.replace("$7",t[6])),t.length>7&&(n=n.replace("$8",t[7])),t.length>8&&(n=n.replace("$9",t[8]))),n.substring(0,n.length-1)},getUILanguage:function(){return"en-US"}},notifications:{create:function(){},update:function(){},clear:function(){},getAll:function(){},getPermissionLevel:function(){},onClosed:{addListener:function(){},removeListener:function(){}},onClicked:{addListener:function(){},removeListener:function(){}},onButtonClicked:{addListener:function(){},removeListener:function(){}},onPermissionLevelChanged:{addListener:function(){},removeListener:function(){}},onShowSettings:{addListener:function(){},removeListener:function(){}}},runtime:{sendMessage:function(){},onMessage:{addListener:function(){}},getPlatformInfo:function(){},getPackageDirectoryEntry:function(){}},sessions:{getRecentlyClosed:function(){},onChanged:{addListener:function(){}}},topSites:{get:function(e){n.nextTick(e.bind(this,[]))}},showMenu:{canShowMenu:function(){return!1}},savedpasswords:{getSavedPasswordList:function(){return[]}},settings:{getPreference:function(e){e([])},setPreference:function(){}},storage:{onChanged:{addListener:function(){}},local:{get:function(){},set:function(){}}},tabs:new o,windows:new a,contentSettings:{popups:{set:function(){},get:function(){}},javascript:{set:function(){},get:function(){}}}};t.exports=l}).call(this,e(95))},{}],103:[function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e(286),o=e(116),a=e(93),s=a.EventEmitter,l=function(){},c=r({Created:null,Updated:null,Moved:null,SelectionChanged:null,ActiveChanged:null,Activated:null,HighlightChanged:null,Highlighted:null,Detached:null,Attached:null,Removed:null,Replaced:null,ZoomChange:null}),u=o.fromJS({id:null,index:null,windowId:window.vivaldiWindowId,openerTabId:null,selected:null,highlighted:null,active:!0,pinned:null,url:null,title:null,favIconUrl:null,status:null,incognito:null,width:null,height:null,sessionId:null}),h=0,d=function(){function e(){var t=this;n(this,e),this.tabs=o.List(),this.eventEmitter=new s,this.eventEmitter.setMaxListeners(100),Object.keys(c).forEach(function(e){t["on"+e]={addListener:t.addEventListener.bind(t,c[e])}})}return i(e,[{key:"addEventListener",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"get",value:function(e){var t=void 0===arguments[1]?l:arguments[1];t(this.tabs.find(function(t){return t.id===e}))}},{key:"getCurrent",value:function(){var e=void 0===arguments[0]?l:arguments[0];e(this.tabs.first())}},{key:"connect",value:function(){}},{key:"sendMessage",value:function(){}},{key:"duplicate",value:function(){void 0===arguments[1]?l:arguments[1]}},{key:"highlight",value:function(){}},{key:"sendRequest",value:function(){}},{key:"getSelected",value:function(){}},{key:"getAllInWindow",value:function(){}},{key:"create",value:function(e){var t=void 0===arguments[1]?l:arguments[1],n=u.merge({id:h++}).merge(e);this.tabs=this.tabs.push(n),t(n.toJS()),this.eventEmitter.emit(c.Created,n.toJS()),n.get("active")&&this.eventEmitter.emit(c.Activated,n.toJS())}},{key:"query",value:function t(e){var n=void 0===arguments[1]?l:arguments[1],t=o.fromJS(e);n(this.tabs.filter(function(e){return t.isSubset(e)}).toJS())}},{key:"update",value:function r(e,t){var n=void 0===arguments[2]?l:arguments[2],i=this.tabs.find(function(t){return t.get("id")===e}),r=o.fromJS(t);i&&r&&(i=i.merge(r)),n(i),this.eventEmitter.emit(c.Update,i.get("id"),{status:"complete",url:i.get("url"),pinned:i.get("pinned"),favIconUrl:i.get("favIconUrl")},i.toJS()),i.get("active")&&this.eventEmitter.emit(c.Activated,{tabId:i.get("id"),windowId:window.vivaldiWindowId})}},{key:"move",value:function(){}},{key:"reload",value:function(){}},{key:"remove",value:function(){}},{key:"detectLanguage",value:function(){}},{key:"captureVisibleTab",value:function(){}},{key:"executeScript",value:function(){}},{key:"insertCSS",value:function(){}},{key:"setZoom",value:function(){}},{key:"getZoom",value:function(){}},{key:"setZoomSettings",value:function(){}},{key:"getZoomSettings",value:function(){}}]),e}();t.exports=d},{}],104:[function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e(286),o=e(116),a=e(93),s=a.EventEmitter,l=r({onCreated:null,onRemoved:null,onFocusChanged:null}),c=(r({normal:null,popup:null,panel:null,app:null}),o.fromJS({id:null,focused:null,top:null,left:null,width:null,height:null,tabs:null,incognito:null,type:null,state:null,alwaysOnTop:null,sessionId:null}),function(){function e(){var t=this;n(this,e),this.WINDOW_ID_NONE=-1,this.WINDOW_ID_CURRENT=-2,this.windows=o.List(),this.eventEmitter=new s,Object.keys(l).forEach(function(e){t["on"+e]={addListener:t.addEventListener.bind(t,l[e])}})}return i(e,[{key:"addEventListener",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"get",value:function(){}},{key:"getCurrent",value:function(){}},{key:"getLastFocused",value:function(){}},{key:"getAll",value:function(){}},{key:"create",value:function(){}},{key:"update",value:function(){}},{key:"remove",value:function(){}}]),e}());t.exports=c},{}],105:[function(e,t){"use strict";t.exports="object"==typeof window.chrome&&"object"==typeof window.chrome.storage?window.chrome:e(102)},{}],106:[function(e,t){function n(){"use strict";for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e+=" "+i;else if(Array.isArray(i))e+=" "+n.apply(null,i);else if("object"===r)for(var o in i)i.hasOwnProperty(o)&&i[o]&&(e+=" "+o)}}return e.substr(1)}"undefined"!=typeof t&&t.exports&&(t.exports=n),"undefined"!=typeof define&&define.amd&&define("classnames",[],function(){return n})},{}],107:[function(e,t){!function(e){"use strict";var n="cuid",i=0,r=4,o=36,a=Math.pow(o,r),s=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},l=function(){return s((Math.random()*a<<0).toString(o),r)},c=function(){return i=a>i?i:0,i++,i-1},u=function(){var e,t="c",n=(new Date).getTime().toString(o),i=u.fingerprint(),a=l()+l();return e=s(c().toString(o),r),t+n+e+i+a};u.slug=function(){var e,t=(new Date).getTime().toString(36),n=u.fingerprint().slice(0,1)+u.fingerprint().slice(-1),i=l().slice(-2);return e=c().toString(36).slice(-4),t.slice(-2)+e+n+i},u.globalCount=function(){var e=function(){var e,t=0;for(e in window)t++;return t}();return u.globalCount=function(){return e},e},u.fingerprint=function(){return s((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+u.globalCount().toString(36),4)},e.register?e.register(n,u):"undefined"!=typeof t?t.exports=u:e[n]=u}(this.applitude||this)},{}],108:[function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,i),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?l.removeItem("debug"):l.debug=e}catch(t){}}function s(){var e;try{e=l.debug}catch(t){}return e}n=t.exports=e(109),n.log=o,n.formatArgs=r,n.save=a,n.load=s,n.useColors=i;var l;l="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:window.localStorage,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)
},n.enable(s())},{}],109:[function(e,t,n){function i(){return n.colors[u++%n.colors.length]}function r(e){function t(){}function r(){var e=r,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=i());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,i){if("%%"===t)return t;s++;var r=n.formatters[i];if("function"==typeof r){var o=a[s];t=r.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var l=r.log||n.log||console.log.bind(console);l.apply(e,a)}t.enabled=!1,r.enabled=!0;var o=n.enabled(e)?r:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,r=0;i>r;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,i;for(t=0,i=n.skips.length;i>t;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;i>t;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=r,n.coerce=l,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e(110),n.names=[],n.skips=[],n.formatters={};var c,u=0},{}],110:[function(e,t){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"y":return n*u;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"h":return n*l;case"minutes":case"minute":case"m":return n*s;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function i(e){return e>=c?Math.round(e/c)+"d":e>=l?Math.round(e/l)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function r(e){return o(e,c,"day")||o(e,l,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,l=60*s,c=24*l,u=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t.long?r(e):i(e)}},{}],111:[function(e,t){"use strict";t.exports=function(e,t,n){var i=[];return Array.isArray(e)?(e.forEach(function(e,r,o){var a=t.call(n,e,r,o);Array.isArray(a)?i.push.apply(i,a):null!=a&&i.push(a)}),i):i}},{}],112:[function(e,t){t.exports.Dispatcher=e(113)},{}],113:[function(e,t){"use strict";function n(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var i=e(114),r=1,o="ID_";n.prototype.register=function(e){var t=o+r++;return this.$Dispatcher_callbacks[t]=e,t},n.prototype.unregister=function(e){i(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},n.prototype.waitFor=function(e){i(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this.$Dispatcher_isPending[n]?i(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(i(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},n.prototype.dispatch=function(e){i(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},n.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},n.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},n.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},n.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=n},{}],114:[function(e,t){"use strict";var n=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,a,s],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=n},{}],115:[function(e,t,n){(function(){var e=this,i=e.humanize,r={};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=r),n.humanize=r):("function"==typeof define&&define.amd&&define("humanize",function(){return r}),e.humanize=r),r.noConflict=function(){return e.humanize=i,this},r.pad=function(e,t,n,i){if(e+="",n?n.length>1&&(n=n.charAt(0)):n=" ",i=void 0===i?"left":"right","right"===i)for(;e.length<t;)e+=n;else for(;e.length<t;)e=n+e;return e},r.time=function(){return(new Date).getTime()/1e3};var o=[0,0,31,59,90,120,151,181,212,243,273,304,334],a=[0,0,31,60,91,121,152,182,213,244,274,305,335];r.date=function(e,t){var n=void 0===t?new Date:new Date(t instanceof Date?t:1e3*t),i=/\\?([a-z])/gi,s=function(e,t){return u[e]?u[e]():t},l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],u={d:function(){return r.pad(u.j(),2,"0")},D:function(){return u.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return l[u.w()]},N:function(){return u.w()||7},S:function(){var e=u.j();return e>4&&21>e?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th"},w:function(){return n.getDay()},z:function(){return(u.L()?a[u.n()]:o[u.n()])+u.j()-1},W:function(){var e=u.z()-u.N()+1.5;return r.pad(1+Math.floor(Math.abs(e)/7)+(e%7>3.5?1:0),2,"0")},F:function(){return c[n.getMonth()]},m:function(){return r.pad(u.n(),2,"0")},M:function(){return u.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(u.Y(),u.n(),0).getDate()},L:function(){return 1===new Date(u.Y(),1,29).getMonth()?1:0},o:function(){var e=u.n(),t=u.W();return u.Y()+(12===e&&9>t?-1:1===e&&t>9)},Y:function(){return n.getFullYear()},y:function(){return String(u.Y()).slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return u.a().toUpperCase()},B:function(){var e=n.getTime()/1e3,t=e%86400+3600;0>t&&(t+=86400);var i=t/86.4%1e3;return 0>e?Math.ceil(i):Math.floor(i)},g:function(){return u.G()%12||12},G:function(){return n.getHours()},h:function(){return r.pad(u.g(),2,"0")},H:function(){return r.pad(u.G(),2,"0")},i:function(){return r.pad(n.getMinutes(),2,"0")},s:function(){return r.pad(n.getSeconds(),2,"0")},u:function(){return r.pad(1e3*n.getMilliseconds(),6,"0")},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+r.pad(100*Math.floor(t/60)+t%60,4,"0")},P:function(){var e=u.O();return e.substr(0,3)+":"+e.substr(3,2)},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,s)},r:function(){return"D, d M Y H:i:s O".replace(i,s)},U:function(){return n.getTime()/1e3||0}};return e.replace(i,s)},r.numberFormat=function(e,t,n,i){t=isNaN(t)?2:Math.abs(t),n=void 0===n?".":n,i=void 0===i?",":i;var r=0>e?"-":"";e=Math.abs(+e||0);var o=parseInt(e.toFixed(t),10)+"",a=o.length>3?o.length%3:0;return r+(a?o.substr(0,a)+i:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?n+Math.abs(e-o).toFixed(t).slice(2):"")},r.naturalDay=function(e,t){e=void 0===e?r.time():e,t=void 0===t?"Y-m-d":t;var n=86400,i=new Date,o=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()/1e3;return o>e&&e>=o-n?"yesterday":e>=o&&o+n>e?"today":e>=o+n&&o+2*n>e?"tomorrow":r.date(t,e)},r.relativeTime=function(e){e=void 0===e?r.time():e;var t=r.time(),n=t-e;if(2>n&&n>-2)return(n>=0?"just ":"")+"now";if(60>n&&n>-60)return n>=0?Math.floor(n)+" seconds ago":"in "+Math.floor(-n)+" seconds";if(120>n&&n>-120)return n>=0?"about a minute ago":"in about a minute";if(3600>n&&n>-3600)return n>=0?Math.floor(n/60)+" minutes ago":"in "+Math.floor(-n/60)+" minutes";if(7200>n&&n>-7200)return n>=0?"about an hour ago":"in about an hour";if(86400>n&&n>-86400)return n>=0?Math.floor(n/3600)+" hours ago":"in "+Math.floor(-n/3600)+" hours";var i=172800;if(i>n&&n>-i)return n>=0?"1 day ago":"in 1 day";var o=2505600;if(o>n&&n>-o)return n>=0?Math.floor(n/86400)+" days ago":"in "+Math.floor(-n/86400)+" days";var a=5184e3;if(a>n&&n>-a)return n>=0?"about a month ago":"in about a month";var s=parseInt(r.date("Y",t),10),l=parseInt(r.date("Y",e),10),c=12*s+parseInt(r.date("n",t),10),u=12*l+parseInt(r.date("n",e),10),h=c-u;if(12>h&&h>-12)return h>=0?h+" months ago":"in "+-h+" months";var d=s-l;return 2>d&&d>-2?d>=0?"a year ago":"in a year":d>=0?d+" years ago":"in "+-d+" years"},r.ordinal=function(e){e=parseInt(e,10),e=isNaN(e)?0:e;var t=0>e?"-":"";e=Math.abs(e);var n=e%100;return t+e+(n>4&&21>n?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th")},r.filesize=function(e,t,n,i,o,a){return t=void 0===t?1024:t,0>=e?"0 bytes":(t>e&&void 0===n&&(n=0),void 0===a&&(a=" "),r.intword(e,["bytes","KB","MB","GB","TB","PB"],t,n,i,o,a))},r.intword=function(e,t,n,i,o,a,s){var l,c;t=t||["","K","M","B","T"],c=t.length-1,n=n||1e3,i=isNaN(i)?2:Math.abs(i),o=o||".",a=a||",",s=s||"";for(var u=0;u<t.length;u++)if(e<Math.pow(n,u+1)){c=u;break}l=e/Math.pow(n,c);var h=t[c]?s+t[c]:"";return r.numberFormat(l,i,o,a)+h},r.linebreaks=function(e){return e=e.replace(/^([\n|\r]*)/,""),e=e.replace(/([\n|\r]*)$/,""),e=e.replace(/(\r\n|\n|\r)/g,"\n"),e=e.replace(/(\n{2,})/g,"</p><p>"),e=e.replace(/\n/g,"<br />"),"<p>"+e+"</p>"},r.nl2br=function(e){return e.replace(/(\r\n|\n|\r)/g,"<br />")},r.truncatechars=function(e,t){return e.length<=t?e:e.substr(0,t)+""},r.truncatewords=function(e,t){var n=e.split(" ");return n.length<t?e:n.slice(0,t).join(" ")+""}}).call(this)},{}],116:[function(e,t,n){!function(e,i){"object"==typeof n&&"undefined"!=typeof t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.Immutable=i()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return e.value=!1,e}function n(e){e&&(e.value=!0)}function i(){}function r(e,t){t=t||0;for(var n=Math.max(0,e.length-t),i=new Array(n),r=0;n>r;r++)i[r]=e[r+t];return i}function o(e){return void 0===e.size&&(e.size=e.__iterate(s)),e.size}function a(e,t){return t>=0?+t:o(e)+ +t}function s(){return!0}function l(e,t,n){return(0===e||void 0!==n&&-n>=e)&&(void 0===t||void 0!==n&&t>=n)}function c(e,t){return h(e,t,0)}function u(e,t){return h(e,t,t)}function h(e,t,n){return void 0===e?n:0>e?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function d(e){return g(e)?e:T(e)}function p(e){return v(e)?e:O(e)}function f(e){return E(e)?e:D(e)}function m(e){return g(e)&&!b(e)?e:M(e)}function g(e){return!(!e||!e[mi])}function v(e){return!(!e||!e[gi])}function E(e){return!(!e||!e[vi])}function b(e){return v(e)||E(e)}function _(e){return!(!e||!e[Ei])}function y(e){this.next=e}function S(e,t,n,i){var r=0===e?t:1===e?n:[t,n];return i?i.value=r:i={value:r,done:!1},i}function C(){return{value:void 0,done:!0}}function w(e){return!!I(e)}function k(e){return e&&"function"==typeof e.next}function A(e){var t=I(e);return t&&t.call(e)}function I(e){var t=e&&(Si&&e[Si]||e[Ci]);return"function"==typeof t?t:void 0}function N(e){return e&&"number"==typeof e.length}function T(e){return null===e||void 0===e?F():g(e)?e.toSeq():H(e)}function O(e){return null===e||void 0===e?F().toKeyedSeq():g(e)?v(e)?e.toSeq():e.fromEntrySeq():U(e)}function D(e){return null===e||void 0===e?F():g(e)?v(e)?e.entrySeq():e.toIndexedSeq():W(e)}function M(e){return(null===e||void 0===e?F():g(e)?v(e)?e.entrySeq():e:W(e)).toSetSeq()}function x(e){this._array=e,this.size=e.length}function P(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function L(e){this._iterable=e,this.size=e.length||e.size}function R(e){this._iterator=e,this._iteratorCache=[]}function B(e){return!(!e||!e[ki])}function F(){return Ai||(Ai=new x([]))}function U(e){var t=Array.isArray(e)?new x(e).fromEntrySeq():k(e)?new R(e).fromEntrySeq():w(e)?new L(e).fromEntrySeq():"object"==typeof e?new P(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function W(e){var t=G(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function H(e){var t=G(e)||"object"==typeof e&&new P(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function G(e){return N(e)?new x(e):k(e)?new R(e):w(e)?new L(e):void 0}function V(e,t,n,i){var r=e._cache;if(r){for(var o=r.length-1,a=0;o>=a;a++){var s=r[n?o-a:a];if(t(s[1],i?s[0]:a,e)===!1)return a+1}return a}return e.__iterateUncached(t,n)}function K(e,t,n,i){var r=e._cache;if(r){var o=r.length-1,a=0;return new y(function(){var e=r[n?o-a:a];return a++>o?C():S(t,i?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function j(){throw TypeError("Abstract")}function z(){}function Y(){}function q(){}function $(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return"function"==typeof e.equals&&"function"==typeof t.equals&&e.equals(t)?!0:!1}function X(e,t){return t?Z(t,e,"",{"":e}):Q(e)}function Z(e,t,n,i){return Array.isArray(t)?e.call(i,n,D(t).map(function(n,i){return Z(e,n,i,t)})):J(t)?e.call(i,n,O(t).map(function(n,i){return Z(e,n,i,t)})):t}function Q(e){return Array.isArray(e)?D(e).map(Q).toList():J(e)?O(e).map(Q).toMap():e}function J(e){return e&&(e.constructor===Object||void 0===e.constructor)}function et(e){return e>>>1&1073741824|3221225471&e}function tt(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return et(n)}return"string"===t?e.length>Pi?nt(e):it(e):"function"==typeof e.hashCode?e.hashCode():rt(e)}function nt(e){var t=Bi[e];return void 0===t&&(t=it(e),Ri===Li&&(Ri=0,Bi={}),Ri++,Bi[e]=t),t}function it(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return et(t)}function rt(e){var t;if(Di&&(t=Ii.get(e),void 0!==t))return t;if(t=e[xi],void 0!==t)return t;if(!Oi){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[xi],void 0!==t)return t;if(t=ot(e),void 0!==t)return t}if(t=++Mi,1073741824&Mi&&(Mi=0),Di)Ii.set(e,t);else{if(void 0!==Ti&&Ti(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Oi)Object.defineProperty(e,xi,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[xi]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[xi]=t}}return t}function ot(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function at(e,t){if(!e)throw new Error(t)}function st(e){at(1/0!==e,"Cannot perform this action with an infinite size.")}function lt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function ct(e){this._iter=e,this.size=e.size}function ut(e){this._iter=e,this.size=e.size}function ht(e){this._iter=e,this.size=e.size}function dt(e){var t=xt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Pt,t.__iterateUncached=function(t,n){var i=this;return e.__iterate(function(e,n){return t(n,e,i)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===yi){var i=e.__iterator(t,n);return new y(function(){var e=i.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===_i?bi:_i,n)},t}function pt(e,t,n){var i=xt(e);return i.size=e.size,i.has=function(t){return e.has(t)},i.get=function(i,r){var o=e.get(i,di);return o===di?r:t.call(n,o,i,e)},i.__iterateUncached=function(i,r){var o=this;return e.__iterate(function(e,r,a){return i(t.call(n,e,r,a),r,o)!==!1},r)},i.__iteratorUncached=function(i,r){var o=e.__iterator(yi,r);return new y(function(){var r=o.next();if(r.done)return r;var a=r.value,s=a[0];return S(i,s,t.call(n,a[1],s,e),r)})},i}function ft(e,t){var n=xt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=dt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,i){return e.get(t?n:-1-n,i)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Pt,n.__iterate=function(t,n){var i=this;return e.__iterate(function(e,n){return t(e,n,i)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function mt(e,t,n,i){var r=xt(e);return i&&(r.has=function(i){var r=e.get(i,di);return r!==di&&!!t.call(n,r,i,e)},r.get=function(i,r){var o=e.get(i,di);return o!==di&&t.call(n,o,i,e)?o:r}),r.__iterateUncached=function(r,o){var a=this,s=0;return e.__iterate(function(e,o,l){return t.call(n,e,o,l)?(s++,r(e,i?o:s-1,a)):void 0},o),s},r.__iteratorUncached=function(r,o){var a=e.__iterator(yi,o),s=0;return new y(function(){for(;;){var o=a.next();if(o.done)return o;var l=o.value,c=l[0],u=l[1];if(t.call(n,u,c,e))return S(r,i?c:s++,u,o)}})},r}function gt(e,t,n){var i=Bt().asMutable();return e.__iterate(function(r,o){i.update(t.call(n,r,o,e),0,function(e){return e+1})}),i.asImmutable()}function vt(e,t,n){var i=v(e),r=(_(e)?wn():Bt()).asMutable();e.__iterate(function(o,a){r.update(t.call(n,o,a,e),function(e){return e=e||[],e.push(i?[a,o]:o),e})});var o=Mt(e);return r.map(function(t){return Tt(e,o(t))})}function Et(e,t,n,i){var r=e.size;if(l(t,n,r))return e;var o=c(t,r),s=u(n,r);if(o!==o||s!==s)return Et(e.toSeq().cacheResult(),t,n,i);var h=s-o;0>h&&(h=0);var d=xt(e);return d.size=0===h?h:e.size&&h||void 0,!i&&B(e)&&h>=0&&(d.get=function(t,n){return t=a(this,t),t>=0&&h>t?e.get(t+o,n):n}),d.__iterateUncached=function(t,n){var r=this;if(0===h)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,s=!0,l=0;return e.__iterate(function(e,n){return s&&(s=a++<o)?void 0:(l++,t(e,i?n:l-1,r)!==!1&&l!==h)}),l},d.__iteratorUncached=function(t,n){if(h&&n)return this.cacheResult().__iterator(t,n);var r=h&&e.__iterator(t,n),a=0,s=0;return new y(function(){for(;a++<o;)r.next();if(++s>h)return C();var e=r.next();return i||t===_i?e:t===bi?S(t,s-1,void 0,e):S(t,s-1,e.value[1],e)})},d}function bt(e,t,n){var i=xt(e);return i.__iterateUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterate(i,r);var a=0;return e.__iterate(function(e,r,s){return t.call(n,e,r,s)&&++a&&i(e,r,o)}),a},i.__iteratorUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterator(i,r);var a=e.__iterator(yi,r),s=!0;return new y(function(){if(!s)return C();var e=a.next();if(e.done)return e;var r=e.value,l=r[0],c=r[1];return t.call(n,c,l,o)?i===yi?e:S(i,l,c,e):(s=!1,C())})},i}function _t(e,t,n,i){var r=xt(e);return r.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var s=!0,l=0;return e.__iterate(function(e,o,c){return s&&(s=t.call(n,e,o,c))?void 0:(l++,r(e,i?o:l-1,a))}),l},r.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var s=e.__iterator(yi,o),l=!0,c=0;return new y(function(){var e,o,u;do{if(e=s.next(),e.done)return i||r===_i?e:r===bi?S(r,c++,void 0,e):S(r,c++,e.value[1],e);var h=e.value;o=h[0],u=h[1],l&&(l=t.call(n,u,o,a))}while(l);return r===yi?e:S(r,o,u,e)})},r}function yt(e,t){var n=v(e),i=[e].concat(t).map(function(e){return g(e)?n&&(e=p(e)):e=n?U(e):W(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===i.length)return e;if(1===i.length){var r=i[0];if(r===e||n&&v(r)||E(e)&&E(r))return r}var o=new x(i);return n?o=o.toKeyedSeq():E(e)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=i.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),o}function St(e,t,n){var i=xt(e);return i.__iterateUncached=function(i,r){function o(e,l){var c=this;e.__iterate(function(e,r){return(!t||t>l)&&g(e)?o(e,l+1):i(e,n?r:a++,c)===!1&&(s=!0),!s},r)}var a=0,s=!1;return o(e,0),a},i.__iteratorUncached=function(i,r){var o=e.__iterator(i,r),a=[],s=0;return new y(function(){for(;o;){var e=o.next();if(e.done===!1){var l=e.value;if(i===yi&&(l=l[1]),t&&!(a.length<t)||!g(l))return n?e:S(i,s++,l,e);a.push(o),o=l.__iterator(i,r)}else o=a.pop()}return C()})},i}function Ct(e,t,n){var i=Mt(e);return e.toSeq().map(function(r,o){return i(t.call(n,r,o,e))}).flatten(!0)}function wt(e,t){var n=xt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,i){var r=this,o=0;return e.__iterate(function(e){return(!o||n(t,o++,r)!==!1)&&n(e,o++,r)!==!1},i),o},n.__iteratorUncached=function(n,i){var r,o=e.__iterator(_i,i),a=0;return new y(function(){return(!r||a%2)&&(r=o.next(),r.done)?r:a%2?S(n,a++,t):S(n,a++,r.value,r)})},n}function kt(e,t,n){t||(t=Lt);var i=v(e),r=0,o=e.toSeq().map(function(t,i){return[i,t,r++,n?n(t,i,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(i?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),i?O(o):E(e)?D(o):M(o)}function At(e,t,n){if(t||(t=Lt),n){var i=e.toSeq().map(function(t,i){return[t,n(t,i,e)]}).reduce(function(e,n){return It(t,e[1],n[1])?n:e});return i&&i[0]}return e.reduce(function(e,n){return It(t,e,n)?n:e})}function It(e,t,n){var i=e(n,t);return 0===i&&n!==t&&(void 0===n||null===n||n!==n)||i>0}function Nt(e,t,n){var i=xt(e);return i.size=new x(n).map(function(e){return e.size}).min(),i.__iterate=function(e,t){for(var n,i=this.__iterator(_i,t),r=0;!(n=i.next()).done&&e(n.value,r++,this)!==!1;);return r},i.__iteratorUncached=function(e,i){var r=n.map(function(e){return e=d(e),A(i?e.reverse():e)}),o=0,a=!1;return new y(function(){var n;return a||(n=r.map(function(e){return e.next()}),a=n.some(function(e){return e.done})),a?C():S(e,o++,t.apply(null,n.map(function(e){return e.value})))})},i}function Tt(e,t){return B(e)?t:e.constructor(t)}function Ot(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Dt(e){return st(e.size),o(e)}function Mt(e){return v(e)?p:E(e)?f:m}function xt(e){return Object.create((v(e)?O:E(e)?D:M).prototype)}function Pt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):T.prototype.cacheResult.call(this)}function Lt(e,t){return e>t?1:t>e?-1:0}function Rt(e){var t=A(e);if(!t){if(!N(e))throw new TypeError("Expected iterable or array-like: "+e);t=A(d(e))}return t}function Bt(e){return null===e||void 0===e?qt():Ft(e)?e:qt().withMutations(function(t){var n=p(e);st(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Ft(e){return!(!e||!e[Fi])}function Ut(e,t){this.ownerID=e,this.entries=t}function Wt(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ht(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Gt(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Vt(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Kt(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&zt(e._root)}function jt(e,t){return S(e,t[0],t[1])}function zt(e,t){return{node:e,index:0,__prev:t}}function Yt(e,t,n,i){var r=Object.create(Ui);return r.size=e,r._root=t,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function qt(){return Wi||(Wi=Yt(0))}function $t(e,n,i){var r,o;if(e._root){var a=t(pi),s=t(fi);if(r=Xt(e._root,e.__ownerID,0,void 0,n,i,a,s),!s.value)return e;o=e.size+(a.value?i===di?-1:1:0)}else{if(i===di)return e;o=1,r=new Ut(e.__ownerID,[[n,i]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Yt(o,r):qt()}function Xt(e,t,i,r,o,a,s,l){return e?e.update(t,i,r,o,a,s,l):a===di?e:(n(l),n(s),new Vt(t,r,[o,a]))}function Zt(e){return e.constructor===Vt||e.constructor===Gt}function Qt(e,t,n,i,r){if(e.keyHash===i)return new Gt(t,i,[e.entry,r]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&hi,s=(0===n?i:i>>>n)&hi,l=a===s?[Qt(e,t,n+ci,i,r)]:(o=new Vt(t,i,r),s>a?[e,o]:[o,e]);return new Wt(t,1<<a|1<<s,l)}function Jt(e,t,n,r){e||(e=new i);for(var o=new Vt(e,tt(n),[n,r]),a=0;a<t.length;a++){var s=t[a];o=o.update(e,0,void 0,s[0],s[1])}return o}function en(e,t,n,i){for(var r=0,o=0,a=new Array(n),s=0,l=1,c=t.length;c>s;s++,l<<=1){var u=t[s];void 0!==u&&s!==i&&(r|=l,a[o++]=u)}return new Wt(e,r,a)}function tn(e,t,n,i,r){for(var o=0,a=new Array(ui),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[i]=r,new Ht(e,o+1,a)}function nn(e,t,n){for(var i=[],r=0;r<n.length;r++){var o=n[r],a=p(o);g(o)||(a=a.map(function(e){return X(e)})),i.push(a)}return on(e,t,i)}function rn(e){return function(t,n,i){return t&&t.mergeDeepWith&&g(n)?t.mergeDeepWith(e,n):e?e(t,n,i):n}}function on(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var i=t?function(n,i){e.update(i,di,function(e){return e===di?n:t(e,n,i)})}:function(t,n){e.set(n,t)},r=0;r<n.length;r++)n[r].forEach(i)}):e.constructor(n[0])}function an(e,t,n,i){var r=e===di,o=t.next();if(o.done){var a=r?n:e,s=i(a);return s===a?e:s}at(r||e&&e.set,"invalid keyPath");var l=o.value,c=r?di:e.get(l,di),u=an(c,t,n,i);return u===c?e:u===di?e.remove(l):(r?qt():e).set(l,u)}function sn(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function ln(e,t,n,i){var o=i?e:r(e);return o[t]=n,o}function cn(e,t,n,i){var r=e.length+1;if(i&&t+1===r)return e[t]=n,e;for(var o=new Array(r),a=0,s=0;r>s;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function un(e,t,n){var i=e.length-1;if(n&&t===i)return e.pop(),e;for(var r=new Array(i),o=0,a=0;i>a;a++)a===t&&(o=1),r[a]=e[a+o];return r}function hn(e){var t=gn();if(null===e||void 0===e)return t;if(dn(e))return e;var n=f(e),i=n.size;return 0===i?t:(st(i),i>0&&ui>i?mn(0,i,ci,null,new pn(n.toArray())):t.withMutations(function(e){e.setSize(i),n.forEach(function(t,n){return e.set(n,t)})}))}function dn(e){return!(!e||!e[Ki])}function pn(e,t){this.array=e,this.ownerID=t}function fn(e,t){function n(e,t,n){return 0===t?i(e,n):r(e,t,n)}function i(e,n){var i=n===s?l&&l.array:e&&e.array,r=n>o?0:o-n,c=a-n;return c>ui&&(c=ui),function(){if(r===c)return Yi;var e=t?--c:r++;return i&&i[e]}}function r(e,i,r){var s,l=e&&e.array,c=r>o?0:o-r>>i,u=(a-r>>i)+1;return u>ui&&(u=ui),function(){for(;;){if(s){var e=s();if(e!==Yi)return e;s=null}if(c===u)return Yi;var o=t?--u:c++;s=n(l&&l[o],i-ci,r+(o<<i))}}}var o=e._origin,a=e._capacity,s=Cn(a),l=e._tail;return n(e._root,e._level,0)}function mn(e,t,n,i,r,o,a){var s=Object.create(ji);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=i,s._tail=r,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function gn(){return zi||(zi=mn(0,0,ci))}function vn(e,n,i){if(n=a(e,n),n>=e.size||0>n)return e.withMutations(function(e){0>n?yn(e,n).set(0,i):yn(e,0,n+1).set(n,i)});n+=e._origin;var r=e._tail,o=e._root,s=t(fi);return n>=Cn(e._capacity)?r=En(r,e.__ownerID,0,n,i,s):o=En(o,e.__ownerID,e._level,n,i,s),s.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):mn(e._origin,e._capacity,e._level,o,r):e}function En(e,t,i,r,o,a){var s=r>>>i&hi,l=e&&s<e.array.length;if(!l&&void 0===o)return e;var c;if(i>0){var u=e&&e.array[s],h=En(u,t,i-ci,r,o,a);return h===u?e:(c=bn(e,t),c.array[s]=h,c)}return l&&e.array[s]===o?e:(n(a),c=bn(e,t),void 0===o&&s===c.array.length-1?c.array.pop():c.array[s]=o,c)}function bn(e,t){return t&&e&&t===e.ownerID?e:new pn(e?e.array.slice():[],t)}function _n(e,t){if(t>=Cn(e._capacity))return e._tail;if(t<1<<e._level+ci){for(var n=e._root,i=e._level;n&&i>0;)n=n.array[t>>>i&hi],i-=ci;return n}}function yn(e,t,n){var r=e.__ownerID||new i,o=e._origin,a=e._capacity,s=o+t,l=void 0===n?a:0>n?a+n:o+n;if(s===o&&l===a)return e;if(s>=l)return e.clear();for(var c=e._level,u=e._root,h=0;0>s+h;)u=new pn(u&&u.array.length?[void 0,u]:[],r),c+=ci,h+=1<<c;h&&(s+=h,o+=h,l+=h,a+=h);for(var d=Cn(a),p=Cn(l);p>=1<<c+ci;)u=new pn(u&&u.array.length?[u]:[],r),c+=ci;var f=e._tail,m=d>p?_n(e,l-1):p>d?new pn([],r):f;if(f&&p>d&&a>s&&f.array.length){u=bn(u,r);for(var g=u,v=c;v>ci;v-=ci){var E=d>>>v&hi;g=g.array[E]=bn(g.array[E],r)}g.array[d>>>ci&hi]=f}if(a>l&&(m=m&&m.removeAfter(r,0,l)),s>=p)s-=p,l-=p,c=ci,u=null,m=m&&m.removeBefore(r,0,s);else if(s>o||d>p){for(h=0;u;){var b=s>>>c&hi;if(b!==p>>>c&hi)break;b&&(h+=(1<<c)*b),c-=ci,u=u.array[b]}u&&s>o&&(u=u.removeBefore(r,c,s-h)),u&&d>p&&(u=u.removeAfter(r,c,p-h)),h&&(s-=h,l-=h)}return e.__ownerID?(e.size=l-s,e._origin=s,e._capacity=l,e._level=c,e._root=u,e._tail=m,e.__hash=void 0,e.__altered=!0,e):mn(s,l,c,u,m)}function Sn(e,t,n){for(var i=[],r=0,o=0;o<n.length;o++){var a=n[o],s=f(a);s.size>r&&(r=s.size),g(a)||(s=s.map(function(e){return X(e)})),i.push(s)}return r>e.size&&(e=e.setSize(r)),on(e,t,i)}function Cn(e){return ui>e?0:e-1>>>ci<<ci}function wn(e){return null===e||void 0===e?In():kn(e)?e:In().withMutations(function(t){var n=p(e);st(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function kn(e){return Ft(e)&&_(e)}function An(e,t,n,i){var r=Object.create(wn.prototype);return r.size=e?e.size:0,r._map=e,r._list=t,r.__ownerID=n,r.__hash=i,r}function In(){return qi||(qi=An(qt(),gn()))}function Nn(e,t,n){var i,r,o=e._map,a=e._list,s=o.get(t),l=void 0!==s;if(n===di){if(!l)return e;a.size>=ui&&a.size>=2*o.size?(r=a.filter(function(e,t){return void 0!==e&&s!==t}),i=r.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(i.__ownerID=r.__ownerID=e.__ownerID)):(i=o.remove(t),r=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;i=o,r=a.set(s,[t,n])}else i=o.set(t,a.size),r=a.set(a.size,[t,n]);return e.__ownerID?(e.size=i.size,e._map=i,e._list=r,e.__hash=void 0,e):An(i,r)}function Tn(e){return null===e||void 0===e?Mn():On(e)?e:Mn().unshiftAll(e)}function On(e){return!(!e||!e[$i])}function Dn(e,t,n,i){var r=Object.create(Xi);return r.size=e,r._head=t,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function Mn(){return Zi||(Zi=Dn(0))}function xn(e){return null===e||void 0===e?Bn():Pn(e)?e:Bn().withMutations(function(t){var n=m(e);st(n.size),n.forEach(function(e){return t.add(e)})})}function Pn(e){return!(!e||!e[Qi])}function Ln(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Rn(e,t){var n=Object.create(Ji);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Bn(){return er||(er=Rn(qt()))}function Fn(e){return null===e||void 0===e?Hn():Un(e)?e:Hn().withMutations(function(t){var n=m(e);st(n.size),n.forEach(function(e){return t.add(e)})})}function Un(e){return Pn(e)&&_(e)}function Wn(e,t){var n=Object.create(tr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Hn(){return nr||(nr=Wn(In()))}function Gn(e,t){var n,i=function(o){if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var a=Object.keys(e);jn(r,a),r.size=a.length,r._name=t,r._keys=a,r._defaultValues=e}this._map=Bt(o)},r=i.prototype=Object.create(ir);return r.constructor=i,i}function Vn(e,t,n){var i=Object.create(Object.getPrototypeOf(e));return i._map=t,i.__ownerID=n,i}function Kn(e){return e._name||e.constructor.name||"Record"}function jn(e,t){try{t.forEach(zn.bind(void 0,e))}catch(n){}}function zn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)
},set:function(e){at(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Yn(e,t){if(e===t)return!0;if(!g(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||v(e)!==v(t)||E(e)!==E(t)||_(e)!==_(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!b(e);if(_(e)){var i=e.entries();return t.every(function(e,t){var r=i.next().value;return r&&$(r[1],e)&&(n||$(r[0],t))})&&i.next().done}var r=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{r=!0;var o=e;e=t,t=o}var a=!0,s=t.__iterate(function(t,i){return(n?e.has(t):r?$(t,e.get(i,di)):$(e.get(i,di),t))?void 0:(a=!1,!1)});return a&&e.size===s}function qn(e,t,n){if(!(this instanceof qn))return new qn(e,t,n);if(at(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),e>t&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(rr)return rr;rr=this}}function $n(e,t){if(!(this instanceof $n))return new $n(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(or)return or;or=this}}function Xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Zn(e,t){return t}function Qn(e,t){return[t,e]}function Jn(e){return function(){return!e.apply(this,arguments)}}function ei(e){return function(){return-e.apply(this,arguments)}}function ti(e){return"string"==typeof e?JSON.stringify(e):e}function ni(){return r(arguments)}function ii(e,t){return t>e?1:e>t?-1:0}function ri(e){if(1/0===e.size)return 0;var t=_(e),n=v(e),i=t?1:0,r=e.__iterate(n?t?function(e,t){i=31*i+ai(tt(e),tt(t))|0}:function(e,t){i=i+ai(tt(e),tt(t))|0}:t?function(e){i=31*i+tt(e)|0}:function(e){i=i+tt(e)|0});return oi(r,i)}function oi(e,t){return t=Ni(t,3432918353),t=Ni(t<<15|t>>>-15,461845907),t=Ni(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Ni(t^t>>>16,2246822507),t=Ni(t^t>>>13,3266489909),t=et(t^t>>>16)}function ai(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var si=Array.prototype.slice,li="delete",ci=5,ui=1<<ci,hi=ui-1,di={},pi={value:!1},fi={value:!1};e(p,d),e(f,d),e(m,d),d.isIterable=g,d.isKeyed=v,d.isIndexed=E,d.isAssociative=b,d.isOrdered=_,d.Keyed=p,d.Indexed=f,d.Set=m;var mi="@@__IMMUTABLE_ITERABLE__@@",gi="@@__IMMUTABLE_KEYED__@@",vi="@@__IMMUTABLE_INDEXED__@@",Ei="@@__IMMUTABLE_ORDERED__@@",bi=0,_i=1,yi=2,Si="function"==typeof Symbol&&Symbol.iterator,Ci="@@iterator",wi=Si||Ci;y.prototype.toString=function(){return"[Iterator]"},y.KEYS=bi,y.VALUES=_i,y.ENTRIES=yi,y.prototype.inspect=y.prototype.toSource=function(){return this.toString()},y.prototype[wi]=function(){return this},e(T,d),T.of=function(){return T(arguments)},T.prototype.toSeq=function(){return this},T.prototype.toString=function(){return this.__toString("Seq {","}")},T.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},T.prototype.__iterate=function(e,t){return V(this,e,t,!0)},T.prototype.__iterator=function(e,t){return K(this,e,t,!0)},e(O,T),O.prototype.toKeyedSeq=function(){return this},e(D,T),D.of=function(){return D(arguments)},D.prototype.toIndexedSeq=function(){return this},D.prototype.toString=function(){return this.__toString("Seq [","]")},D.prototype.__iterate=function(e,t){return V(this,e,t,!1)},D.prototype.__iterator=function(e,t){return K(this,e,t,!1)},e(M,T),M.of=function(){return M(arguments)},M.prototype.toSetSeq=function(){return this},T.isSeq=B,T.Keyed=O,T.Set=M,T.Indexed=D;var ki="@@__IMMUTABLE_SEQ__@@";T.prototype[ki]=!0,e(x,D),x.prototype.get=function(e,t){return this.has(e)?this._array[a(this,e)]:t},x.prototype.__iterate=function(e,t){for(var n=this._array,i=n.length-1,r=0;i>=r;r++)if(e(n[t?i-r:r],r,this)===!1)return r+1;return r},x.prototype.__iterator=function(e,t){var n=this._array,i=n.length-1,r=0;return new y(function(){return r>i?C():S(e,r,n[t?i-r++:r++])})},e(P,O),P.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},P.prototype.has=function(e){return this._object.hasOwnProperty(e)},P.prototype.__iterate=function(e,t){for(var n=this._object,i=this._keys,r=i.length-1,o=0;r>=o;o++){var a=i[t?r-o:o];if(e(n[a],a,this)===!1)return o+1}return o},P.prototype.__iterator=function(e,t){var n=this._object,i=this._keys,r=i.length-1,o=0;return new y(function(){var a=i[t?r-o:o];return o++>r?C():S(e,a,n[a])})},P.prototype[Ei]=!0,e(L,D),L.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,i=A(n),r=0;if(k(i))for(var o;!(o=i.next()).done&&e(o.value,r++,this)!==!1;);return r},L.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,i=A(n);if(!k(i))return new y(C);var r=0;return new y(function(){var t=i.next();return t.done?t:S(e,r++,t.value)})},e(R,D),R.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,i=this._iteratorCache,r=0;r<i.length;)if(e(i[r],r++,this)===!1)return r;for(var o;!(o=n.next()).done;){var a=o.value;if(i[r]=a,e(a,r++,this)===!1)break}return r},R.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,i=this._iteratorCache,r=0;return new y(function(){if(r>=i.length){var t=n.next();if(t.done)return t;i[r]=t.value}return S(e,r,i[r++])})};var Ai;e(j,d),e(z,j),e(Y,j),e(q,j),j.Keyed=z,j.Indexed=Y,j.Set=q;var Ii,Ni="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){e=0|e,t=0|t;var n=65535&e,i=65535&t;return n*i+((e>>>16)*i+n*(t>>>16)<<16>>>0)|0},Ti=Object.isExtensible,Oi=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Di="function"==typeof WeakMap;Di&&(Ii=new WeakMap);var Mi=0,xi="__immutablehash__";"function"==typeof Symbol&&(xi=Symbol(xi));var Pi=16,Li=255,Ri=0,Bi={};e(lt,O),lt.prototype.get=function(e,t){return this._iter.get(e,t)},lt.prototype.has=function(e){return this._iter.has(e)},lt.prototype.valueSeq=function(){return this._iter.valueSeq()},lt.prototype.reverse=function(){var e=this,t=ft(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},lt.prototype.map=function(e,t){var n=this,i=pt(this,e,t);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().map(e,t)}),i},lt.prototype.__iterate=function(e,t){var n,i=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,i)}:(n=t?Dt(this):0,function(r){return e(r,t?--n:n++,i)}),t)},lt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(_i,t),i=t?Dt(this):0;return new y(function(){var r=n.next();return r.done?r:S(e,t?--i:i++,r.value,r)})},lt.prototype[Ei]=!0,e(ct,D),ct.prototype.includes=function(e){return this._iter.includes(e)},ct.prototype.__iterate=function(e,t){var n=this,i=0;return this._iter.__iterate(function(t){return e(t,i++,n)},t)},ct.prototype.__iterator=function(e,t){var n=this._iter.__iterator(_i,t),i=0;return new y(function(){var t=n.next();return t.done?t:S(e,i++,t.value,t)})},e(ut,M),ut.prototype.has=function(e){return this._iter.includes(e)},ut.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},ut.prototype.__iterator=function(e,t){var n=this._iter.__iterator(_i,t);return new y(function(){var t=n.next();return t.done?t:S(e,t.value,t.value,t)})},e(ht,O),ht.prototype.entrySeq=function(){return this._iter.toSeq()},ht.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Ot(t);var i=g(t);return e(i?t.get(1):t[1],i?t.get(0):t[0],n)}},t)},ht.prototype.__iterator=function(e,t){var n=this._iter.__iterator(_i,t);return new y(function(){for(;;){var t=n.next();if(t.done)return t;var i=t.value;if(i){Ot(i);var r=g(i);return S(e,r?i.get(0):i[0],r?i.get(1):i[1],t)}}})},ct.prototype.cacheResult=lt.prototype.cacheResult=ut.prototype.cacheResult=ht.prototype.cacheResult=Pt,e(Bt,z),Bt.prototype.toString=function(){return this.__toString("Map {","}")},Bt.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Bt.prototype.set=function(e,t){return $t(this,e,t)},Bt.prototype.setIn=function(e,t){return this.updateIn(e,di,function(){return t})},Bt.prototype.remove=function(e){return $t(this,e,di)},Bt.prototype.deleteIn=function(e){return this.updateIn(e,function(){return di})},Bt.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Bt.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var i=an(this,Rt(e),t,n);return i===di?void 0:i},Bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):qt()},Bt.prototype.merge=function(){return nn(this,void 0,arguments)},Bt.prototype.mergeWith=function(e){var t=si.call(arguments,1);return nn(this,e,t)},Bt.prototype.mergeIn=function(e){var t=si.call(arguments,1);return this.updateIn(e,qt(),function(e){return e.merge.apply(e,t)})},Bt.prototype.mergeDeep=function(){return nn(this,rn(void 0),arguments)},Bt.prototype.mergeDeepWith=function(e){var t=si.call(arguments,1);return nn(this,rn(e),t)},Bt.prototype.mergeDeepIn=function(e){var t=si.call(arguments,1);return this.updateIn(e,qt(),function(e){return e.mergeDeep.apply(e,t)})},Bt.prototype.sort=function(e){return wn(kt(this,e))},Bt.prototype.sortBy=function(e,t){return wn(kt(this,t,e))},Bt.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Bt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new i)},Bt.prototype.asImmutable=function(){return this.__ensureOwner()},Bt.prototype.wasAltered=function(){return this.__altered},Bt.prototype.__iterator=function(e,t){return new Kt(this,e,t)},Bt.prototype.__iterate=function(e,t){var n=this,i=0;return this._root&&this._root.iterate(function(t){return i++,e(t[1],t[0],n)},t),i},Bt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Bt.isMap=Ft;var Fi="@@__IMMUTABLE_MAP__@@",Ui=Bt.prototype;Ui[Fi]=!0,Ui[li]=Ui.remove,Ui.removeIn=Ui.deleteIn,Ut.prototype.get=function(e,t,n,i){for(var r=this.entries,o=0,a=r.length;a>o;o++)if($(n,r[o][0]))return r[o][1];return i},Ut.prototype.update=function(e,t,i,o,a,s,l){for(var c=a===di,u=this.entries,h=0,d=u.length;d>h&&!$(o,u[h][0]);h++);var p=d>h;if(p?u[h][1]===a:c)return this;if(n(l),(c||!p)&&n(s),!c||1!==u.length){if(!p&&!c&&u.length>=Hi)return Jt(e,u,o,a);var f=e&&e===this.ownerID,m=f?u:r(u);return p?c?h===d-1?m.pop():m[h]=m.pop():m[h]=[o,a]:m.push([o,a]),f?(this.entries=m,this):new Ut(e,m)}},Wt.prototype.get=function(e,t,n,i){void 0===t&&(t=tt(n));var r=1<<((0===e?t:t>>>e)&hi),o=this.bitmap;return 0===(o&r)?i:this.nodes[sn(o&r-1)].get(e+ci,t,n,i)},Wt.prototype.update=function(e,t,n,i,r,o,a){void 0===n&&(n=tt(i));var s=(0===t?n:n>>>t)&hi,l=1<<s,c=this.bitmap,u=0!==(c&l);if(!u&&r===di)return this;var h=sn(c&l-1),d=this.nodes,p=u?d[h]:void 0,f=Xt(p,e,t+ci,n,i,r,o,a);if(f===p)return this;if(!u&&f&&d.length>=Gi)return tn(e,d,c,s,f);if(u&&!f&&2===d.length&&Zt(d[1^h]))return d[1^h];if(u&&f&&1===d.length&&Zt(f))return f;var m=e&&e===this.ownerID,g=u?f?c:c^l:c|l,v=u?f?ln(d,h,f,m):un(d,h,m):cn(d,h,f,m);return m?(this.bitmap=g,this.nodes=v,this):new Wt(e,g,v)},Ht.prototype.get=function(e,t,n,i){void 0===t&&(t=tt(n));var r=(0===e?t:t>>>e)&hi,o=this.nodes[r];return o?o.get(e+ci,t,n,i):i},Ht.prototype.update=function(e,t,n,i,r,o,a){void 0===n&&(n=tt(i));var s=(0===t?n:n>>>t)&hi,l=r===di,c=this.nodes,u=c[s];if(l&&!u)return this;var h=Xt(u,e,t+ci,n,i,r,o,a);if(h===u)return this;var d=this.count;if(u){if(!h&&(d--,Vi>d))return en(e,c,d,s)}else d++;var p=e&&e===this.ownerID,f=ln(c,s,h,p);return p?(this.count=d,this.nodes=f,this):new Ht(e,d,f)},Gt.prototype.get=function(e,t,n,i){for(var r=this.entries,o=0,a=r.length;a>o;o++)if($(n,r[o][0]))return r[o][1];return i},Gt.prototype.update=function(e,t,i,o,a,s,l){void 0===i&&(i=tt(o));var c=a===di;if(i!==this.keyHash)return c?this:(n(l),n(s),Qt(this,e,t,i,[o,a]));for(var u=this.entries,h=0,d=u.length;d>h&&!$(o,u[h][0]);h++);var p=d>h;if(p?u[h][1]===a:c)return this;if(n(l),(c||!p)&&n(s),c&&2===d)return new Vt(e,this.keyHash,u[1^h]);var f=e&&e===this.ownerID,m=f?u:r(u);return p?c?h===d-1?m.pop():m[h]=m.pop():m[h]=[o,a]:m.push([o,a]),f?(this.entries=m,this):new Gt(e,this.keyHash,m)},Vt.prototype.get=function(e,t,n,i){return $(n,this.entry[0])?this.entry[1]:i},Vt.prototype.update=function(e,t,i,r,o,a,s){var l=o===di,c=$(r,this.entry[0]);return(c?o===this.entry[1]:l)?this:(n(s),l?void n(a):c?e&&e===this.ownerID?(this.entry[1]=o,this):new Vt(e,this.keyHash,[r,o]):(n(a),Qt(this,e,t,tt(r),[r,o])))},Ut.prototype.iterate=Gt.prototype.iterate=function(e,t){for(var n=this.entries,i=0,r=n.length-1;r>=i;i++)if(e(n[t?r-i:i])===!1)return!1},Wt.prototype.iterate=Ht.prototype.iterate=function(e,t){for(var n=this.nodes,i=0,r=n.length-1;r>=i;i++){var o=n[t?r-i:i];if(o&&o.iterate(e,t)===!1)return!1}},Vt.prototype.iterate=function(e){return e(this.entry)},e(Kt,y),Kt.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,i=t.node,r=t.index++;if(i.entry){if(0===r)return jt(e,i.entry)}else if(i.entries){if(n=i.entries.length-1,n>=r)return jt(e,i.entries[this._reverse?n-r:r])}else if(n=i.nodes.length-1,n>=r){var o=i.nodes[this._reverse?n-r:r];if(o){if(o.entry)return jt(e,o.entry);t=this._stack=zt(o,t)}continue}t=this._stack=this._stack.__prev}return C()};var Wi,Hi=ui/4,Gi=ui/2,Vi=ui/4;e(hn,Y),hn.of=function(){return this(arguments)},hn.prototype.toString=function(){return this.__toString("List [","]")},hn.prototype.get=function(e,t){if(e=a(this,e),0>e||e>=this.size)return t;e+=this._origin;var n=_n(this,e);return n&&n.array[e&hi]},hn.prototype.set=function(e,t){return vn(this,e,t)},hn.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},hn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ci,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):gn()},hn.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){yn(n,0,t+e.length);for(var i=0;i<e.length;i++)n.set(t+i,e[i])})},hn.prototype.pop=function(){return yn(this,0,-1)},hn.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){yn(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},hn.prototype.shift=function(){return yn(this,1)},hn.prototype.merge=function(){return Sn(this,void 0,arguments)},hn.prototype.mergeWith=function(e){var t=si.call(arguments,1);return Sn(this,e,t)},hn.prototype.mergeDeep=function(){return Sn(this,rn(void 0),arguments)},hn.prototype.mergeDeepWith=function(e){var t=si.call(arguments,1);return Sn(this,rn(e),t)},hn.prototype.setSize=function(e){return yn(this,0,e)},hn.prototype.slice=function(e,t){var n=this.size;return l(e,t,n)?this:yn(this,c(e,n),u(t,n))},hn.prototype.__iterator=function(e,t){var n=0,i=fn(this,t);return new y(function(){var t=i();return t===Yi?C():S(e,n++,t)})},hn.prototype.__iterate=function(e,t){for(var n,i=0,r=fn(this,t);(n=r())!==Yi&&e(n,i++,this)!==!1;);return i},hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?mn(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},hn.isList=dn;var Ki="@@__IMMUTABLE_LIST__@@",ji=hn.prototype;ji[Ki]=!0,ji[li]=ji.remove,ji.setIn=Ui.setIn,ji.deleteIn=ji.removeIn=Ui.removeIn,ji.update=Ui.update,ji.updateIn=Ui.updateIn,ji.mergeIn=Ui.mergeIn,ji.mergeDeepIn=Ui.mergeDeepIn,ji.withMutations=Ui.withMutations,ji.asMutable=Ui.asMutable,ji.asImmutable=Ui.asImmutable,ji.wasAltered=Ui.wasAltered,pn.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0||0===this.array.length)return this;var i=n>>>t&hi;if(i>=this.array.length)return new pn([],e);var r,o=0===i;if(t>0){var a=this.array[i];if(r=a&&a.removeBefore(e,t-ci,n),r===a&&o)return this}if(o&&!r)return this;var s=bn(this,e);if(!o)for(var l=0;i>l;l++)s.array[l]=void 0;return r&&(s.array[i]=r),s},pn.prototype.removeAfter=function(e,t,n){if(n===t?1<<t:0||0===this.array.length)return this;var i=n-1>>>t&hi;if(i>=this.array.length)return this;var r,o=i===this.array.length-1;if(t>0){var a=this.array[i];if(r=a&&a.removeAfter(e,t-ci,n),r===a&&o)return this}if(o&&!r)return this;var s=bn(this,e);return o||s.array.pop(),r&&(s.array[i]=r),s};var zi,Yi={};e(wn,Bt),wn.of=function(){return this(arguments)},wn.prototype.toString=function(){return this.__toString("OrderedMap {","}")},wn.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):In()},wn.prototype.set=function(e,t){return Nn(this,e,t)},wn.prototype.remove=function(e){return Nn(this,e,di)},wn.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},wn.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},wn.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},wn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?An(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},wn.isOrderedMap=kn,wn.prototype[Ei]=!0,wn.prototype[li]=wn.prototype.remove;var qi;e(Tn,Y),Tn.of=function(){return this(arguments)},Tn.prototype.toString=function(){return this.__toString("Stack [","]")},Tn.prototype.get=function(e,t){var n=this._head;for(e=a(this,e);n&&e--;)n=n.next;return n?n.value:t},Tn.prototype.peek=function(){return this._head&&this._head.value},Tn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Dn(e,t)},Tn.prototype.pushAll=function(e){if(e=f(e),0===e.size)return this;st(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Dn(t,n)},Tn.prototype.pop=function(){return this.slice(1)},Tn.prototype.unshift=function(){return this.push.apply(this,arguments)},Tn.prototype.unshiftAll=function(e){return this.pushAll(e)},Tn.prototype.shift=function(){return this.pop.apply(this,arguments)},Tn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mn()},Tn.prototype.slice=function(e,t){if(l(e,t,this.size))return this;var n=c(e,this.size),i=u(t,this.size);if(i!==this.size)return Y.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Dn(r,o)},Tn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Dn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Tn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,i=this._head;i&&e(i.value,n++,this)!==!1;)i=i.next;return n},Tn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,i=this._head;return new y(function(){if(i){var t=i.value;return i=i.next,S(e,n++,t)}return C()})},Tn.isStack=On;var $i="@@__IMMUTABLE_STACK__@@",Xi=Tn.prototype;Xi[$i]=!0,Xi.withMutations=Ui.withMutations,Xi.asMutable=Ui.asMutable,Xi.asImmutable=Ui.asImmutable,Xi.wasAltered=Ui.wasAltered;var Zi;e(xn,q),xn.of=function(){return this(arguments)},xn.fromKeys=function(e){return this(p(e).keySeq())},xn.prototype.toString=function(){return this.__toString("Set {","}")},xn.prototype.has=function(e){return this._map.has(e)},xn.prototype.add=function(e){return Ln(this,this._map.set(e,!0))},xn.prototype.remove=function(e){return Ln(this,this._map.remove(e))},xn.prototype.clear=function(){return Ln(this,this._map.clear())},xn.prototype.union=function(){var e=si.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)m(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},xn.prototype.intersect=function(){var e=si.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return m(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},xn.prototype.subtract=function(){var e=si.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return m(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},xn.prototype.merge=function(){return this.union.apply(this,arguments)},xn.prototype.mergeWith=function(){var e=si.call(arguments,1);return this.union.apply(this,e)},xn.prototype.sort=function(e){return Fn(kt(this,e))},xn.prototype.sortBy=function(e,t){return Fn(kt(this,t,e))},xn.prototype.wasAltered=function(){return this._map.wasAltered()},xn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,i){return e(i,i,n)},t)},xn.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},xn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},xn.isSet=Pn;var Qi="@@__IMMUTABLE_SET__@@",Ji=xn.prototype;Ji[Qi]=!0,Ji[li]=Ji.remove,Ji.mergeDeep=Ji.merge,Ji.mergeDeepWith=Ji.mergeWith,Ji.withMutations=Ui.withMutations,Ji.asMutable=Ui.asMutable,Ji.asImmutable=Ui.asImmutable,Ji.__empty=Bn,Ji.__make=Rn;var er;e(Fn,xn),Fn.of=function(){return this(arguments)},Fn.fromKeys=function(e){return this(p(e).keySeq())},Fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fn.isOrderedSet=Un;var tr=Fn.prototype;tr[Ei]=!0,tr.__empty=Hn,tr.__make=Wn;var nr;e(Gn,z),Gn.prototype.toString=function(){return this.__toString(Kn(this)+" {","}")},Gn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Gn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Gn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Vn(this,qt()))},Gn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Kn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Vn(this,n)},Gn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Vn(this,t)},Gn.prototype.wasAltered=function(){return this._map.wasAltered()},Gn.prototype.__iterator=function(e,t){var n=this;return p(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},Gn.prototype.__iterate=function(e,t){var n=this;return p(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},Gn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Vn(this,t,e):(this.__ownerID=e,this._map=t,this)};var ir=Gn.prototype;ir[li]=ir.remove,ir.deleteIn=ir.removeIn=Ui.removeIn,ir.merge=Ui.merge,ir.mergeWith=Ui.mergeWith,ir.mergeIn=Ui.mergeIn,ir.mergeDeep=Ui.mergeDeep,ir.mergeDeepWith=Ui.mergeDeepWith,ir.mergeDeepIn=Ui.mergeDeepIn,ir.setIn=Ui.setIn,ir.update=Ui.update,ir.updateIn=Ui.updateIn,ir.withMutations=Ui.withMutations,ir.asMutable=Ui.asMutable,ir.asImmutable=Ui.asImmutable,e(qn,D),qn.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},qn.prototype.get=function(e,t){return this.has(e)?this._start+a(this,e)*this._step:t},qn.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},qn.prototype.slice=function(e,t){return l(e,t,this.size)?this:(e=c(e,this.size),t=u(t,this.size),e>=t?new qn(0,0):new qn(this.get(e,this._end),this.get(t,this._end),this._step))},qn.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},qn.prototype.lastIndexOf=function(e){return this.indexOf(e)},qn.prototype.__iterate=function(e,t){for(var n=this.size-1,i=this._step,r=t?this._start+n*i:this._start,o=0;n>=o;o++){if(e(r,o,this)===!1)return o+1;r+=t?-i:i}return o},qn.prototype.__iterator=function(e,t){var n=this.size-1,i=this._step,r=t?this._start+n*i:this._start,o=0;return new y(function(){var a=r;return r+=t?-i:i,o>n?C():S(e,o++,a)})},qn.prototype.equals=function(e){return e instanceof qn?this._start===e._start&&this._end===e._end&&this._step===e._step:Yn(this,e)};var rr;e($n,D),$n.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},$n.prototype.get=function(e,t){return this.has(e)?this._value:t},$n.prototype.includes=function(e){return $(this._value,e)},$n.prototype.slice=function(e,t){var n=this.size;return l(e,t,n)?this:new $n(this._value,u(t,n)-c(e,n))},$n.prototype.reverse=function(){return this},$n.prototype.indexOf=function(e){return $(this._value,e)?0:-1},$n.prototype.lastIndexOf=function(e){return $(this._value,e)?this.size:-1},$n.prototype.__iterate=function(e){for(var t=0;t<this.size;t++)if(e(this._value,t,this)===!1)return t+1;return t},$n.prototype.__iterator=function(e){var t=this,n=0;return new y(function(){return n<t.size?S(e,n++,t._value):C()})},$n.prototype.equals=function(e){return e instanceof $n?$(this._value,e._value):Yn(e)};var or;d.Iterator=y,Xn(d,{toArray:function(){st(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new ct(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new lt(this,!0)},toMap:function(){return Bt(this.toKeyedSeq())},toObject:function(){st(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return wn(this.toKeyedSeq())},toOrderedSet:function(){return Fn(v(this)?this.valueSeq():this)},toSet:function(){return xn(v(this)?this.valueSeq():this)},toSetSeq:function(){return new ut(this)},toSeq:function(){return E(this)?this.toIndexedSeq():v(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Tn(v(this)?this.valueSeq():this)},toList:function(){return hn(v(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=si.call(arguments,0);return Tt(this,yt(this,e))},contains:function(e){return this.includes(e)},includes:function(e){return this.some(function(t){return $(t,e)})},entries:function(){return this.__iterator(yi)},every:function(e,t){st(this.size);var n=!0;return this.__iterate(function(i,r,o){return e.call(t,i,r,o)?void 0:(n=!1,!1)}),n},filter:function(e,t){return Tt(this,mt(this,e,t,!0))},find:function(e,t,n){var i=this.findEntry(e,t);return i?i[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(i,r,o){return e.call(t,i,r,o)?(n=[r,i],!1):void 0}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return st(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){st(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(i){n?n=!1:t+=e,t+=null!==i&&void 0!==i?i.toString():""}),t},keys:function(){return this.__iterator(bi)},map:function(e,t){return Tt(this,pt(this,e,t))},reduce:function(e,t,n){st(this.size);var i,r;return arguments.length<2?r=!0:i=t,this.__iterate(function(t,o,a){r?(r=!1,i=t):i=e.call(n,i,t,o,a)}),i},reduceRight:function(){var e=this.toKeyedSeq().reverse();return e.reduce.apply(e,arguments)},reverse:function(){return Tt(this,ft(this,!0))},slice:function(e,t){return Tt(this,Et(this,e,t,!0))},some:function(e,t){return!this.every(Jn(e),t)},sort:function(e){return Tt(this,kt(this,e))},values:function(){return this.__iterator(_i)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return o(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return gt(this,e,t)},equals:function(e){return Yn(this,e)},entrySeq:function(){var e=this;if(e._cache)return new x(e._cache);var t=e.toSeq().map(Qn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Jn(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(s)},flatMap:function(e,t){return Tt(this,Ct(this,e,t))},flatten:function(e){return Tt(this,St(this,e,!0))},fromEntrySeq:function(){return new ht(this)},get:function(e,t){return this.find(function(t,n){return $(n,e)},void 0,t)},getIn:function(e,t){for(var n,i=this,r=Rt(e);!(n=r.next()).done;){var o=n.value;if(i=i&&i.get?i.get(o,di):di,i===di)return t}return i},groupBy:function(e,t){return vt(this,e,t)},has:function(e){return this.get(e,di)!==di},hasIn:function(e){return this.getIn(e,di)!==di},isSubset:function(e){return e="function"==typeof e.includes?e:d(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e.isSubset(this)},keySeq:function(){return this.toSeq().map(Zn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return At(this,e)},maxBy:function(e,t){return At(this,t,e)},min:function(e){return At(this,e?ei(e):ii)},minBy:function(e,t){return At(this,t?ei(t):ii,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Tt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Tt(this,_t(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Jn(e),t)},sortBy:function(e,t){return Tt(this,kt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Tt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Tt(this,bt(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Jn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ri(this))}});var ar=d.prototype;ar[mi]=!0,ar[wi]=ar.values,ar.__toJS=ar.toArray,ar.__toStringMapper=ti,ar.inspect=ar.toSource=function(){return this.toString()},ar.chain=ar.flatMap,function(){try{Object.defineProperty(ar,"length",{get:function(){if(!d.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Xn(p,{flip:function(){return Tt(this,dt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return $(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return $(t,e)})},mapEntries:function(e,t){var n=this,i=0;
return Tt(this,this.toSeq().map(function(r,o){return e.call(t,[o,r],i++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Tt(this,this.toSeq().flip().map(function(i,r){return e.call(t,i,r,n)}).flip())}});var sr=p.prototype;sr[gi]=!0,sr[wi]=ar.entries,sr.__toJS=ar.toObject,sr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+ti(e)},Xn(f,{toKeyedSeq:function(){return new lt(this,!1)},filter:function(e,t){return Tt(this,mt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){return this.toSeq().reverse().indexOf(e)},reverse:function(){return Tt(this,ft(this,!1))},slice:function(e,t){return Tt(this,Et(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=c(e,this.size);var i=this.slice(0,e);return Tt(this,1===n?i:i.concat(r(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return Tt(this,St(this,e,!1))},get:function(e,t){return e=a(this,e),0>e||1/0===this.size||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=a(this,e),e>=0&&(void 0!==this.size?1/0===this.size||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Tt(this,wt(this,e))},interleave:function(){var e=[this].concat(r(arguments)),t=Nt(this.toSeq(),D.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Tt(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Tt(this,_t(this,e,t,!1))},zip:function(){var e=[this].concat(r(arguments));return Tt(this,Nt(this,ni,e))},zipWith:function(e){var t=r(arguments);return t[0]=this,Tt(this,Nt(this,e,t))}}),f.prototype[vi]=!0,f.prototype[Ei]=!0,Xn(m,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),m.prototype.has=ar.includes,Xn(O,p.prototype),Xn(D,f.prototype),Xn(M,m.prototype),Xn(z,p.prototype),Xn(Y,f.prototype),Xn(q,m.prototype);var lr={Iterable:d,Seq:T,Collection:j,Map:Bt,OrderedMap:wn,List:hn,Stack:Tn,Set:xn,OrderedSet:Fn,Record:Gn,Range:qn,Repeat:$n,is:$,fromJS:X};return lr})},{}],117:[function(e,t){"use strict";var n=e(118)({exact:!0});t.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return n.test(e.trim())}},{}],118:[function(e,t){"use strict";var n=e(119).v4().source,i=e(120).join("|");t.exports=function(e){e=e||{};var t="(?:\\S+(?::\\S*)?@)?",r="(?:\\.(?:xn--[a-z0-9\\-]{1,59}|(?:[a-z\\u00a1-\\uffff0-9]+-?){0,62}[a-z\\u00a1-\\uffff0-9]{1,63}))*",o="(?:xn--[a-z0-9\\-]{1,59}|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?){0,62}[a-z\\u00a1-\\uffff0-9]{1,63}))",a="(?:/[^\\s]*)?",s="(?::\\d{2,5})?",l="(?:(?:(?:\\w)+:)?//)?",c="(?:\\.(?:xn--[a-z0-9\\-]{1,59}|"+i+"+))",u=[l+t+"(?:"+n+"|","(?:localhost)|"+o+r+c+")"+s+a].join("");return e.exact?new RegExp("(?:^"+u+"$)","i"):new RegExp("(?:^|\\s)([\"'])?"+u+"\\1","ig")}},{}],119:[function(e,t){"use strict";var n="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",i="(?:(?:[0-9a-fA-F:]){1,4}(?:(?::(?:[0-9a-fA-F]){1,4}|:)){2,7})+",r=t.exports=function(e){return e=e||{},e.exact?new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"):new RegExp("(?:"+n+")|(?:"+i+")","g")};r.v4=function(e){return e=e||{},e.exact?new RegExp("^"+n+"$"):new RegExp(n,"g")},r.v6=function(e){return e=e||{},e.exact?new RegExp("^"+i+"$"):new RegExp(i,"g")}},{}],120:[function(e,t){t.exports=["vermgensberatung","vermgensberater","cancerresearch","international","versicherung","construction","contractors","engineering","motorcycles","","accountants","investments","enterprises","williamhill","photography","blackfriday","productions","properties","healthcare","immobilien","university","republican","consulting","technology","industries","creditcard","cuisinella","foundation","restaurant","bnpparibas","associates","management","vlaanderen","furniture","bloomberg","equipment","melbourne","financial","education","directory","solutions","allfinanz","institute","christmas","community","vacations","marketing","training","capetown","pharmacy","partners","delivery","democrat","diamonds","software","discount","","saarland","catering","airforce","mortgage","attorney","services","engineer","supplies","cleaning","property","clothing","lighting","exchange","feedback","boutique","flsmidth","brussels","plumbing","budapest","computer","builders","business","yokohama","bargains","holdings","ventures","graphics","pictures","whoswho","dentist","recipes","digital","neustar","schmidt","realtor","shiksha","domains","network","support","android","youtube","college","cologne","surgery","capital","company","caravan","","abogado","academy","limited","careers","spiegel","lacaixa","exposed","cooking","finance","country","fishing","fitness","flights","florist","reviews","kitchen","channel","forsale","cricket","frogans","cruises","systems","","gallery","science","auction","organic","okinawa","hosting","holiday","website","wedding","hamburg","rentals","singles","guitars","travel","google","hiphop","global","","","insure","futbol","joburg","juegos","kaufen","","expert","lawyer","events","london","estate","luxury","maison","","market","energy","emerck","monash","moscow","","museum","nagoya","durban","direct","dental","degree","webcam","","voyage","dating","otsuka","gratis","credit","photos","physio","condos","coffee","clinic","quebec","claims","reisen","vision","church","repair","report","chrome","center","villas","viajes","ryukyu","career","camera","","schule","","yachts","social","yandex","berlin","bayern","supply","suzuki","sydney","alsace","taipei","tattoo","agency","active","tienda","voting","globo","mango","","pizza","place","","poker","praxi","press","jetzt","codes","media","vodka","homes","click","miami","citic","rehab","reise","works","horse","email","","","house","cheap","koeln","world","","rocks","rodeo","glass","nexus","cards","lease","gives","ninja","build","deals","black","shoes","","watch","loans","solar","wales","vegas","space","guide","autos","lotto","audio","archi","green","gifts","paris","dance","tatar","parts","gripe","actor","cymru","photo","tirol","today","tokyo","tools","gmail","trade","party","aero","","","kiwi","pics","club","pink","army","kred","casa","pohl","land","post","cash","","vote","prod","lgbt","prof","life","","","qpon","limo","link","buzz","","arpa","","luxe","reit","cern","fail","farm","desi","blue","rest","guru","diet","rich","meet","haus","meme","menu","rsvp","ruhr","fish","help","sarl","mini","mobi","moda","work","here","scot","beer","sexy","","asia","camp","best","cool","sohu","name","navy","wiki","host","coop","wien","yoga","dvag","surf","","immo","city","","info","bike","wang","fund","zone","voto","","tips","","band","care","gbiz","jobs","town","toys","gent","gift","ltda","top","tel","uno","uol","tax","soy","scb","sca","vet","rip","rio","ren","red","pub","pro","ovh","org","ooo","onl","ong","nyc","nrw","nra","wed","nhk","ngo","new","net","mov","wme","moe","mil","krd","wtc","wtf","kim","int","","ink","","ing","ibm","","","tui","hiv","","","gov","gop","gmx","gmo","gle","","","gal","frl","foo","fly","eus","esq","edu","eat","dnp","day","dad","crs","","com","","ceo","","cat","cal","cab","","","bzh","boo","","bmw","xxx","xyz","biz","bio","bid","bar","axa","zip","how","pk","pl","er","hr","pm","pn","ht","hu","es","pr","id","ie","il","im","ca","ae","in","et","ps","pt","eu","pw","py","qa","as","al","re","bf","bg","bh","bi","zw","io","iq","ir","is","it","je","at","jm","jo","fi","af","jp","cr","ro","au","ke","rs","kg","ru","kh","rw","ki","sa","bj","am","sb","sc","fj","km","kn","fk","kp","kr","sd","se","an","ag","sg","sh","kw","ky","si","kz","sj","sk","sl","sm","sn","so","la","cu","aw","fm","lb","lc","fo","cv","sr","st","su","li","cw","cx","fr","cy","cc","sv","sx","sy","lk","cz","sz","cd","bm","lr","ls","tc","td","lt","ga","tf","tg","th","lu","ax","bn","tj","tk","tl","tm","tn","to","lv","ly","ac","gb","de","gd","tp","tr","ge","cf","mc","tt","md","tv","tw","tz","ua","ug","uk","me","gf","gg","us","uy","uz","va","gh","vc","ve","gi","cg","mg","mh","vg","vi","ch","ao","gl","mk","vn","ml","mm","mn","mo","bo","vu","az","ba","br","gm","ci","aq","bs","wf","mp","mq","mr","ms","mt","mu","gn","mv","ws","mw","mx","","","","","my","","mz","","","","na","ck","cl","dj","nc","ne","gp","","gq","","","gr","dk","dm","","","","nf","ng","bt","do","ni","","gs","","","","","nl","no","np","nr","gt","gu","nu","ar","nz","ad","om","ai","","","gw","gy","dz","bb","","ec","bd","","pa","","","cm","ee","","eg","hk","","pe","pf","pg","ph","","hm","hn","cn","co","ye","bv","bw","by","yt","za","bz","zm","be","ma"]},{}],121:[function(){!function(){function e(e){var t=e.__resizeTriggers__,n=t.firstElementChild,i=t.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function t(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height}function n(n){var i=this;e(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a(function(){t(i)&&(i.__resizeLast__.width=i.offsetWidth,i.__resizeLast__.height=i.offsetHeight,i.__resizeListeners__.forEach(function(e){e.call(i,n)}))})}function i(){if(!o){var e=(E?E:"")+".resize-triggers { "+(b?b:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),o=!0}}var r=document.attachEvent,o=!1;if(!r){var a=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),s=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}(),l=!1,c="animation",u="",h="animationstart",d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(l=!0),l===!1)for(var g=0;g<d.length;g++)if(void 0!==m.style[d[g]+"AnimationName"]){f=d[g],c=f+"Animation",u="-"+f.toLowerCase()+"-",h=p[g],l=!0;break}var v="resizeanim",E="@"+u+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",b=u+"animation: 1ms "+v+"; "}window.addResizeListener=function(t,o){r?t.attachEvent("onresize",o):(t.__resizeTriggers__||("static"==getComputedStyle(t).position&&(t.style.position="relative"),i(),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),e(t),t.addEventListener("scroll",n,!0),h&&t.__resizeTriggers__.addEventListener(h,function(n){n.animationName==v&&e(t)})),t.__resizeListeners__.push(o))},window.removeResizeListener=function(e,t){r?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",n),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}()},{}],122:[function(e,t){var n=t.exports=function(e,t){if("function"==typeof e||t)return n.by(e,t);for(var i={object:[],"function":[],string:{},number:{},"boolean":{},undefined:{}},r=[],o=0;o<e.length;o++){var a=e[o],s="__proto__"===a?i.object:i[typeof a]||i.object;Array.isArray(s)?s.indexOf(a)<0&&(s.push(a),r.push(a)):Object.hasOwnProperty.call(s,a)||(s[a]=!0,r.push(a))}return r};n.by=function(e,t){if("function"==typeof e){var n=t;t=e,e=n}for(var i=[],r=0;r<e.length;r++){for(var o=e[r],a=!1,s=0;s<i.length;s++){var l=i[s];if(t.call(i,o,l)){a=!0;break}}a||i.push(o)}return i}},{}],123:[function(e,t){for(var n=e(124),i="undefined"==typeof window?{}:window,r=["moz","webkit"],o="AnimationFrame",a=i["request"+o],s=i["cancel"+o]||i["cancelRequest"+o],l=!0,c=0;c<r.length&&!a;c++)a=i[r[c]+"Request"+o],s=i[r[c]+"Cancel"+o]||i[r[c]+"CancelRequest"+o];if(!a||!s){l=!1;var u=0,h=0,d=[],p=1e3/60;a=function(e){if(0===d.length){var t=n(),i=Math.max(0,p-(t-u));u=i+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(n){setTimeout(function(){throw n},0)}},Math.round(i))}return d.push({handle:++h,callback:e,cancelled:!1}),h},s=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}t.exports=function(e){return l?a.call(i,function(){try{e.apply(this,arguments)}catch(t){setTimeout(function(){throw t},0)}}):a.call(i,e)},t.exports.cancel=function(){s.apply(i,arguments)}},{}],124:[function(e,t){(function(e){(function(){var n,i,r;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-r)/1e6},i=e.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},r=n()):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,e(95))},{}],125:[function(e,t){t.exports=e(127)},{}],126:[function(e,t){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=Object.assign||function(e){for(var t,i,r,o=n(e),a=1;a<arguments.length;a++){i=arguments[a],r=Object.keys(Object(i));for(var s=0;s<r.length;s++)try{o[r[s]]=i[r[s]]}catch(l){void 0===t&&(t=l)}}if(t)throw t;return o}},{}],127:[function(e,t){var n=e(302),i=e(126),r=n.createClass({lastDimensions:{width:null,height:null},propTypes:{triggersClass:n.PropTypes.string,expandClass:n.PropTypes.string,contractClass:n.PropTypes.string,embedCss:n.PropTypes.bool,onResize:n.PropTypes.func.isRequired},getDefaultProps:function(){return{triggersClass:"resize-triggers",expandClass:"expand-trigger",contractClass:"contract-trigger",embedCss:!0}},requestFrame:function(e){return(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)})(e)},cancelFrame:function(e){return(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout)(e)},componentDidMount:function(){this.resetTriggers(),this.initialResetTriggersTimeout=setTimeout(this.resetTriggers,1e3)},componentWillUnmount:function(){clearTimeout(this.initialResetTriggersTimeout)},componentDidUpdate:function(){this.resetTriggers()},resetTriggers:function(){var e=this.refs.contract.getDOMNode(),t=this.refs.expandChild.getDOMNode(),n=this.refs.expand.getDOMNode();e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight,t.style.width=n.offsetWidth+1+"px",t.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},onScroll:function(){this.r&&this.cancelFrame(this.r),this.r=this.requestFrame(function(){var e=this.getDimensions();this.haveDimensionsChanged(e)&&(this.lastDimensions=e,this.props.onResize(e))}.bind(this))},getDimensions:function(){var e=this.refs.resizable.getDOMNode();return{width:e.offsetWidth,height:e.offsetHeight}},haveDimensionsChanged:function(e){return e.width!=this.lastDimensions.width||e.height!=this.lastDimensions.height},render:function(){var e=i({},this.props,{onScroll:this.onScroll,ref:"resizable"});return n.createElement("div",e,[this.props.children,n.createElement("div",{className:this.props.triggersClass,key:"trigger"},[n.createElement("div",{className:this.props.expandClass,ref:"expand",key:"expand"},n.createElement("div",{ref:"expandChild"})),n.createElement("div",{className:this.props.contractClass,ref:"contract",key:"contract"})]),this.props.embedCss?n.createElement("style",{key:"embededCss",dangerouslySetInnerHTML:{__html:'.resize-triggers { visibility: hidden; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }'}}):null])}});t.exports=r},{}],128:[function(e,t,n){(function(i){(function(){function i(e){this.tokens=[],this.tokens.links={},this.options=e||d.defaults,this.rules=f.normal,this.options.gfm&&(this.rules=this.options.tables?f.tables:f.gfm)}function r(e,t){if(this.options=t||d.defaults,this.links=e,this.rules=m.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?m.breaks:m.gfm:this.options.pedantic&&(this.rules=m.pedantic)}function o(e){this.options=e||{}}function a(e){this.tokens=[],this.token=null,this.options=e||d.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?String.fromCharCode("x"===t.charAt(1)?parseInt(t.substring(2),16):+t.substring(1)):""})}function c(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function u(){}function h(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function d(e,t,n){if(n||"function"==typeof t){n||(n=t,t=null),t=h({},d.defaults,t||{});var r,o,l=t.highlight,c=0;try{r=i.lex(e,t)}catch(u){return n(u)}o=r.length;var p=function(){var e,i;try{e=a.parse(r,t)}catch(o){i=o}return t.highlight=l,i?n(i):n(null,e)};if(!l||l.length<3)return p();if(delete t.highlight,!o)return p();for(;c<r.length;c++)!function(e){return"code"!==e.type?--o||p():l(e.text,e.lang,function(t,n){return null==n||n===e.text?--o||p():(e.text=n,e.escaped=!0,void(--o||p()))})}(r[c])}else try{return t&&(t=h({},d.defaults,t)),a.parse(i.lex(e,t),t)}catch(u){if(u.message+="\nPlease report this to https://github.com/chjj/marked.",(t||d.defaults).silent)return"<p>An error occured:</p><pre>"+s(u.message+"",!0)+"</pre>";throw u}}if(!p)var p=e(302);var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};f.bullet=/(?:[*+-]|\d+\.)/,f.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,f.item=c(f.item,"gm")(/bull/g,f.bullet)(),f.list=c(f.list)(/bull/g,f.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),f._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",f.html=c(f.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,f._tag)(),f.paragraph=c(f.paragraph)("hr",f.hr)("heading",f.heading)("lheading",f.lheading)("blockquote",f.blockquote)("tag","<"+f._tag)("def",f.def)(),f.normal=h({},f),f.gfm=h({},f.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),f.gfm.paragraph=c(f.paragraph)("(?!","(?!"+f.gfm.fences.source.replace("\\1","\\2")+"|"+f.list.source.replace("\\1","\\3")+"|")(),f.tables=h({},f.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),i.rules=f,i.lex=function(e,t){var n=new i(t);return n.lex(e)},i.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},i.prototype.token=function(e,t){for(var n,i,r,o,a,s,l,c,u,e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(t&&(r=this.rules.nptable.exec(e))){for(e=e.substring(r[0].length),s={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},c=0;c<s.align.length;c++)s.align[c]=/^ *-+: *$/.test(s.align[c])?"right":/^ *:-+: *$/.test(s.align[c])?"center":/^ *:-+ *$/.test(s.align[c])?"left":null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].split(/ *\| */);this.tokens.push(s)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,t),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),o=r[2],this.tokens.push({type:"list_start",ordered:o.length>1}),r=r[0].match(this.rules.item),n=!1,u=r.length,c=0;u>c;c++)s=r[c],l=s.length,s=s.replace(/^ *([*+-]|\d+\.) +/,""),~s.indexOf("\n ")&&(l-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==u-1&&(a=f.bullet.exec(r[c+1])[0],o===a||o.length>1&&a.length>1||(e=r.slice(c+1).join("\n")+e,c=u-1)),i=n||/\n\n(?!\s*$)/.test(s),c!==u-1&&(n="\n"===s.charAt(s.length-1),i||(i=n)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]});else if(t&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),this.tokens.links[r[1].toLowerCase()]={href:r[2],title:r[3]};else if(t&&(r=this.rules.table.exec(e))){for(e=e.substring(r[0].length),s={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<s.align.length;c++)s.align[c]=/^ *-+: *$/.test(s.align[c])?"right":/^ *:-+: *$/.test(s.align[c])?"center":/^ *:-+ *$/.test(s.align[c])?"left":null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(t&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var m={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};m._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,m._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,m.link=c(m.link)("inside",m._inside)("href",m._href)(),m.reflink=c(m.reflink)("inside",m._inside)(),m.normal=h({},m),m.pedantic=h({},m.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),m.gfm=h({},m.normal,{escape:c(m.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(m.text)("]|","~]|")("|","|https?://|")()}),m.breaks=h({},m.gfm,{br:c(m.br)("{2,}","*")(),text:c(m.gfm.text)("{2,}","*")()}),r.rules=m,r.output=function(e,t,n){var i=new r(t,n);return i.output(e)},r.prototype.output=function(e){for(var t,n,i,r,o=[];e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),o.push(r[1]);else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(n=this.mangle(":"===r[1].charAt(6)?r[1].substring(7):r[1]),i=this.mangle("mailto:")+n):(n=s(r[1]),i=n),o.push(this.renderer.link(i,null,n));else if(r=this.rules.url.exec(e))e=e.substring(r[0].length),n=s(r[1]),i=n,o.push(this.renderer.link(i,null,n));else if(r=this.rules.tag.exec(e))e=e.substring(r[0].length),o.push(this.options.sanitize?s(r[0]):r[0]);else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),o.push(this.outputLink(r,{href:r[2],title:r[3]}));else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o.push(r[0].charAt(0)),e=r[0].substring(1)+e;continue}o.push(this.outputLink(r,t))}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),o.push(this.renderer.strong(this.output(r[2]||r[1])));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),o.push(this.renderer.em(this.output(r[2]||r[1])));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),o.push(this.renderer.codespan(s(r[2],!0)));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),o.push(this.renderer.br());else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),o.push(this.renderer.del(this.output(r[1])));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),o.push(s(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return o},r.prototype.outputLink=function(e,t){var n=s(t.href),i=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,s(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},r.prototype.mangle=function(e){for(var t,n=[],i=e.length,r=0;i>r;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n.push("&#"+t+";");return n},o.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?p.DOM.pre(null,p.DOM.code({className:this.options.langPrefix+s(t,!0),dangerouslySetInnerHTML:{__html:n?e:s(e,!0)}})):p.DOM.pre(null,p.DOM.code({dangerouslySetInnerHTML:{__html:n?e:s(e,!0)}}))},o.prototype.blockquote=function(e){return p.DOM.blockquote({children:e})},o.prototype.html=function(e){return p.DOM.div({dangerouslySetInnerHTML:{__html:e}})},o.prototype.heading=function(e,t,n){return p.DOM["h"+t]({children:e,id:this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")})},o.prototype.hr=function(){return p.DOM.hr(null)},o.prototype.list=function(e,t){var n=t?"ol":"ul";return p.DOM[n]({childrend:e})},o.prototype.listitem=function(e){return p.DOM.li({childrend:e})},o.prototype.paragraph=function(e){return console.log(e),p.DOM.p(null,e)},o.prototype.table=function(e,t){return p.DOM.table(null,p.DOM.thead({childrend:e}),p.DOM.tbody({childrend:t}))},o.prototype.tablerow=function(e){return p.DOM.tr({childrend:e})},o.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i={childrend:e};return t.align&&(i.style.textAlign=t.align),p.DOM[n](i)},o.prototype.strong=function(e){return p.DOM.strong(null,e)},o.prototype.em=function(e){return p.DOM.em(null,e)},o.prototype.codespan=function(e){return p.DOM.code(null,e)},o.prototype.br=function(){return p.DOM.br(null)},o.prototype.del=function(e){return p.DOM.del(null,e)},o.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return p.DOM.a(null)}if(0===i.indexOf("javascript:"))return p.DOM.a(null)}return p.DOM.a({href:e,title:t},n)},o.prototype.image=function(e,t,n){return p.DOM.img({src:e,title:t,alt:n})},a.parse=function(e,t,n){var i=new a(t,n);return i.parse(e)},a.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t=[];this.next();)t.push(this.tok());return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){var e=this.token.text;for(console.log(e);"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r,o="",a=[];for(n=[],e=0;e<this.token.header.length;e++)i={header:!0,align:this.token.align[e]},n.push(this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]}));for(o.push(this.renderer.tablerow(n)),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n.push(this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]}));a.push(this.renderer.tablerow(n))}return this.renderer.table(o,a);case"blockquote_start":for(var a=[];"blockquote_end"!==this.next().type;)a.push(this.tok());return this.renderer.blockquote(a);case"list_start":for(var a=[],s=this.token.ordered;"list_end"!==this.next().type;)a.push(this.tok());return this.renderer.list(a,s);case"list_item_start":for(var a=[];"list_item_end"!==this.next().type;)a.push("text"===this.token.type?this.parseText():this.tok());return this.renderer.listitem(a);case"loose_item_start":for(var a=[];"list_item_end"!==this.next().type;)a.push(this.tok());return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.exec=u,d.options=d.setOptions=function(e){return h(d.defaults,e),d
},d.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o},d.Parser=a,d.parser=a.parse,d.Renderer=o,d.Lexer=i,d.lexer=i.lex,d.InlineLexer=r,d.inlineLexer=r.output,d.parse=d,"object"==typeof n?t.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):this.marked=d}).call(function(){return this||("undefined"!=typeof window?window:i)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],129:[function(e,t){!function(n,i){"use strict";var r,o="data-reactid";"function"==typeof e?(r=e(302),o=e(140).ID_ATTRIBUTE_NAME):r=n.React;var a="main",s={_shadowRoot:{},componentDidMount:function(){var e=this._shadowRoot=this.getDOMNode().parentNode.createShadowRoot(),t=i.createElement(a);this._attachCSS(e),e.appendChild(t),r.render(this.render(),t),this._interceptEvents(),this._stripInlineStyles();var n=i.createElement("script");this.getDOMNode().parentNode.appendChild(n),n.appendChild(this.getDOMNode())},componentDidUpdate:function(){var e=this._shadowRoot.querySelector(a);r.render(this.render(),e),this._stripInlineStyles()},_stripInlineStyles:function(){for(var e=this.getDOMNode(),t=e.querySelectorAll("style"),n=t.length;n--;)t[n].remove()},_attachCSS:function(e){this.cssDocuments&&this._attachCSSDocuments(e),this.cssSource&&this._attachCSSSource(e)},_interceptEvents:function(){var e=this.getDOMNode().getAttribute(o),t=this.getDOMNode().parentNode,n=function a(n){n.stopPropagation();var r=n.target.getAttribute(o);if(r){var a=r.replace(/\.[0-9]+/,e),s=t.querySelector("*["+o+'="'+a+'"]');n.target.value&&s.setAttribute("value",n.target.value);var l=i.createEvent("Events");l.initEvent(n.type,!0,!1),s.dispatchEvent(l)}}.bind(this),r=["click","dblclick","mouseup","mouseout","mouseover","mousedown","mouseenter","mouseleave","contextmenu","keyup","keydown","change"];r.forEach(function(e){this._shadowRoot.addEventListener(e,n)}.bind(this))},_createStyle:function(e,t){var n=i.createElement("style");return n.innerHTML=t,e.appendChild(n),e},_attachCSSSource:function(e){this._createStyle(e,this.cssSource)},_attachCSSDocuments:function(e){var t=this;if(this.cssDocuments){var n="function"==typeof this.cssDocuments,i=n?this.cssDocuments():this.cssDocuments;i.forEach(function(n){t._createStyle(e,'@import "'+n+'"')})}return e}};return"undefined"!=typeof t&&null!=t?void(t.exports=s):void(n.ReactShadow=s)}(window,window.document)},{}],130:[function(e,t){t.exports=e(230)},{}],131:[function(e,t){"use strict";var n=e(264),i={componentDidMount:function(){this.props.autoFocus&&n(this.getDOMNode())}};t.exports=i},{}],132:[function(e,t){"use strict";function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function r(e){switch(e){case I.topCompositionStart:return N.compositionStart;case I.topCompositionEnd:return N.compositionEnd;case I.topCompositionUpdate:return N.compositionUpdate}}function o(e,t){return e===I.topKeyDown&&t.keyCode===_}function a(e,t){switch(e){case I.topKeyUp:return-1!==b.indexOf(t.keyCode);case I.topKeyDown:return t.keyCode!==_;case I.topKeyPress:case I.topMouseDown:case I.topBlur:return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,i){var l,c;if(y?l=r(e):O?a(e,i)&&(l=N.compositionEnd):o(e,i)&&(l=N.compositionStart),!l)return null;w&&(O||l!==N.compositionStart?l===N.compositionEnd&&O&&(c=O.getData()):O=m.getPooled(t));var u=g.getPooled(l,n,i);if(c)u.data=c;else{var h=s(i);null!==h&&(u.data=h)}return p.accumulateTwoPhaseDispatches(u),u}function c(e,t){switch(e){case I.topCompositionEnd:return s(t);case I.topKeyPress:var n=t.which;return n!==k?null:(T=!0,A);case I.topTextInput:var i=t.data;return i===A&&T?null:i;default:return null}}function u(e,t){if(O){if(e===I.topCompositionEnd||a(e,t)){var n=O.getData();return m.release(O),O=null,n}return null}switch(e){case I.topPaste:return null;case I.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case I.topCompositionEnd:return w?null:t.data;default:return null}}function h(e,t,n,i){var r;if(r=C?c(e,i):u(e,i),!r)return null;var o=v.getPooled(N.beforeInput,n,i);return o.data=r,p.accumulateTwoPhaseDispatches(o),o}var d=e(145),p=e(150),f=e(151),m=e(152),g=e(236),v=e(240),E=e(287),b=[9,13,27,32],_=229,y=f.canUseDOM&&"CompositionEvent"in window,S=null;f.canUseDOM&&"documentMode"in document&&(S=document.documentMode);var C=f.canUseDOM&&"TextEvent"in window&&!S&&!n(),w=f.canUseDOM&&(!y||S&&S>8&&11>=S),k=32,A=String.fromCharCode(k),I=d.topLevelTypes,N={beforeInput:{phasedRegistrationNames:{bubbled:E({onBeforeInput:null}),captured:E({onBeforeInputCapture:null})},dependencies:[I.topCompositionEnd,I.topKeyPress,I.topTextInput,I.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:E({onCompositionEnd:null}),captured:E({onCompositionEndCapture:null})},dependencies:[I.topBlur,I.topCompositionEnd,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:E({onCompositionStart:null}),captured:E({onCompositionStartCapture:null})},dependencies:[I.topBlur,I.topCompositionStart,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:E({onCompositionUpdate:null}),captured:E({onCompositionUpdateCapture:null})},dependencies:[I.topBlur,I.topCompositionUpdate,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]}},T=!1,O=null,D={eventTypes:N,extractEvents:function(e,t,n,i){return[l(e,t,n,i),h(e,t,n,i)]}};t.exports=D},{}],133:[function(e,t){var n=e(280),i={addClass:function(e,t){return n(!/\s/.test(t)),t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return n(!/\s/.test(t)),t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return n(!/\s/.test(t)),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=i},{}],134:[function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){r.forEach(function(t){i[n(t,e)]=i[e]})});var o={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},a={isUnitlessNumber:i,shorthandPropertyExpansions:o};t.exports=a},{}],135:[function(e,t){"use strict";var n=e(134),i=e(151),r=(e(251),e(258)),o=e(278),a=e(289),s=(e(301),a(function(e){return o(e)})),l="cssFloat";i.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(l="styleFloat");var c={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];null!=i&&(t+=s(n)+":",t+=r(n,i)+";")}return t||null},setValueForStyles:function(e,t){var i=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=r(o,t[o]);if("float"===o&&(o=l),a)i[o]=a;else{var s=n.shorthandPropertyExpansions[o];if(s)for(var c in s)i[c]="";else i[o]=""}}}};t.exports=c},{}],136:[function(e,t){"use strict";function n(){this._callbacks=null,this._contexts=null}var i=e(159),r=e(158),o=e(280);r(n.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){o(e.length===t.length),this._callbacks=null,this._contexts=null;for(var n=0,i=e.length;i>n;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(n),t.exports=n},{}],137:[function(e,t){"use strict";function n(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function i(e){var t=S.getPooled(I.change,T,e);b.accumulateTwoPhaseDispatches(t),y.batchedUpdates(r,t)}function r(e){E.enqueueEvents(e),E.processEventQueue()}function o(e,t){N=e,T=t,N.attachEvent("onchange",i)}function a(){N&&(N.detachEvent("onchange",i),N=null,T=null)}function s(e,t,n){return e===A.topChange?n:void 0}function l(e,t,n){e===A.topFocus?(a(),o(t,n)):e===A.topBlur&&a()}function c(e,t){N=e,T=t,O=e.value,D=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(N,"value",P),N.attachEvent("onpropertychange",h)}function u(){N&&(delete N.value,N.detachEvent("onpropertychange",h),N=null,T=null,O=null,D=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==O&&(O=t,i(e))}}function d(e,t,n){return e===A.topInput?n:void 0}function p(e,t,n){e===A.topFocus?(u(),c(t,n)):e===A.topBlur&&u()}function f(e){return e!==A.topSelectionChange&&e!==A.topKeyUp&&e!==A.topKeyDown||!N||N.value===O?void 0:(O=N.value,T)}function m(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,n){return e===A.topClick?n:void 0}var v=e(145),E=e(147),b=e(150),_=e(151),y=e(229),S=e(238),C=e(281),w=e(283),k=e(287),A=v.topLevelTypes,I={change:{phasedRegistrationNames:{bubbled:k({onChange:null}),captured:k({onChangeCapture:null})},dependencies:[A.topBlur,A.topChange,A.topClick,A.topFocus,A.topInput,A.topKeyDown,A.topKeyUp,A.topSelectionChange]}},N=null,T=null,O=null,D=null,M=!1;_.canUseDOM&&(M=C("change")&&(!("documentMode"in document)||document.documentMode>8));var x=!1;_.canUseDOM&&(x=C("input")&&(!("documentMode"in document)||document.documentMode>9));var P={get:function(){return D.get.call(this)},set:function(e){O=""+e,D.set.call(this,e)}},L={eventTypes:I,extractEvents:function(e,t,i,r){var o,a;if(n(t)?M?o=s:a=l:w(t)?x?o=d:(o=f,a=p):m(t)&&(o=g),o){var c=o(e,t,i);if(c){var u=S.getPooled(I.change,c,r);return b.accumulateTwoPhaseDispatches(u),u}}a&&a(e,t,i)}};t.exports=L},{}],138:[function(e,t){"use strict";var n=0,i={createReactRootIndex:function(){return n++}};t.exports=i},{}],139:[function(e,t){"use strict";function n(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var i=e(142),r=e(208),o=e(295),a=e(280),s={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:o,processUpdates:function(e,t){for(var s,l=null,c=null,u=0;u<e.length;u++)if(s=e[u],s.type===r.MOVE_EXISTING||s.type===r.REMOVE_NODE){var h=s.fromIndex,d=s.parentNode.childNodes[h],p=s.parentID;a(d),l=l||{},l[p]=l[p]||[],l[p][h]=d,c=c||[],c.push(d)}var f=i.dangerouslyRenderMarkup(t);if(c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);for(var g=0;g<e.length;g++)switch(s=e[g],s.type){case r.INSERT_MARKUP:n(s.parentNode,f[s.markupIndex],s.toIndex);break;case r.MOVE_EXISTING:n(s.parentNode,l[s.parentID][s.fromIndex],s.toIndex);break;case r.TEXT_CONTENT:o(s.parentNode,s.textContent);break;case r.REMOVE_NODE:}}};t.exports=s},{}],140:[function(e,t){"use strict";function n(e,t){return(e&t)===t}var i=e(280),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},o=e.DOMAttributeNames||{},s=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var c in t){i(!a.isStandardName.hasOwnProperty(c)),a.isStandardName[c]=!0;var u=c.toLowerCase();if(a.getPossibleStandardName[u]=c,o.hasOwnProperty(c)){var h=o[c];a.getPossibleStandardName[h]=c,a.getAttributeName[c]=h}else a.getAttributeName[c]=u;a.getPropertyName[c]=s.hasOwnProperty(c)?s[c]:c,a.getMutationMethod[c]=l.hasOwnProperty(c)?l[c]:null;var d=t[c];a.mustUseAttribute[c]=n(d,r.MUST_USE_ATTRIBUTE),a.mustUseProperty[c]=n(d,r.MUST_USE_PROPERTY),a.hasSideEffects[c]=n(d,r.HAS_SIDE_EFFECTS),a.hasBooleanValue[c]=n(d,r.HAS_BOOLEAN_VALUE),a.hasNumericValue[c]=n(d,r.HAS_NUMERIC_VALUE),a.hasPositiveNumericValue[c]=n(d,r.HAS_POSITIVE_NUMERIC_VALUE),a.hasOverloadedBooleanValue[c]=n(d,r.HAS_OVERLOADED_BOOLEAN_VALUE),i(!a.mustUseAttribute[c]||!a.mustUseProperty[c]),i(a.mustUseProperty[c]||!a.hasSideEffects[c]),i(!!a.hasBooleanValue[c]+!!a.hasNumericValue[c]+!!a.hasOverloadedBooleanValue[c]<=1)}}},o={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++){var n=a._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,i=o[e];return i||(o[e]=i={}),t in i||(n=document.createElement(e),i[t]=n[t]),i[t]},injection:r};t.exports=a},{}],141:[function(e,t){"use strict";function n(e,t){return null==t||i.hasBooleanValue[e]&&!t||i.hasNumericValue[e]&&isNaN(t)||i.hasPositiveNumericValue[e]&&1>t||i.hasOverloadedBooleanValue[e]&&t===!1}var i=e(140),r=e(293),o=(e(301),{createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+r(e)},createMarkupForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(e)&&i.isStandardName[e]){if(n(e,t))return"";var o=i.getAttributeName[e];return i.hasBooleanValue[e]||i.hasOverloadedBooleanValue[e]&&t===!0?o:o+"="+r(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+r(t):null},setValueForProperty:function(e,t,r){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var o=i.getMutationMethod[t];if(o)o(e,r);else if(n(t,r))this.deleteValueForProperty(e,t);else if(i.mustUseAttribute[t])e.setAttribute(i.getAttributeName[t],""+r);else{var a=i.getPropertyName[t];i.hasSideEffects[t]&&""+e[a]==""+r||(e[a]=r)}}else i.isCustomAttribute(t)&&(null==r?e.removeAttribute(t):e.setAttribute(t,""+r))},deleteValueForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var n=i.getMutationMethod[t];if(n)n(e,void 0);else if(i.mustUseAttribute[t])e.removeAttribute(i.getAttributeName[t]);else{var r=i.getPropertyName[t],o=i.getDefaultValueForProperty(e.nodeName,r);i.hasSideEffects[t]&&""+e[r]===o||(e[r]=o)}}else i.isCustomAttribute(t)&&e.removeAttribute(t)}});t.exports=o},{}],142:[function(e,t){"use strict";function n(e){return e.substring(1,e.indexOf(" "))}var i=e(151),r=e(256),o=e(259),a=e(272),s=e(280),l=/^(<[^ \/>]+)/,c="data-danger-index",u={dangerouslyRenderMarkup:function(e){s(i.canUseDOM);for(var t,u={},h=0;h<e.length;h++)s(e[h]),t=n(e[h]),t=a(t)?t:"*",u[t]=u[t]||[],u[t][h]=e[h];var d=[],p=0;for(t in u)if(u.hasOwnProperty(t)){var f,m=u[t];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(l,"$1 "+c+'="'+f+'" ')}for(var v=r(m.join(""),o),E=0;E<v.length;++E){var b=v[E];b.hasAttribute&&b.hasAttribute(c)&&(f=+b.getAttribute(c),b.removeAttribute(c),s(!d.hasOwnProperty(f)),d[f]=b,p+=1)}}return s(p===d.length),s(d.length===e.length),d},dangerouslyReplaceNodeWithMarkup:function(e,t){s(i.canUseDOM),s(t),s("html"!==e.tagName.toLowerCase());var n=r(t,o)[0];e.parentNode.replaceChild(n,e)}};t.exports=u},{}],143:[function(e,t){"use strict";var n=e(287),i=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null}),n({AnalyticsEventPlugin:null}),n({MobileSafariClickEventPlugin:null})];t.exports=i},{}],144:[function(e,t){"use strict";var n=e(145),i=e(150),r=e(242),o=e(206),a=e(287),s=n.topLevelTypes,l=o.getFirstReactDOM,c={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},u=[null,null],h={eventTypes:c,extractEvents:function(e,t,n,a){if(e===s.topMouseOver&&(a.relatedTarget||a.fromElement))return null;if(e!==s.topMouseOut&&e!==s.topMouseOver)return null;var h;if(t.window===t)h=t;else{var d=t.ownerDocument;h=d?d.defaultView||d.parentWindow:window}var p,f;if(e===s.topMouseOut?(p=t,f=l(a.relatedTarget||a.toElement)||h):(p=h,f=t),p===f)return null;var m=p?o.getID(p):"",g=f?o.getID(f):"",v=r.getPooled(c.mouseLeave,m,a);v.type="mouseleave",v.target=p,v.relatedTarget=f;var E=r.getPooled(c.mouseEnter,g,a);return E.type="mouseenter",E.target=f,E.relatedTarget=p,i.accumulateEnterLeaveDispatches(v,E,m,g),u[0]=v,u[1]=E,u}};t.exports=h},{}],145:[function(e,t){"use strict";var n=e(286),i=n({bubbled:null,captured:null}),r=n({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),o={topLevelTypes:r,PropagationPhases:i};t.exports=o},{}],146:[function(e,t){var n=e(259),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!0),{remove:function(){e.removeEventListener(t,i,!0)}}):{remove:n}},registerDefault:function(){}};t.exports=i},{}],147:[function(e,t){"use strict";var n=e(148),i=e(149),r=e(248),o=e(265),a=e(280),s={},l=null,c=function(e){if(e){var t=i.executeDispatch,r=n.getPluginModuleForEvent(e);r&&r.executeDispatch&&(t=r.executeDispatch),i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},u=null,h={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){u=e},getInstanceHandle:function(){return u},injectEventPluginOrder:n.injectEventPluginOrder,injectEventPluginsByName:n.injectEventPluginsByName},eventNameDispatchConfigs:n.eventNameDispatchConfigs,registrationNameModules:n.registrationNameModules,putListener:function(e,t,n){a(!n||"function"==typeof n);var i=s[t]||(s[t]={});i[e]=n},getListener:function(e,t){var n=s[t];return n&&n[e]},deleteListener:function(e,t){var n=s[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in s)delete s[t][e]},extractEvents:function(e,t,i,o){for(var a,s=n.plugins,l=0,c=s.length;c>l;l++){var u=s[l];if(u){var h=u.extractEvents(e,t,i,o);h&&(a=r(a,h))}}return a},enqueueEvents:function(e){e&&(l=r(l,e))},processEventQueue:function(){var e=l;l=null,o(e,c),a(!l)},__purge:function(){s={}},__getListenerBank:function(){return s}};t.exports=h},{}],148:[function(e,t){"use strict";function n(){if(a)for(var e in s){var t=s[e],n=a.indexOf(e);if(o(n>-1),!l.plugins[n]){o(t.extractEvents),l.plugins[n]=t;var r=t.eventTypes;for(var c in r)o(i(r[c],t,c))}}}function i(e,t,n){o(!l.eventNameDispatchConfigs.hasOwnProperty(n)),l.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];r(s,t,n)}return!0}return e.registrationName?(r(e.registrationName,t,n),!0):!1}function r(e,t,n){o(!l.registrationNameModules[e]),l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var o=e(280),a=null,s={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){o(!a),a=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];s.hasOwnProperty(i)&&s[i]===r||(o(!s[i]),s[i]=r,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var i=l.registrationNameModules[t.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){a=null;for(var e in s)s.hasOwnProperty(e)&&delete s[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var i=l.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};t.exports=l},{}],149:[function(e,t){"use strict";function n(e){return e===m.topMouseUp||e===m.topTouchEnd||e===m.topTouchCancel}function i(e){return e===m.topMouseMove||e===m.topTouchMove}function r(e){return e===m.topMouseDown||e===m.topTouchStart}function o(e,t){var n=e._dispatchListeners,i=e._dispatchIDs;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)t(e,n[r],i[r]);else n&&t(e,n,i)}function a(e,t,n){e.currentTarget=f.Mount.getNode(n);var i=t(e,n);return e.currentTarget=null,i}function s(e,t){o(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var i=0;i<t.length&&!e.isPropagationStopped();i++)if(t[i](e,n[i]))return n[i]}else if(t&&t(e,n))return n;return null}function c(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function u(e){var t=e._dispatchListeners,n=e._dispatchIDs;p(!Array.isArray(t));var i=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,i}function h(e){return!!e._dispatchListeners}var d=e(145),p=e(280),f={Mount:null,injectMount:function(e){f.Mount=e}},m=d.topLevelTypes,g={isEndish:n,isMoveish:i,isStartish:r,executeDirectDispatch:u,executeDispatch:a,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,injection:f,useTouchEvents:!1};t.exports=g},{}],150:[function(e,t){"use strict";function n(e,t,n){var i=t.dispatchConfig.phasedRegistrationNames[n];return m(e,i)}function i(e,t,i){var r=t?f.bubbled:f.captured,o=n(e,i,r);o&&(i._dispatchListeners=d(i._dispatchListeners,o),i._dispatchIDs=d(i._dispatchIDs,e))}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function o(e,t,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=m(e,i);r&&(n._dispatchListeners=d(n._dispatchListeners,r),n._dispatchIDs=d(n._dispatchIDs,e))}}function a(e){e&&e.dispatchConfig.registrationName&&o(e.dispatchMarker,null,e)}function s(e){p(e,r)}function l(e,t,n,i){h.injection.getInstanceHandle().traverseEnterLeave(n,i,o,e,t)}function c(e){p(e,a)}var u=e(145),h=e(147),d=e(248),p=e(265),f=u.PropagationPhases,m=h.getListener,g={accumulateTwoPhaseDispatches:s,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:l};t.exports=g},{}],151:[function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=i},{}],152:[function(e,t){"use strict";function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=e(159),r=e(158),o=e(275);r(n.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,i=n.length,r=this.getText(),o=r.length;for(e=0;i>e&&n[e]===r[e];e++);var a=i-e;for(t=1;a>=t&&n[i-t]===r[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=r.slice(e,s),this._fallbackText}}),i.addPoolingTo(n),t.exports=n},{}],153:[function(e,t){"use strict";var n,i=e(140),r=e(151),o=i.injection.MUST_USE_ATTRIBUTE,a=i.injection.MUST_USE_PROPERTY,s=i.injection.HAS_BOOLEAN_VALUE,l=i.injection.HAS_SIDE_EFFECTS,c=i.injection.HAS_NUMERIC_VALUE,u=i.injection.HAS_POSITIVE_NUMERIC_VALUE,h=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var d=document.implementation;n=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var p={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|s,allowTransparency:o,alt:null,async:s,autoComplete:null,autoPlay:s,cellPadding:null,cellSpacing:null,charSet:o,checked:a|s,classID:o,className:n?o:a,cols:o|u,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:a|s,coords:null,crossOrigin:null,data:null,dateTime:o,defer:s,dir:null,disabled:o|s,download:h,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:s,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|s,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,label:null,lang:null,list:o,loop:a|s,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,multiple:a|s,muted:a|s,name:null,noValidate:s,open:s,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|s,rel:null,required:s,role:o,rows:o|u,rowSpan:null,sandbox:null,scope:null,scoped:s,scrolling:null,seamless:o|s,selected:a|s,shape:null,size:o|u,sizes:o,span:u,spellCheck:null,src:null,srcDoc:a,srcSet:o,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|l,width:o,wmode:o,autoCapitalize:null,autoCorrect:null,itemProp:o,itemScope:o|s,itemType:o,itemID:o,itemRef:o,property:null,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=p},{}],154:[function(e,t){"use strict";var n=e(204),i=e(223),r={linkState:function(e){return new n(this.state[e],i.createStateKeySetter(this,e))}};t.exports=r},{}],155:[function(e,t){"use strict";function n(e){l(null==e.props.checkedLink||null==e.props.valueLink)}function i(e){n(e),l(null==e.props.value&&null==e.props.onChange)}function r(e){n(e),l(null==e.props.checked&&null==e.props.onChange)}function o(e){this.props.valueLink.requestChange(e.target.value)}function a(e){this.props.checkedLink.requestChange(e.target.checked)}var s=e(215),l=e(280),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},u={Mixin:{propTypes:{value:function(e,t){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func}},getValue:function(e){return e.props.valueLink?(i(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(r(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(i(e),o):e.props.checkedLink?(r(e),a):e.props.onChange}};t.exports=u},{}],156:[function(e,t){"use strict";function n(e){e.remove()}var i=e(162),r=e(248),o=e(265),a=e(280),s={trapBubbledEvent:function(e,t){a(this.isMounted());var n=this.getDOMNode();a(n);var o=i.trapBubbledEvent(e,t,n);this._localEventListeners=r(this._localEventListeners,o)},componentWillUnmount:function(){this._localEventListeners&&o(this._localEventListeners,n)}};t.exports=s},{}],157:[function(e,t){"use strict";var n=e(145),i=e(259),r=n.topLevelTypes,o={eventTypes:null,extractEvents:function(e,t,n,o){if(e===r.topTouchStart){var a=o.target;a&&!a.onclick&&(a.onclick=i)}}};t.exports=o},{}],158:[function(e,t){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var t=Object(e),n=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r){var o=Object(r);for(var a in o)n.call(o,a)&&(t[a]=o[a])}}return t}t.exports=n},{}],159:[function(e,t){"use strict";var n=e(280),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},r=function(e,t){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,e,t),i}return new n(e,t)},o=function(e,t,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,e,t,n),r}return new i(e,t,n)},a=function(e,t,n,i,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,i,r),a}return new o(e,t,n,i,r)},s=function(e){var t=this;n(e instanceof t),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,c=i,u=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=l),n.release=s,n},h={addPoolingTo:u,oneArgumentPooler:i,twoArgumentPooler:r,threeArgumentPooler:o,fiveArgumentPooler:a};t.exports=h},{}],160:[function(e,t){"use strict";var n=e(149),i=e(166),r=e(168),o=e(167),a=e(173),s=e(174),l=e(192),c=(e(193),e(175)),u=e(186),h=e(189),d=e(201),p=e(206),f=e(211),m=e(215),g=e(218),v=e(221),E=e(158),b=e(262),_=e(290);h.inject();var y=l.createElement,S=l.createFactory,C=l.cloneElement,w=f.measure("React","render",p.render),k={Children:{map:i.map,forEach:i.forEach,count:i.count,only:_},Component:r,DOM:c,PropTypes:m,initializeTouchEvents:function(e){n.useTouchEvents=e},createClass:o.createClass,createElement:y,cloneElement:C,createFactory:S,createMixin:function(e){return e},constructAndRenderComponent:p.constructAndRenderComponent,constructAndRenderComponentByID:p.constructAndRenderComponentByID,findDOMNode:b,render:w,renderToString:v.renderToString,renderToStaticMarkup:v.renderToStaticMarkup,unmountComponentAtNode:p.unmountComponentAtNode,isValidElement:l.isValidElement,withContext:a.withContext,__spread:E};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:s,InstanceHandles:d,Mount:p,Reconciler:g,TextComponent:u});k.version="0.13.3",t.exports=k},{}],161:[function(e,t){"use strict";var n=e(262),i={getDOMNode:function(){return n(this)}};t.exports=i},{}],162:[function(e,t){"use strict";function n(e){return Object.prototype.hasOwnProperty.call(e,f)||(e[f]=d++,u[e[f]]={}),u[e[f]]}var i=e(145),r=e(147),o=e(148),a=e(196),s=e(247),l=e(158),c=e(281),u={},h=!1,d=0,p={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},f="_reactListenersID"+String(Math.random()).slice(2),m=l({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e
}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var r=t,a=n(r),s=o.registrationNameDependencies[e],l=i.topLevelTypes,u=0,h=s.length;h>u;u++){var d=s[u];a.hasOwnProperty(d)&&a[d]||(d===l.topWheel?c("wheel")?m.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",r):c("mousewheel")?m.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",r):m.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",r):d===l.topScroll?c("scroll",!0)?m.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",r):m.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",m.ReactEventListener.WINDOW_HANDLE):d===l.topFocus||d===l.topBlur?(c("focus",!0)?(m.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",r),m.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",r)):c("focusin")&&(m.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",r),m.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",r)),a[l.topBlur]=!0,a[l.topFocus]=!0):p.hasOwnProperty(d)&&m.ReactEventListener.trapBubbledEvent(d,p[d],r),a[d]=!0)}},trapBubbledEvent:function(e,t,n){return m.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return m.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!h){var e=s.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),h=!0}},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners});t.exports=m},{}],163:[function(e,t){"use strict";var n=e(160),i=e(158),r=n.createFactory(e(227)),o=n.createFactory(e(164)),a=n.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:n.PropTypes.string.isRequired,transitionAppear:n.PropTypes.bool,transitionEnter:n.PropTypes.bool,transitionLeave:n.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return r(i({},this.props,{childFactory:this._wrapChild}))}});t.exports=a},{}],164:[function(e,t){"use strict";var n=e(160),i=e(133),r=e(226),o=e(290),a=(e(301),17),s=n.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),o=this.props.name+"-"+e,a=o+"-active",s=function(e){e&&e.target!==n||(i.removeClass(n,o),i.removeClass(n,a),r.removeEndEventListener(n,s),t&&t())};r.addEndEventListener(n,s),i.addClass(n,o),this.queueClass(a)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,a))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(i.addClass.bind(i,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return o(this.props.children)}});t.exports=s},{}],165:[function(e,t){"use strict";var n=e(218),i=e(263),r=e(279),o=e(297),a={instantiateChildren:function(e){var t=i(e);for(var n in t)if(t.hasOwnProperty(n)){var o=t[n],a=r(o,null);t[n]=a}return t},updateChildren:function(e,t,a,s){var l=i(t);if(!l&&!e)return null;var c;for(c in l)if(l.hasOwnProperty(c)){var u=e&&e[c],h=u&&u._currentElement,d=l[c];if(o(h,d))n.receiveComponent(u,d,a,s),l[c]=u;else{u&&n.unmountComponent(u,c);var p=r(d,null);l[c]=p}}for(c in e)!e.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||n.unmountComponent(e[c]);return l},unmountChildren:function(e){for(var t in e){var i=e[t];n.unmountComponent(i)}}};t.exports=a},{}],166:[function(e,t){"use strict";function n(e,t){this.forEachFunction=e,this.forEachContext=t}function i(e,t,n,i){var r=e;r.forEachFunction.call(r.forEachContext,t,i)}function r(e,t,r){if(null==e)return e;var o=n.getPooled(t,r);d(e,i,o),n.release(o)}function o(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function a(e,t,n,i){var r=e,o=r.mapResult,a=!o.hasOwnProperty(n);if(a){var s=r.mapFunction.call(r.mapContext,t,i);o[n]=s}}function s(e,t,n){if(null==e)return e;var i={},r=o.getPooled(i,t,n);return d(e,a,r),o.release(r),h.create(i)}function l(){return null}function c(e){return d(e,l,null)}var u=e(159),h=e(198),d=e(299),p=(e(301),u.twoArgumentPooler),f=u.threeArgumentPooler;u.addPoolingTo(n,p),u.addPoolingTo(o,f);var m={forEach:r,map:s,count:c};t.exports=m},{}],167:[function(e,t){"use strict";function n(e,t){var n=C.hasOwnProperty(t)?C[t]:null;k.hasOwnProperty(t)&&v(n===y.OVERRIDE_BASE),e.hasOwnProperty(t)&&v(n===y.DEFINE_MANY||n===y.DEFINE_MANY_MERGED)}function i(e,t){if(t){v("function"!=typeof t),v(!h.isValidElement(t));var i=e.prototype;t.hasOwnProperty(_)&&w.mixins(e,t.mixins);for(var r in t)if(t.hasOwnProperty(r)&&r!==_){var o=t[r];if(n(i,r),w.hasOwnProperty(r))w[r](e,o);else{var l=C.hasOwnProperty(r),c=i.hasOwnProperty(r),u=o&&o.__reactDontBind,d="function"==typeof o,p=d&&!l&&!c&&!u;if(p)i.__reactAutoBindMap||(i.__reactAutoBindMap={}),i.__reactAutoBindMap[r]=o,i[r]=o;else if(c){var f=C[r];v(l&&(f===y.DEFINE_MANY_MERGED||f===y.DEFINE_MANY)),f===y.DEFINE_MANY_MERGED?i[r]=a(i[r],o):f===y.DEFINE_MANY&&(i[r]=s(i[r],o))}else i[r]=o}}}}function r(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){var r=n in w;v(!r);var o=n in e;v(!o),e[n]=i}}}function o(e,t){v(e&&t&&"object"==typeof e&&"object"==typeof t);for(var n in t)t.hasOwnProperty(n)&&(v(void 0===e[n]),e[n]=t[n]);return e}function a(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return o(r,n),o(r,i),r}}function s(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=l(e,d.guard(n,e.constructor.displayName+"."+t))}}var u=e(168),h=(e(174),e(192)),d=e(195),p=e(202),f=e(203),m=(e(214),e(213),e(228)),g=e(158),v=e(280),E=e(286),b=e(287),_=(e(301),b({mixins:null})),y=E({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),S=[],C={mixins:y.DEFINE_MANY,statics:y.DEFINE_MANY,propTypes:y.DEFINE_MANY,contextTypes:y.DEFINE_MANY,childContextTypes:y.DEFINE_MANY,getDefaultProps:y.DEFINE_MANY_MERGED,getInitialState:y.DEFINE_MANY_MERGED,getChildContext:y.DEFINE_MANY_MERGED,render:y.DEFINE_ONCE,componentWillMount:y.DEFINE_MANY,componentDidMount:y.DEFINE_MANY,componentWillReceiveProps:y.DEFINE_MANY,shouldComponentUpdate:y.DEFINE_ONCE,componentWillUpdate:y.DEFINE_MANY,componentDidUpdate:y.DEFINE_MANY,componentWillUnmount:y.DEFINE_MANY,updateComponent:y.OVERRIDE_BASE},w={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=g({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=g({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps=e.getDefaultProps?a(e.getDefaultProps,t):t},propTypes:function(e,t){e.propTypes=g({},e.propTypes,t)},statics:function(e,t){r(e,t)}},k={replaceState:function(e,t){m.enqueueReplaceState(this,e),t&&m.enqueueCallback(this,t)},isMounted:function(){var e=p.get(this);return e&&e!==f.currentlyMountingInstance},setProps:function(e,t){m.enqueueSetProps(this,e),t&&m.enqueueCallback(this,t)},replaceProps:function(e,t){m.enqueueReplaceProps(this,e),t&&m.enqueueCallback(this,t)}},A=function(){};g(A.prototype,u.prototype,k);var I={createClass:function(e){var t=function(e,t){this.__reactAutoBindMap&&c(this),this.props=e,this.context=t,this.state=null;var n=this.getInitialState?this.getInitialState():null;v("object"==typeof n&&!Array.isArray(n)),this.state=n};t.prototype=new A,t.prototype.constructor=t,S.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),v(t.prototype.render);for(var n in C)t.prototype[n]||(t.prototype[n]=null);return t.type=t,t},injection:{injectMixin:function(e){S.push(e)}}};t.exports=I},{}],168:[function(e,t){"use strict";function n(e,t){this.props=e,this.context=t}{var i=e(228),r=e(280);e(301)}n.prototype.setState=function(e,t){r("object"==typeof e||"function"==typeof e||null==e),i.enqueueSetState(this,e),t&&i.enqueueCallback(this,t)},n.prototype.forceUpdate=function(e){i.enqueueForceUpdate(this),e&&i.enqueueCallback(this,e)};t.exports=n},{}],169:[function(e,t){"use strict";var n=e(179),i=e(206),r={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:n.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};t.exports=r},{}],170:[function(e,t){"use strict";var n=e(280),i=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){n(!i),r.unmountIDFromEnvironment=e.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,r.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};t.exports=r},{}],171:[function(e,t){"use strict";var n=e(296),i={shouldComponentUpdate:function(e,t){return!n(this.props,e)||!n(this.state,t)}};t.exports=i},{}],172:[function(e,t){"use strict";function n(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}var i=e(170),r=e(173),o=e(174),a=e(192),s=(e(193),e(202)),l=e(203),c=e(209),u=e(211),h=e(214),d=(e(213),e(218)),p=e(229),f=e(158),m=e(260),g=e(280),v=e(297),E=(e(301),1),b={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=E++,this._rootNodeID=e;var i=this._processProps(this._currentElement.props),r=this._processContext(this._currentElement._context),o=c.getComponentClassForElement(this._currentElement),a=new o(i,r);a.props=i,a.context=r,a.refs=m,this._instance=a,s.set(a,this);var u=a.state;void 0===u&&(a.state=u=null),g("object"==typeof u&&!Array.isArray(u)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var h,p,f=l.currentlyMountingInstance;l.currentlyMountingInstance=this;try{a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),h=this._getValidatedChildContext(n),p=this._renderValidatedComponent(h)}finally{l.currentlyMountingInstance=f}this._renderedComponent=this._instantiateReactComponent(p,this._currentElement.type);var v=d.mountComponent(this._renderedComponent,e,t,this._mergeChildContext(n,h));return a.componentDidMount&&t.getReactMountReady().enqueue(a.componentDidMount,a),v},unmountComponent:function(){var e=this._instance;if(e.componentWillUnmount){var t=l.currentlyUnmountingInstance;l.currentlyUnmountingInstance=this;try{e.componentWillUnmount()}finally{l.currentlyUnmountingInstance=t}}d.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,s.remove(e)},_setPropsInternal:function(e,t){var n=this._pendingElement||this._currentElement;this._pendingElement=a.cloneAndReplaceProps(n,f({},n.props,e)),p.enqueueUpdate(this,t)},_maskContext:function(e){var t=null;if("string"==typeof this._currentElement.type)return m;var n=this._currentElement.type.contextTypes;if(!n)return m;t={};for(var i in n)t[i]=e[i];return t},_processContext:function(e){var t=this._maskContext(e);return t},_getValidatedChildContext:function(){var e=this._instance,t=e.getChildContext&&e.getChildContext();if(t){g("object"==typeof e.constructor.childContextTypes);for(var n in t)g(n in e.constructor.childContextTypes);return t}return null},_mergeChildContext:function(e,t){return t?f({},e,t):e},_processProps:function(e){return e},_checkPropTypes:function(e,t,i){var r=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{g("function"==typeof e[o]),a=e[o](t,o,r,i)}catch(s){a=s}if(a instanceof Error){{n(this)}i===h.prop}}},receiveComponent:function(e,t,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,i,e,r,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&d.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(e,t){e=this._maskContext(e),t=this._maskContext(t);for(var n=Object.keys(t).sort(),i=(this.getName()||"ReactCompositeComponent",0);i<n.length;i++){n[i]}},updateComponent:function(e,t,n,i,r){var o=this._instance,a=o.context,s=o.props;t!==n&&(a=this._processContext(n._context),s=this._processProps(n.props),o.componentWillReceiveProps&&o.componentWillReceiveProps(s,a));var l=this._processPendingState(s,a),c=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(s,l,a);c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,s,l,a,e,r)):(this._currentElement=n,this._context=r,o.props=s,o.state=l,o.context=a)},_processPendingState:function(e,t){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var o=f({},r?i[0]:n.state),a=r?1:0;a<i.length;a++){var s=i[a];f(o,"function"==typeof s?s.call(n,o,e,t):s)}return o},_performComponentUpdate:function(e,t,n,i,r,o){var a=this._instance,s=a.props,l=a.state,c=a.context;a.componentWillUpdate&&a.componentWillUpdate(t,n,i),this._currentElement=e,this._context=o,a.props=t,a.state=n,a.context=i,this._updateRenderedComponent(r,o),a.componentDidUpdate&&r.getReactMountReady().enqueue(a.componentDidUpdate.bind(a,s,l,c),a)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,i=n._currentElement,r=this._getValidatedChildContext(),o=this._renderValidatedComponent(r);if(v(i,o))d.receiveComponent(n,o,e,this._mergeChildContext(t,r));else{var a=this._rootNodeID,s=n._rootNodeID;d.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o,this._currentElement.type);var l=d.mountComponent(this._renderedComponent,a,e,this._mergeChildContext(t,r));this._replaceNodeWithMarkupByID(s,l)}},_replaceNodeWithMarkupByID:function(e,t){i.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(e){var t,n=r.current;r.current=this._mergeChildContext(this._currentElement._context,e),o.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{r.current=n,o.current=null}return g(null===t||t===!1||a.isValidElement(t)),t},attachRef:function(e,t){var n=this.getPublicInstance(),i=n.refs===m?n.refs={}:n.refs;i[e]=t.getPublicInstance()},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};u.measureMethods(b,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var _={Mixin:b};t.exports=_},{}],173:[function(e,t){"use strict";var n=e(158),i=e(260),r=(e(301),{current:i,withContext:function(e,t){var i,o=r.current;r.current=n({},o,e);try{i=t()}finally{r.current=o}return i}});t.exports=r},{}],174:[function(e,t){"use strict";var n={current:null};t.exports=n},{}],175:[function(e,t){"use strict";function n(e){return i.createFactory(e)}var i=e(192),r=(e(193),e(288)),o=r({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},n);t.exports=o},{}],176:[function(e,t){"use strict";var n=e(131),i=e(161),r=e(167),o=e(192),a=e(286),s=o.createFactory("button"),l=a({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=r.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[n,i],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&l[t]||(e[t]=this.props[t]);return s(e,this.props.children)}});t.exports=c},{}],177:[function(e,t){"use strict";function n(e){e&&(null!=e.dangerouslySetInnerHTML&&(g(null==e.children),g("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML)),g(null==e.style||"object"==typeof e.style))}function i(e,t,n,i){var r=h.findReactContainerForID(e);if(r){var o=r.nodeType===C?r.ownerDocument:r;b(t,o)}i.getPutListenerQueue().enqueuePutListener(e,t,n)}function r(e){N.call(I,e)||(g(A.test(e)),I[e]=!0)}function o(e){r(e),this._tag=e,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var a=e(135),s=e(140),l=e(141),c=e(162),u=e(169),h=e(206),d=e(207),p=e(211),f=e(158),m=e(261),g=e(280),v=(e(281),e(287)),E=(e(301),c.deleteListener),b=c.listenTo,_=c.registrationNameModules,y={string:!0,number:!0},S=v({style:null}),C=1,w=null,k={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},A=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,I={},N={}.hasOwnProperty;o.displayName="ReactDOMComponent",o.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,i){this._rootNodeID=e,n(this._currentElement.props);var r=k[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t,i)+r},_createOpenTagMarkupAndPutListeners:function(e){var t=this._currentElement.props,n="<"+this._tag;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(_.hasOwnProperty(r))i(this._rootNodeID,r,o,e);else{r===S&&(o&&(o=this._previousStyleCopy=f({},t.style)),o=a.createMarkupForStyles(o));var s=l.createMarkupForProperty(r,o);s&&(n+=" "+s)}}if(e.renderToStaticMarkup)return n+">";var c=l.createMarkupForID(this._rootNodeID);return n+" "+c+">"},_createContentMarkup:function(e,t){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var i=this._currentElement.props,r=i.dangerouslySetInnerHTML;if(null!=r){if(null!=r.__html)return n+r.__html}else{var o=y[typeof i.children]?i.children:null,a=null!=o?null:i.children;if(null!=o)return n+m(o);if(null!=a){var s=this.mountChildren(a,e,t);return n+s.join("")}}return n},receiveComponent:function(e,t,n){var i=this._currentElement;this._currentElement=e,this.updateComponent(t,i,e,n)},updateComponent:function(e,t,i,r){n(this._currentElement.props),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e,r)},_updateDOMProperties:function(e,t){var n,r,o,a=this._currentElement.props;for(n in e)if(!a.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===S){var l=this._previousStyleCopy;for(r in l)l.hasOwnProperty(r)&&(o=o||{},o[r]="");this._previousStyleCopy=null}else _.hasOwnProperty(n)?E(this._rootNodeID,n):(s.isStandardName[n]||s.isCustomAttribute(n))&&w.deletePropertyByID(this._rootNodeID,n);for(n in a){var c=a[n],u=n===S?this._previousStyleCopy:e[n];if(a.hasOwnProperty(n)&&c!==u)if(n===S)if(c?c=this._previousStyleCopy=f({},c):this._previousStyleCopy=null,u){for(r in u)!u.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(o=o||{},o[r]="");for(r in c)c.hasOwnProperty(r)&&u[r]!==c[r]&&(o=o||{},o[r]=c[r])}else o=c;else _.hasOwnProperty(n)?i(this._rootNodeID,n,c,t):(s.isStandardName[n]||s.isCustomAttribute(n))&&w.updatePropertyByID(this._rootNodeID,n,c)}o&&w.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(e,t,n){var i=this._currentElement.props,r=y[typeof e.children]?e.children:null,o=y[typeof i.children]?i.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=i.dangerouslySetInnerHTML&&i.dangerouslySetInnerHTML.__html,l=null!=r?null:e.children,c=null!=o?null:i.children,u=null!=r||null!=a,h=null!=o||null!=s;null!=l&&null==c?this.updateChildren(null,t,n):u&&!h&&this.updateTextContent(""),null!=o?r!==o&&this.updateTextContent(""+o):null!=s?a!==s&&w.updateInnerHTMLByID(this._rootNodeID,s):null!=c&&this.updateChildren(c,t,n)},unmountComponent:function(){this.unmountChildren(),c.deleteAllListeners(this._rootNodeID),u.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},p.measureMethods(o,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),f(o.prototype,o.Mixin,d.Mixin),o.injection={injectIDOperations:function(e){o.BackendIDOperations=w=e}},t.exports=o},{}],178:[function(e,t){"use strict";var n=e(145),i=e(156),r=e(161),o=e(167),a=e(192),s=a.createFactory("form"),l=o.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[r,i],render:function(){return s(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(n.topLevelTypes.topSubmit,"submit")}});t.exports=l},{}],179:[function(e,t){"use strict";var n=e(135),i=e(139),r=e(141),o=e(206),a=e(211),s=e(280),l=e(294),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,t,n){var i=o.getNode(e);s(!c.hasOwnProperty(t)),null!=n?r.setValueForProperty(i,t,n):r.deleteValueForProperty(i,t)},deletePropertyByID:function(e,t,n){var i=o.getNode(e);s(!c.hasOwnProperty(t)),r.deleteValueForProperty(i,t,n)},updateStylesByID:function(e,t){var i=o.getNode(e);n.setValueForStyles(i,t)},updateInnerHTMLByID:function(e,t){var n=o.getNode(e);l(n,t)},updateTextContentByID:function(e,t){var n=o.getNode(e);i.updateTextContent(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=o.getNode(e);i.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=o.getNode(e[n].parentID);i.processUpdates(e,t)}};a.measureMethods(u,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=u},{}],180:[function(e,t){"use strict";var n=e(145),i=e(156),r=e(161),o=e(167),a=e(192),s=a.createFactory("iframe"),l=o.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[r,i],render:function(){return s(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topLoad,"load")}});t.exports=l},{}],181:[function(e,t){"use strict";var n=e(145),i=e(156),r=e(161),o=e(167),a=e(192),s=a.createFactory("img"),l=o.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[r,i],render:function(){return s(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(n.topLevelTypes.topError,"error")}});t.exports=l},{}],182:[function(e,t){"use strict";function n(){this.isMounted()&&this.forceUpdate()}var i=e(131),r=e(141),o=e(155),a=e(161),s=e(167),l=e(192),c=e(206),u=e(229),h=e(158),d=e(280),p=l.createFactory("input"),f={},m=s.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[i,o.Mixin,a],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=h({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=o.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=o.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,p(e,this.props.children)},componentDidMount:function(){var e=c.getID(this.getDOMNode());f[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=c.getID(e);delete f[t]},componentDidUpdate:function(){var e=this.getDOMNode();null!=this.props.checked&&r.setValueForProperty(e,"checked",this.props.checked||!1);var t=o.getValue(this);null!=t&&r.setValueForProperty(e,"value",""+t)},_handleChange:function(e){var t,i=o.getOnChange(this);i&&(t=i.call(this,e)),u.asap(n,this);var r=this.props.name;if("radio"===this.props.type&&null!=r){for(var a=this.getDOMNode(),s=a;s.parentNode;)s=s.parentNode;for(var l=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),h=0,p=l.length;p>h;h++){var m=l[h];if(m!==a&&m.form===a.form){var g=c.getID(m);d(g);var v=f[g];d(v),u.asap(n,v)}}}return t}});t.exports=m},{}],183:[function(e,t){"use strict";var n=e(161),i=e(167),r=e(192),o=(e(301),r.createFactory("option")),a=i.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[n],componentWillMount:function(){},render:function(){return o(this.props,this.props.children)}});t.exports=a},{}],184:[function(e,t){"use strict";function n(){if(this._pendingUpdate){this._pendingUpdate=!1;var e=a.getValue(this);null!=e&&this.isMounted()&&r(this,e)}}function i(e,t){if(null==e[t])return null;if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function r(e,t){var n,i,r,o=e.getDOMNode().options;if(e.props.multiple){for(n={},i=0,r=t.length;r>i;i++)n[""+t[i]]=!0;for(i=0,r=o.length;r>i;i++){var a=n.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(n=""+t,i=0,r=o.length;r>i;i++)if(o[i].value===n)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}var o=e(131),a=e(155),s=e(161),l=e(167),c=e(192),u=e(229),h=e(158),d=c.createFactory("select"),p=l.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[o,a.Mixin,s],propTypes:{defaultValue:i,value:i},render:function(){var e=h({},this.props);return e.onChange=this._handleChange,e.value=null,d(e,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var e=a.getValue(this);null!=e?r(this,e):null!=this.props.defaultValue&&r(this,this.props.defaultValue)},componentDidUpdate:function(e){var t=a.getValue(this);null!=t?(this._pendingUpdate=!1,r(this,t)):!e.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?r(this,this.props.defaultValue):r(this,this.props.multiple?[]:""))},_handleChange:function(e){var t,i=a.getOnChange(this);return i&&(t=i.call(this,e)),this._pendingUpdate=!0,u.asap(n,this),t}});t.exports=p},{}],185:[function(e,t){"use strict";function n(e,t,n,i){return e===n&&t===i}function i(e){var t=document.selection,n=t.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var o=r.text.length,a=o+i;return{start:o,end:a}}function r(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var i=t.anchorNode,r=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0),l=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:s.toString().length,u=s.cloneRange();u.selectNodeContents(e),u.setEnd(s.startContainer,s.startOffset);var h=n(u.startContainer,u.startOffset,u.endContainer,u.endOffset),d=h?0:u.toString().length,p=d+c,f=document.createRange();f.setStart(i,r),f.setEnd(o,a);var m=f.collapsed;return{start:m?p:d,end:m?d:p}}function o(e,t){var n,i,r=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,i=n):t.start>t.end?(n=t.end,i=t.start):(n=t.start,i=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function a(e,t){if(window.getSelection){var n=window.getSelection(),i=e[c()].length,r=Math.min(t.start,i),o="undefined"==typeof t.end?r:Math.min(t.end,i);if(!n.extend&&r>o){var a=o;o=r,r=a}var s=l(e,r),u=l(e,o);if(s&&u){var h=document.createRange();h.setStart(s.node,s.offset),n.removeAllRanges(),r>o?(n.addRange(h),n.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),n.addRange(h))}}}var s=e(151),l=e(273),c=e(275),u=s.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:u?i:r,setOffsets:u?o:a};t.exports=h},{}],186:[function(e,t){"use strict";var n=e(141),i=e(169),r=e(177),o=e(158),a=e(261),s=function(){};o(s.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t){this._rootNodeID=e;var i=a(this._stringText);return t.renderToStaticMarkup?i:"<span "+n.createMarkupForID(e)+">"+i+"</span>"},receiveComponent:function(e){if(e!==this._currentElement){this._currentElement=e;var t=""+e;t!==this._stringText&&(this._stringText=t,r.BackendIDOperations.updateTextContentByID(this._rootNodeID,t))}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=s},{}],187:[function(e,t){"use strict";function n(){this.isMounted()&&this.forceUpdate()}var i=e(131),r=e(141),o=e(155),a=e(161),s=e(167),l=e(192),c=e(229),u=e(158),h=e(280),d=(e(301),l.createFactory("textarea")),p=s.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[i,o.Mixin,a],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(h(null==e),Array.isArray(t)&&(h(t.length<=1),t=t[0]),e=""+t),null==e&&(e="");var n=o.getValue(this);return{initialValue:""+(null!=n?n:e)}},render:function(){var e=u({},this.props);return h(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,d(e,this.state.initialValue)
},componentDidUpdate:function(){var e=o.getValue(this);if(null!=e){var t=this.getDOMNode();r.setValueForProperty(t,"value",""+e)}},_handleChange:function(e){var t,i=o.getOnChange(this);return i&&(t=i.call(this,e)),c.asap(n,this),t}});t.exports=p},{}],188:[function(e,t){"use strict";function n(){this.reinitializeTransaction()}var i=e(229),r=e(246),o=e(158),a=e(259),s={initialize:a,close:function(){h.isBatchingUpdates=!1}},l={initialize:a,close:i.flushBatchedUpdates.bind(i)},c=[l,s];o(n.prototype,r.Mixin,{getTransactionWrappers:function(){return c}});var u=new n,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,i,r){var o=h.isBatchingUpdates;h.isBatchingUpdates=!0,o?e(t,n,i,r):u.perform(e,null,t,n,i,r)}};t.exports=h},{}],189:[function(e,t){"use strict";function n(e){return p.createClass({tagName:e.toUpperCase(),render:function(){return new I(e,null,null,null,null,this.props)}})}function i(){T.EventEmitter.injectReactEventListener(N),T.EventPluginHub.injectEventPluginOrder(s),T.EventPluginHub.injectInstanceHandle(O),T.EventPluginHub.injectMount(D),T.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:L,EnterLeaveEventPlugin:l,ChangeEventPlugin:o,MobileSafariClickEventPlugin:h,SelectEventPlugin:x,BeforeInputEventPlugin:r}),T.NativeComponent.injectGenericComponentClass(g),T.NativeComponent.injectTextComponentClass(A),T.NativeComponent.injectAutoWrapper(n),T.Class.injectMixin(d),T.NativeComponent.injectComponentClasses({button:v,form:E,iframe:y,img:b,input:S,option:C,select:w,textarea:k,html:B("html"),head:B("head"),body:B("body")}),T.DOMProperty.injectDOMPropertyConfig(u),T.DOMProperty.injectDOMPropertyConfig(R),T.EmptyComponent.injectEmptyComponent("noscript"),T.Updates.injectReconcileTransaction(M),T.Updates.injectBatchingStrategy(m),T.RootIndex.injectCreateReactRootIndex(c.canUseDOM?a.createReactRootIndex:P.createReactRootIndex),T.Component.injectEnvironment(f),T.DOMComponent.injectIDOperations(_)}var r=e(132),o=e(137),a=e(138),s=e(143),l=e(144),c=e(151),u=e(153),h=e(157),d=e(161),p=e(167),f=e(169),m=e(188),g=e(177),v=e(176),E=e(178),b=e(181),_=e(179),y=e(180),S=e(182),C=e(183),w=e(184),k=e(187),A=e(186),I=e(192),N=e(197),T=e(199),O=e(201),D=e(206),M=e(217),x=e(232),P=e(233),L=e(234),R=e(231),B=e(255);t.exports={inject:i}},{}],190:[function(e,t){"use strict";function n(e){return Math.floor(100*e)/100}function i(e,t,n){e[t]=(e[t]||0)+n}var r=e(140),o=e(191),a=e(206),s=e(211),l=e(292),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||s.injection.injectMeasure(c.measure),c._allMeasurements.length=0,s.enableMeasure=!0},stop:function(){s.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=o.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":n(e.inclusive),"Exclusive mount time (ms)":n(e.exclusive),"Exclusive render time (ms)":n(e.render),"Mount time per instance (ms)":n(e.exclusive/e.count),"Render time per instance (ms)":n(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=o.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":n(e.time),Instances:e.count}})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=o.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=o.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[r.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,i){var r=c._allMeasurements[c._allMeasurements.length-1].writes;r[e]=r[e]||[],r[e].push({type:t,time:n,args:i})},measure:function(e,t,n){return function(){for(var r=[],o=0,s=arguments.length;s>o;o++)r.push(arguments[o]);var u,h,d;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),d=l(),h=n.apply(this,r),c._allMeasurements[c._allMeasurements.length-1].totalTime=l()-d,h;if("_mountImageIntoNode"===t||"ReactDOMIDOperations"===e){if(d=l(),h=n.apply(this,r),u=l()-d,"_mountImageIntoNode"===t){var p=a.getID(r[1]);c._recordWrite(p,t,u,r[0])}else"dangerouslyProcessChildrenUpdates"===t?r[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=r[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,u,t)}):c._recordWrite(r[0],t,u,Array.prototype.slice.call(r,1));return h}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,r);if("string"==typeof this._currentElement.type)return n.apply(this,r);var f="mountComponent"===t?r[0]:this._rootNodeID,m="_renderValidatedComponent"===t,g="mountComponent"===t,v=c._mountStack,E=c._allMeasurements[c._allMeasurements.length-1];if(m?i(E.counts,f,1):g&&v.push(0),d=l(),h=n.apply(this,r),u=l()-d,m)i(E.render,f,u);else if(g){var b=v.pop();v[v.length-1]+=u,i(E.exclusive,f,u-b),i(E.inclusive,f,u)}else i(E.inclusive,f,u);return E.displayNames[f]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},h}}};t.exports=c},{}],191:[function(e,t){function n(e){for(var t=0,n=0;n<e.length;n++){var i=e[n];t+=i.totalTime}return t}function i(e){for(var t=[],n=0;n<e.length;n++){var i,r=e[n];for(i in r.writes)r.writes[i].forEach(function(e){t.push({id:i,type:c[e.type]||e.type,args:e.args})})}return t}function r(e){for(var t,n={},i=0;i<e.length;i++){var r=e[i],o=s({},r.exclusive,r.inclusive);for(var a in o)t=r.displayNames[a].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},r.render[a]&&(n[t].render+=r.render[a]),r.exclusive[a]&&(n[t].exclusive+=r.exclusive[a]),r.inclusive[a]&&(n[t].inclusive+=r.inclusive[a]),r.counts[a]&&(n[t].count+=r.counts[a])}var c=[];for(t in n)n[t].exclusive>=l&&c.push(n[t]);return c.sort(function(e,t){return t.exclusive-e.exclusive}),c}function o(e,t){for(var n,i={},r=0;r<e.length;r++){var o,c=e[r],u=s({},c.exclusive,c.inclusive);t&&(o=a(c));for(var h in u)if(!t||o[h]){var d=c.displayNames[h];n=d.owner+" > "+d.current,i[n]=i[n]||{componentName:n,time:0,count:0},c.inclusive[h]&&(i[n].time+=c.inclusive[h]),c.counts[h]&&(i[n].count+=c.counts[h])}}var p=[];for(n in i)i[n].time>=l&&p.push(i[n]);return p.sort(function(e,t){return t.time-e.time}),p}function a(e){var t={},n=Object.keys(e.writes),i=s({},e.exclusive,e.inclusive);for(var r in i){for(var o=!1,a=0;a<n.length;a++)if(0===n[a].indexOf(r)){o=!0;break}!o&&e.counts[r]>0&&(t[r]=!0)}return t}var s=e(158),l=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},u={getExclusiveSummary:r,getInclusiveSummary:o,getDOMSummary:i,getTotalTime:n};t.exports=u},{}],192:[function(e,t){"use strict";var n=e(173),i=e(174),r=e(158),o=(e(301),{key:!0,ref:!0}),a=function(e,t,n,i,r,o){this.type=e,this.key=t,this.ref=n,this._owner=i,this._context=r,this.props=o};a.prototype={_isReactElement:!0},a.createElement=function(e,t,r){var s,l={},c=null,u=null;if(null!=t){u=void 0===t.ref?null:t.ref,c=void 0===t.key?null:""+t.key;for(s in t)t.hasOwnProperty(s)&&!o.hasOwnProperty(s)&&(l[s]=t[s])}var h=arguments.length-2;if(1===h)l.children=r;else if(h>1){for(var d=Array(h),p=0;h>p;p++)d[p]=arguments[p+2];l.children=d}if(e&&e.defaultProps){var f=e.defaultProps;for(s in f)"undefined"==typeof l[s]&&(l[s]=f[s])}return new a(e,c,u,i.current,n.current,l)},a.createFactory=function(e){var t=a.createElement.bind(null,e);return t.type=e,t},a.cloneAndReplaceProps=function(e,t){var n=new a(e.type,e.key,e.ref,e._owner,e._context,t);return n},a.cloneElement=function(e,t,n){var s,l=r({},e.props),c=e.key,u=e.ref,h=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,h=i.current),void 0!==t.key&&(c=""+t.key);for(s in t)t.hasOwnProperty(s)&&!o.hasOwnProperty(s)&&(l[s]=t[s])}var d=arguments.length-2;if(1===d)l.children=n;else if(d>1){for(var p=Array(d),f=0;d>f;f++)p[f]=arguments[f+2];l.children=p}return new a(e.type,c,u,h,e._context,l)},a.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},t.exports=a},{}],193:[function(e,t){"use strict";function n(){if(v.current){var e=v.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e){var t=e&&e.getPublicInstance();if(!t)return void 0;var n=t.constructor;return n?n.displayName||n.name||void 0:void 0}function r(){var e=v.current;return e&&i(e)||void 0}function o(e,t){e._store.validated||null!=e.key||(e._store.validated=!0,s('Each child in an array or iterator should have a unique "key" prop.',e,t))}function a(e,t,n){C.test(e)&&s("Child objects should have non-numeric keys so ordering is preserved.",t,n)}function s(e,t,n){var o=r(),a="string"==typeof n?n:n.displayName||n.name,s=o||a,l=y[e]||(y[e]={});if(!l.hasOwnProperty(s)){l[s]=!0;var c="";if(t&&t._owner&&t._owner!==v.current){var u=i(t._owner);c=" It was passed a child from "+u+"."}}}function l(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];f.isValidElement(i)&&o(i,t)}else if(f.isValidElement(e))e._store.validated=!0;else if(e){var r=b(e);if(r){if(r!==e.entries)for(var s,l=r.call(e);!(s=l.next()).done;)f.isValidElement(s.value)&&o(s.value,t)}else if("object"==typeof e){var c=m.extractIfFragment(e);for(var u in c)c.hasOwnProperty(u)&&a(u,c[u],t)}}}function c(e,t,i,r){for(var o in t)if(t.hasOwnProperty(o)){var a;try{_("function"==typeof t[o]),a=t[o](i,o,e,r)}catch(s){a=s}if(a instanceof Error&&!(a.message in S)){S[a.message]=!0;{n(this)}}}}function u(e,t){var n=t.type,i="string"==typeof n?n:n.displayName,r=t._owner?t._owner.getPublicInstance().constructor.displayName:null,o=e+"|"+i+"|"+r;if(!w.hasOwnProperty(o)){w[o]=!0;var a="";i&&(a=" <"+i+" />");var s="";r&&(s=" The element was created by "+r+".")}}function h(e,t){return e!==e?t!==t:0===e&&0===t?1/e===1/t:e===t}function d(e){if(e._store){var t=e._store.originalProps,n=e.props;for(var i in n)n.hasOwnProperty(i)&&(t.hasOwnProperty(i)&&h(t[i],n[i])||(u(i,e),t[i]=n[i]))}}function p(e){if(null!=e.type){var t=E.getComponentClassForElement(e),n=t.displayName||t.name;t.propTypes&&c(n,t.propTypes,e.props,g.prop),"function"==typeof t.getDefaultProps}}var f=e(192),m=e(198),g=e(214),v=(e(213),e(174)),E=e(209),b=e(271),_=e(280),y=(e(301),{}),S={},C=/^\d+$/,w={},k={checkAndWarnForMutatedProps:d,createElement:function(e){var t=f.createElement.apply(this,arguments);if(null==t)return t;for(var n=2;n<arguments.length;n++)l(arguments[n],e);return p(t),t},createFactory:function(e){var t=k.createElement.bind(null,e);return t.type=e,t},cloneElement:function(){for(var e=f.cloneElement.apply(this,arguments),t=2;t<arguments.length;t++)l(arguments[t],e.type);return p(e),e}};t.exports=k},{}],194:[function(e,t){"use strict";function n(e){c[e]=!0}function i(e){delete c[e]}function r(e){return!!c[e]}var o,a=e(192),s=e(202),l=e(280),c={},u={injectEmptyComponent:function(e){o=a.createFactory(e)}},h=function(){};h.prototype.componentDidMount=function(){var e=s.get(this);e&&n(e._rootNodeID)},h.prototype.componentWillUnmount=function(){var e=s.get(this);e&&i(e._rootNodeID)},h.prototype.render=function(){return l(o),o()};var d=a.createElement(h),p={emptyElement:d,injection:u,isNullComponentID:r};t.exports=p},{}],195:[function(e,t){"use strict";var n={guard:function(e){return e}};t.exports=n},{}],196:[function(e,t){"use strict";function n(e){i.enqueueEvents(e),i.processEventQueue()}var i=e(147),r={handleTopLevel:function(e,t,r,o){var a=i.extractEvents(e,t,r,o);n(a)}};t.exports=r},{}],197:[function(e,t){"use strict";function n(e){var t=u.getID(e),n=c.getReactRootIDFromNodeID(t),i=u.findReactContainerForID(n),r=u.getFirstReactDOM(i);return r}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function r(e){for(var t=u.getFirstReactDOM(p(e.nativeEvent))||window,i=t;i;)e.ancestors.push(i),i=n(i);for(var r=0,o=e.ancestors.length;o>r;r++){t=e.ancestors[r];var a=u.getID(t)||"";m._handleTopLevel(e.topLevelType,t,a,e.nativeEvent)}}function o(e){var t=f(window);e(t)}var a=e(146),s=e(151),l=e(159),c=e(201),u=e(206),h=e(229),d=e(158),p=e(270),f=e(276);d(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:s.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var i=n;return i?a.listen(i,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var i=n;return i?a.capture(i,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=o.bind(null,e);a.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{h.batchedUpdates(r,n)}finally{i.release(n)}}}};t.exports=m},{}],198:[function(e,t){"use strict";var n=(e(192),e(301),{create:function(e){return e},extract:function(e){return e},extractIfFragment:function(e){return e}});t.exports=n},{}],199:[function(e,t){"use strict";var n=e(140),i=e(147),r=e(170),o=e(167),a=e(194),s=e(162),l=e(209),c=e(177),u=e(211),h=e(220),d=e(229),p={Component:r.injection,Class:o.injection,DOMComponent:c.injection,DOMProperty:n.injection,EmptyComponent:a.injection,EventPluginHub:i.injection,EventEmitter:s.injection,NativeComponent:l.injection,Perf:u.injection,RootIndex:h.injection,Updates:d.injection};t.exports=p},{}],200:[function(e,t){"use strict";function n(e){return r(document.documentElement,e)}var i=e(185),r=e(253),o=e(264),a=e(266),s={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=a(),i=e.focusedElem,r=e.selectionRange;t!==i&&n(i)&&(s.hasSelectionCapabilities(i)&&s.setSelection(i,r),o(i))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};t.exports=s},{}],201:[function(e,t){"use strict";function n(e){return d+e.toString(36)}function i(e,t){return e.charAt(t)===d||t===e.length}function r(e){return""===e||e.charAt(0)===d&&e.charAt(e.length-1)!==d}function o(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function a(e){return e?e.substr(0,e.lastIndexOf(d)):""}function s(e,t){if(h(r(e)&&r(t)),h(o(e,t)),e===t)return e;var n,a=e.length+p;for(n=a;n<t.length&&!i(t,n);n++);return t.substr(0,n)}function l(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var o=0,a=0;n>=a;a++)if(i(e,a)&&i(t,a))o=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,o);return h(r(s)),s}function c(e,t,n,i,r,l){e=e||"",t=t||"",h(e!==t);var c=o(t,e);h(c||o(e,t));for(var u=0,d=c?a:s,p=e;;p=d(p,t)){var m;if(r&&p===e||l&&p===t||(m=n(p,c,i)),m===!1||p===t)break;h(u++<f)}}var u=e(220),h=e(280),d=".",p=d.length,f=100,m={createReactRootID:function(){return n(u.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===d&&e.length>1){var t=e.indexOf(d,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,i,r){var o=l(e,t);o!==e&&c(e,o,n,i,!1,!0),o!==t&&c(o,t,n,r,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},_getFirstCommonAncestorID:l,_getNextDescendantID:s,isAncestorIDOf:o,SEPARATOR:d};t.exports=m},{}],202:[function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=n},{}],203:[function(e,t){"use strict";var n={currentlyMountingInstance:null,currentlyUnmountingInstance:null};t.exports=n},{}],204:[function(e,t){"use strict";function n(e,t){this.value=e,this.requestChange=t}function i(e){var t={value:"undefined"==typeof e?r.PropTypes.any.isRequired:e.isRequired,requestChange:r.PropTypes.func.isRequired};return r.PropTypes.shape(t)}var r=e(160);n.PropTypes={link:i},t.exports=n},{}],205:[function(e,t){"use strict";var n=e(249),i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return e.replace(">"," "+i.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var r=t.getAttribute(i.CHECKSUM_ATTR_NAME);r=r&&parseInt(r,10);var o=n(e);return o===r}};t.exports=i},{}],206:[function(e,t){"use strict";function n(e,t){for(var n=Math.min(e.length,t.length),i=0;n>i;i++)if(e.charAt(i)!==t.charAt(i))return i;return e.length===t.length?-1:n}function i(e){var t=N(e);return t&&G.getID(t)}function r(e){var t=o(e);if(t)if(L.hasOwnProperty(t)){var n=L[t];n!==e&&(O(!c(n,t)),L[t]=e)}else L[t]=e;return t}function o(e){return e&&e.getAttribute&&e.getAttribute(P)||""}function a(e,t){var n=o(e);n!==t&&delete L[n],e.setAttribute(P,t),L[t]=e}function s(e){return L.hasOwnProperty(e)&&c(L[e],e)||(L[e]=G.findReactNodeByID(e)),L[e]}function l(e){var t=_.get(e)._rootNodeID;return E.isNullComponentID(t)?null:(L.hasOwnProperty(t)&&c(L[t],t)||(L[t]=G.findReactNodeByID(t)),L[t])}function c(e,t){if(e){O(o(e)===t);var n=G.findReactContainerForID(t);if(n&&I(n,e))return!0}return!1}function u(e){delete L[e]}function h(e){var t=L[e];return t&&c(t,e)?void(H=t):!1}function d(e){H=null,b.traverseAncestors(e,h);var t=H;return H=null,t}function p(e,t,n,i,r){var o=C.mountComponent(e,t,i,A);e._isTopLevel=!0,G._mountImageIntoNode(o,n,r)}function f(e,t,n,i){var r=k.ReactReconcileTransaction.getPooled();r.perform(p,null,e,t,n,r,i),k.ReactReconcileTransaction.release(r)}var m=e(140),g=e(162),v=(e(174),e(192)),E=(e(193),e(194)),b=e(201),_=e(202),y=e(205),S=e(211),C=e(218),w=e(228),k=e(229),A=e(260),I=e(253),N=e(274),T=e(279),O=e(280),D=e(294),M=e(297),x=(e(301),b.SEPARATOR),P=m.ID_ATTRIBUTE_NAME,L={},R=1,B=9,F={},U={},W=[],H=null,G={_instancesByReactRootID:F,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,i){return G.scrollMonitor(n,function(){w.enqueueElementInternal(e,t),i&&w.enqueueCallbackInternal(e,i)}),e},_registerComponent:function(e,t){O(t&&(t.nodeType===R||t.nodeType===B)),g.ensureScrollValueMonitoring();var n=G.registerContainer(t);return F[n]=e,n},_renderNewRootComponent:function(e,t,n){var i=T(e,null),r=G._registerComponent(i,t);return k.batchedUpdates(f,i,r,t,n),i},render:function(e,t,n){O(v.isValidElement(e));var r=F[i(t)];if(r){var o=r._currentElement;if(M(o,e))return G._updateRootComponent(r,e,t,n).getPublicInstance();G.unmountComponentAtNode(t)}var a=N(t),s=a&&G.isRenderedByReact(a),l=s&&!r,c=G._renderNewRootComponent(e,t,l).getPublicInstance();return n&&n.call(c),c},constructAndRenderComponent:function(e,t,n){var i=v.createElement(e,t);return G.render(i,n)},constructAndRenderComponentByID:function(e,t,n){var i=document.getElementById(n);return O(i),G.constructAndRenderComponent(e,t,i)},registerContainer:function(e){var t=i(e);return t&&(t=b.getReactRootIDFromNodeID(t)),t||(t=b.createReactRootID()),U[t]=e,t},unmountComponentAtNode:function(e){O(e&&(e.nodeType===R||e.nodeType===B));var t=i(e),n=F[t];return n?(G.unmountComponentFromNode(n,e),delete F[t],delete U[t],!0):!1},unmountComponentFromNode:function(e,t){for(C.unmountComponent(e),t.nodeType===B&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=b.getReactRootIDFromNodeID(e),n=U[t];return n},findReactNodeByID:function(e){var t=G.findReactContainerForID(e);return G.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=G.getID(e);return t?t.charAt(0)===x:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(G.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=W,i=0,r=d(t)||e;for(n[0]=r.firstChild,n.length=1;i<n.length;){for(var o,a=n[i++];a;){var s=G.getID(a);s?t===s?o=a:b.isAncestorIDOf(s,t)&&(n.length=i=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,O(!1)},_mountImageIntoNode:function(e,t,i){if(O(t&&(t.nodeType===R||t.nodeType===B)),i){var r=N(t);if(y.canReuseMarkup(e,r))return;var o=r.getAttribute(y.CHECKSUM_ATTR_NAME);r.removeAttribute(y.CHECKSUM_ATTR_NAME);var a=r.outerHTML;r.setAttribute(y.CHECKSUM_ATTR_NAME,o);{var s=n(e,a);" (client) "+e.substring(s-20,s+20)+"\n (server) "+a.substring(s-20,s+20)}O(t.nodeType!==B)}O(t.nodeType!==B),D(t,e)},getReactRootID:i,getID:r,setID:a,getNode:s,getNodeFromInstance:l,purgeID:u};S.measureMethods(G,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=G},{}],207:[function(e,t){"use strict";function n(e,t,n){p.push({parentID:e,parentNode:null,type:c.INSERT_MARKUP,markupIndex:f.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function i(e,t,n){p.push({parentID:e,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function r(e,t){p.push({parentID:e,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function o(e,t){p.push({parentID:e,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function a(){p.length&&(l.processChildrenUpdates(p,f),s())}function s(){p.length=0,f.length=0}var l=e(170),c=e(208),u=e(218),h=e(165),d=0,p=[],f=[],m={Mixin:{mountChildren:function(e,t,n){var i=h.instantiateChildren(e,t,n);this._renderedChildren=i;var r=[],o=0;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],l=this._rootNodeID+a,c=u.mountComponent(s,l,t,n);s._mountIndex=o,r.push(c),o++}return r},updateTextContent:function(e){d++;var t=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setTextContent(e),t=!1}finally{d--,d||(t?s():a())}},updateChildren:function(e,t,n){d++;var i=!0;try{this._updateChildren(e,t,n),i=!1}finally{d--,d||(i?s():a())}},_updateChildren:function(e,t,n){var i=this._renderedChildren,r=h.updateChildren(i,e,t,n);if(this._renderedChildren=r,r||i){var o,a=0,s=0;for(o in r)if(r.hasOwnProperty(o)){var l=i&&i[o],c=r[o];l===c?(this.moveChild(l,s,a),a=Math.max(l._mountIndex,a),l._mountIndex=s):(l&&(a=Math.max(l._mountIndex,a),this._unmountChildByName(l,o)),this._mountChildByNameAtIndex(c,o,s,t,n)),s++}for(o in i)!i.hasOwnProperty(o)||r&&r.hasOwnProperty(o)||this._unmountChildByName(i[o],o)}},unmountChildren:function(){var e=this._renderedChildren;h.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){n(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){r(this._rootNodeID,e._mountIndex)},setTextContent:function(e){o(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,i,r){var o=this._rootNodeID+t,a=u.mountComponent(e,o,i,r);e._mountIndex=n,this.createChild(e,a)},_unmountChildByName:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=m},{}],208:[function(e,t){"use strict";var n=e(286),i=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=i},{}],209:[function(e,t){"use strict";function n(e){if("function"==typeof e.type)return e.type;var t=e.type,n=u[t];return null==n&&(u[t]=n=l(t)),n}function i(e){return s(c),new c(e.type,e.props)}function r(e){return new h(e)}function o(e){return e instanceof h}var a=e(158),s=e(280),l=null,c=null,u={},h=null,d={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){h=e},injectComponentClasses:function(e){a(u,e)},injectAutoWrapper:function(e){l=e}},p={getComponentClassForElement:n,createInternalComponent:i,createInstanceForText:r,isTextComponent:o,injection:d};t.exports=p},{}],210:[function(e,t){"use strict";var n=e(280),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,r){n(i.isValidOwner(r)),r.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,r){n(i.isValidOwner(r)),r.getPublicInstance().refs[t]===e.getPublicInstance()&&r.detachRef(t)}};t.exports=i},{}],211:[function(e,t){"use strict";function n(e,t,n){return n}var i={enableMeasure:!1,storedMeasure:n,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){i.storedMeasure=e}}};t.exports=i},{}],212:[function(e,t){"use strict";function n(e){return function(t,n,i){t[n]=t.hasOwnProperty(n)?e(t[n],i):i}}function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=l[n];i&&l.hasOwnProperty(n)?i(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var r=e(158),o=e(259),a=e(285),s=n(function(e,t){return r({},t,e)}),l={children:o,className:n(a),style:s},c={mergeProps:function(e,t){return i(r({},e),t)}};t.exports=c},{}],213:[function(e,t){"use strict";var n={};t.exports=n},{}],214:[function(e,t){"use strict";var n=e(286),i=n({prop:null,context:null,childContext:null});t.exports=i},{}],215:[function(e,t){"use strict";function n(e){function t(t,n,i,r,o){if(r=r||_,null==n[i]){var a=E[o];return t?new Error("Required "+a+" `"+i+"` was not specified in "+("`"+r+"`.")):null}return e(n,i,r,o)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,i,r){var o=t[n],a=f(o);if(a!==e){var s=E[r],l=m(o);return new Error("Invalid "+s+" `"+n+"` of type `"+l+"` "+("supplied to `"+i+"`, expected `"+e+"`."))}return null}return n(t)}function r(){return n(b.thatReturns(null))}function o(e){function t(t,n,i,r){var o=t[n];if(!Array.isArray(o)){var a=E[r],s=f(o);return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+i+"`, expected an array."))}for(var l=0;l<o.length;l++){var c=e(o,l,i,r);if(c instanceof Error)return c}return null}return n(t)}function a(){function e(e,t,n,i){if(!g.isValidElement(e[t])){var r=E[i];return new Error("Invalid "+r+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return n(e)}function s(e){function t(t,n,i,r){if(!(t[n]instanceof e)){var o=E[r],a=e.name||_;return new Error("Invalid "+o+" `"+n+"` supplied to "+("`"+i+"`, expected instance of `"+a+"`."))}return null}return n(t)}function l(e){function t(t,n,i,r){for(var o=t[n],a=0;a<e.length;a++)if(o===e[a])return null;var s=E[r],l=JSON.stringify(e);return new Error("Invalid "+s+" `"+n+"` of value `"+o+"` "+("supplied to `"+i+"`, expected one of "+l+"."))}return n(t)}function c(e){function t(t,n,i,r){var o=t[n],a=f(o);if("object"!==a){var s=E[r];return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+i+"`, expected an object."))}for(var l in o)if(o.hasOwnProperty(l)){var c=e(o,l,i,r);if(c instanceof Error)return c}return null}return n(t)}function u(e){function t(t,n,i,r){for(var o=0;o<e.length;o++){var a=e[o];if(null==a(t,n,i,r))return null}var s=E[r];return new Error("Invalid "+s+" `"+n+"` supplied to "+("`"+i+"`."))}return n(t)}function h(){function e(e,t,n,i){if(!p(e[t])){var r=E[i];return new Error("Invalid "+r+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return n(e)}function d(e){function t(t,n,i,r){var o=t[n],a=f(o);if("object"!==a){var s=E[r];return new Error("Invalid "+s+" `"+n+"` of type `"+a+"` "+("supplied to `"+i+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var u=c(o,l,i,r);if(u)return u}}return null}return n(t)}function p(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(p);if(null===e||g.isValidElement(e))return!0;e=v.extractIfFragment(e);for(var t in e)if(!p(e[t]))return!1;return!0;default:return!1}}function f(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var g=e(192),v=e(198),E=e(213),b=e(259),_="<<anonymous>>",y=a(),S=h(),C={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:r(),arrayOf:o,element:y,instanceOf:s,node:S,objectOf:c,oneOf:l,oneOfType:u,shape:d};t.exports=C},{}],216:[function(e,t){"use strict";function n(){this.listenersToPut=[]}var i=e(159),r=e(162),o=e(158);o(n.prototype,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];r.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),i.addPoolingTo(n),t.exports=n},{}],217:[function(e,t){"use strict";function n(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.putListenerQueue=s.getPooled()}var i=e(136),r=e(159),o=e(162),a=e(200),s=e(216),l=e(246),c=e(158),u={initialize:a.getSelectionInformation,close:a.restoreSelection},h={initialize:function(){var e=o.isEnabled();return o.setEnabled(!1),e},close:function(e){o.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},p={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},f=[p,u,h,d],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,s.release(this.putListenerQueue),this.putListenerQueue=null}};c(n.prototype,l.Mixin,m),r.addPoolingTo(n),t.exports=n},{}],218:[function(e,t){"use strict";function n(){i.attachRefs(this,this._currentElement)}var i=e(219),r=(e(193),{mountComponent:function(e,t,i,r){var o=e.mountComponent(t,i,r);return i.getReactMountReady().enqueue(n,e),o},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,r,o){var a=e._currentElement;if(t!==a||null==t._owner){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,r,o),s&&r.getReactMountReady().enqueue(n,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}});t.exports=r},{}],219:[function(e,t){"use strict";function n(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}var r=e(210),o={};o.attachRefs=function(e,t){var i=t.ref;
null!=i&&n(i,e,t._owner)},o.shouldUpdateRefs=function(e,t){return t._owner!==e._owner||t.ref!==e.ref},o.detachRefs=function(e,t){var n=t.ref;null!=n&&i(n,e,t._owner)},t.exports=o},{}],220:[function(e,t){"use strict";var n={injectCreateReactRootIndex:function(e){i.createReactRootIndex=e}},i={createReactRootIndex:null,injection:n};t.exports=i},{}],221:[function(e,t){"use strict";function n(e){u(r.isValidElement(e));var t;try{var n=o.createReactRootID();return t=s.getPooled(!1),t.perform(function(){var i=c(e,null),r=i.mountComponent(n,t,l);return a.addChecksumToMarkup(r)},null)}finally{s.release(t)}}function i(e){u(r.isValidElement(e));var t;try{var n=o.createReactRootID();return t=s.getPooled(!0),t.perform(function(){var i=c(e,null);return i.mountComponent(n,t,l)},null)}finally{s.release(t)}}var r=e(192),o=e(201),a=e(205),s=e(222),l=e(260),c=e(279),u=e(280);t.exports={renderToString:n,renderToStaticMarkup:i}},{}],222:[function(e,t){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=r.getPooled(null),this.putListenerQueue=o.getPooled()}var i=e(159),r=e(136),o=e(216),a=e(246),s=e(158),l=e(259),c={initialize:function(){this.reactMountReady.reset()},close:l},u={initialize:function(){this.putListenerQueue.reset()},close:l},h=[u,c],d={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,o.release(this.putListenerQueue),this.putListenerQueue=null}};s(n.prototype,a.Mixin,d),i.addPoolingTo(n),t.exports=n},{}],223:[function(e,t){"use strict";function n(e,t){var n={};return function(i){n[t]=i,e.setState(n)}}var i={createStateSetter:function(e,t){return function(n,i,r,o,a,s){var l=t.call(e,n,i,r,o,a,s);l&&e.setState(l)}},createStateKeySetter:function(e,t){var i=e.__keySetters||(e.__keySetters={});return i[t]||(i[t]=n(e,t))}};i.Mixin={createStateSetter:function(e){return i.createStateSetter(this,e)},createStateKeySetter:function(e){return i.createStateKeySetter(this,e)}},t.exports=i},{}],224:[function(e,t){"use strict";function n(){}function i(e){return function(t,i){var r;S.isDOMComponent(t)?r=t.getDOMNode():t.tagName&&(r=t);var o=new n;o.target=r;var a=new E(d.eventNameDispatchConfigs[e],g.getID(r),o);b(a,i),l.accumulateTwoPhaseDispatches(a),v.batchedUpdates(function(){s.enqueueEvents(a),s.processEventQueue()})}}function r(){S.Simulate={};var e;for(e in d.eventNameDispatchConfigs)S.Simulate[e]=i(e)}function o(e){return function(t,i){var r=new n(e);b(r,i),S.isDOMComponent(t)?S.simulateNativeEventOnDOMComponent(e,t,r):t.tagName&&S.simulateNativeEventOnNode(e,t,r)}}var a=e(145),s=e(147),l=e(150),c=e(160),u=e(192),h=e(194),d=e(162),p=e(172),f=e(201),m=e(202),g=e(206),v=e(229),E=e(238),b=e(158),_=e(260),y=a.topLevelTypes,S={renderIntoDocument:function(e){var t=document.createElement("div");return c.render(e,t)},isElement:function(e){return u.isValidElement(e)},isElementOfType:function(e,t){return u.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!!(e&&e.tagName&&e.getDOMNode)},isDOMComponentElement:function(e){return!!(e&&u.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){return!(!S.isCompositeComponent(e)||e.constructor!==t)},isCompositeComponentElement:function(e){if(!u.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){return!(!S.isCompositeComponentElement(e)||e.constructor!==t)},getRenderedChildOfCompositeComponent:function(e){if(!S.isCompositeComponent(e))return null;var t=m.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){if(!e)return[];var n=t(e)?[e]:[];if(S.isDOMComponent(e)){var i,r=m.get(e),o=r._renderedComponent._renderedChildren;for(i in o)o.hasOwnProperty(i)&&o[i].getPublicInstance&&(n=n.concat(S.findAllInRenderedTree(o[i].getPublicInstance(),t)))}else S.isCompositeComponent(e)&&(n=n.concat(S.findAllInRenderedTree(S.getRenderedChildOfCompositeComponent(e),t)));return n},scryRenderedDOMComponentsWithClass:function(e,t){return S.findAllInRenderedTree(e,function(e){var n=e.props.className;return S.isDOMComponent(e)&&n&&-1!==(" "+n+" ").indexOf(" "+t+" ")})},findRenderedDOMComponentWithClass:function(e,t){var n=S.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return S.findAllInRenderedTree(e,function(e){return S.isDOMComponent(e)&&e.tagName===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=S.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return S.findAllInRenderedTree(e,function(e){return S.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=S.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+t);return n[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return c.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,d.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){S.simulateNativeEventOnNode(e,t.getDOMNode(),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new C},Simulate:null,SimulateNative:{}},C=function(){this._instance=null};C.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var w=function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?h.emptyElement:e};w.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?h.emptyElement:e},unmountComponent:function(){}};var k=function(){};b(k.prototype,p.Mixin,{_instantiateReactComponent:function(e){return new w(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:p.Mixin._renderValidatedComponentWithoutOwnerOrContext}),C.prototype.render=function(e,t){t||(t=_);var n=v.ReactReconcileTransaction.getPooled();this._render(e,n,t),v.ReactReconcileTransaction.release(n)},C.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},C.prototype._render=function(e,t,n){if(this._instance)this._instance.receiveComponent(e,t,n);else{var i=f.createReactRootID(),r=new k(e.type);r.construct(e),r.mountComponent(i,t,n),this._instance=r}};var A=s.injection.injectEventPluginOrder;s.injection.injectEventPluginOrder=function(){A.apply(this,arguments),r()};var I=s.injection.injectEventPluginsByName;s.injection.injectEventPluginsByName=function(){I.apply(this,arguments),r()},r();var N;for(N in y){var T=0===N.indexOf("top")?N.charAt(3).toLowerCase()+N.substr(4):N;S.SimulateNative[T]=o(N)}t.exports=S},{}],225:[function(e,t){"use strict";var n=e(166),i=e(198),r={getChildMapping:function(e){return e?i.extract(n.map(e,function(e){return e})):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var i={},r=[];for(var o in e)t.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var a,s={};for(var l in t){if(i.hasOwnProperty(l))for(a=0;a<i[l].length;a++){var c=i[l][a];s[i[l][a]]=n(c)}s[l]=n(l)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}};t.exports=r},{}],226:[function(e,t){"use strict";function n(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var n in a){var i=a[n];for(var r in i)if(r in t){s.push(i[r]);break}}}function i(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}var o=e(151),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];o.canUseDOM&&n();var l={addEndEventListener:function(e,t){return 0===s.length?void window.setTimeout(t,0):void s.forEach(function(n){i(e,n,t)})},removeEndEventListener:function(e,t){0!==s.length&&s.forEach(function(n){r(e,n,t)})}};t.exports=l},{}],227:[function(e,t){"use strict";var n=e(160),i=e(225),r=e(158),o=e(252),a=e(259),s=n.createClass({displayName:"ReactTransitionGroup",propTypes:{component:n.PropTypes.any,childFactory:n.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=i.getChildMapping(e.children),n=this.state.children;this.setState({children:i.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=t&&t.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var o=r({},this.state.children);delete o[e],this.setState({children:o})}},render:function(){var e=[];for(var t in this.state.children){var i=this.state.children[t];i&&e.push(o(this.props.childFactory(i),{ref:t,key:t}))}return n.createElement(this.props.component,this.props,e)}});t.exports=s},{}],228:[function(e,t){"use strict";function n(e){e!==r.currentlyMountingInstance&&l.enqueueUpdate(e)}function i(e,t){u(null==o.current);var n=s.get(e);return n?n===r.currentlyUnmountingInstance?null:n:null}var r=e(203),o=e(174),a=e(192),s=e(202),l=e(229),c=e(158),u=e(280),h=(e(301),{enqueueCallback:function(e,t){u("function"==typeof t);var o=i(e);return o&&o!==r.currentlyMountingInstance?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void n(o)):null},enqueueCallbackInternal:function(e,t){u("function"==typeof t),e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],n(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,n(t))},enqueueReplaceState:function(e,t){var r=i(e,"replaceState");r&&(r._pendingStateQueue=[t],r._pendingReplaceState=!0,n(r))},enqueueSetState:function(e,t){var r=i(e,"setState");if(r){var o=r._pendingStateQueue||(r._pendingStateQueue=[]);o.push(t),n(r)}},enqueueSetProps:function(e,t){var r=i(e,"setProps");if(r){u(r._isTopLevel);var o=r._pendingElement||r._currentElement,s=c({},o.props,t);r._pendingElement=a.cloneAndReplaceProps(o,s),n(r)}},enqueueReplaceProps:function(e,t){var r=i(e,"replaceProps");if(r){u(r._isTopLevel);var o=r._pendingElement||r._currentElement;r._pendingElement=a.cloneAndReplaceProps(o,t),n(r)}},enqueueElementInternal:function(e,t){e._pendingElement=t,n(e)}});t.exports=h},{}],229:[function(e,t){"use strict";function n(){m(k.ReactReconcileTransaction&&b)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=k.ReactReconcileTransaction.getPooled()}function r(e,t,i,r,o){n(),b.batchedUpdates(e,t,i,r,o)}function o(e,t){return e._mountOrder-t._mountOrder}function a(e){var t=e.dirtyComponentsLength;m(t===g.length),g.sort(o);for(var n=0;t>n;n++){var i=g[n],r=i._pendingCallbacks;if(i._pendingCallbacks=null,d.performUpdateIfNecessary(i,e.reconcileTransaction),r)for(var a=0;a<r.length;a++)e.callbackQueue.enqueue(r[a],i.getPublicInstance())}}function s(e){return n(),b.isBatchingUpdates?void g.push(e):void b.batchedUpdates(s,e)}function l(e,t){m(b.isBatchingUpdates),v.enqueue(e,t),E=!0}var c=e(136),u=e(159),h=(e(174),e(211)),d=e(218),p=e(246),f=e(158),m=e(280),g=(e(301),[]),v=c.getPooled(),E=!1,b=null,_={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),C()):g.length=0}},y={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},S=[_,y];f(i.prototype,p.Mixin,{getTransactionWrappers:function(){return S},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,k.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return p.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),u.addPoolingTo(i);var C=function(){for(;g.length||E;){if(g.length){var e=i.getPooled();e.perform(a,null,e),i.release(e)}if(E){E=!1;var t=v;v=c.getPooled(),t.notifyAll(),c.release(t)}}};C=h.measure("ReactUpdates","flushBatchedUpdates",C);var w={injectReconcileTransaction:function(e){m(e),k.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){m(e),m("function"==typeof e.batchedUpdates),m("boolean"==typeof e.isBatchingUpdates),b=e}},k={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:s,flushBatchedUpdates:C,injection:w,asap:l};t.exports=k},{}],230:[function(e,t){"use strict";var n=e(154),i=e(160),r=e(171),o=e(163),a=e(198),s=e(227),l=e(229),c=e(257),u=e(252),h=e(300);i.addons={CSSTransitionGroup:o,LinkedStateMixin:n,PureRenderMixin:r,TransitionGroup:s,batchedUpdates:l.batchedUpdates,classSet:c,cloneWithProps:u,createFragment:a.create,update:h},t.exports=i},{}],231:[function(e,t){"use strict";var n=e(140),i=n.injection.MUST_USE_ATTRIBUTE,r={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,y1:i,y2:i,y:i},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=r},{}],232:[function(e,t){"use strict";function n(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e){if(v||null==f||f!==l())return null;var t=n(f);if(!g||!h(g,t)){g=t;var i=s.getPooled(p.select,m,e);return i.type="select",i.target=f,o.accumulateTwoPhaseDispatches(i),i}}var r=e(145),o=e(150),a=e(200),s=e(238),l=e(266),c=e(283),u=e(287),h=e(296),d=r.topLevelTypes,p={select:{phasedRegistrationNames:{bubbled:u({onSelect:null}),captured:u({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},f=null,m=null,g=null,v=!1,E={eventTypes:p,extractEvents:function(e,t,n,r){switch(e){case d.topFocus:(c(t)||"true"===t.contentEditable)&&(f=t,m=n,g=null);break;case d.topBlur:f=null,m=null,g=null;break;case d.topMouseDown:v=!0;break;case d.topContextMenu:case d.topMouseUp:return v=!1,i(r);case d.topSelectionChange:case d.topKeyDown:case d.topKeyUp:return i(r)}}};t.exports=E},{}],233:[function(e,t){"use strict";var n=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=i},{}],234:[function(e,t){"use strict";var n=e(145),i=e(149),r=e(150),o=e(235),a=e(238),s=e(239),l=e(241),c=e(242),u=e(237),h=e(243),d=e(244),p=e(245),f=e(267),m=e(280),g=e(287),v=(e(301),n.topLevelTypes),E={blur:{phasedRegistrationNames:{bubbled:g({onBlur:!0}),captured:g({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:g({onClick:!0}),captured:g({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:g({onContextMenu:!0}),captured:g({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:g({onCopy:!0}),captured:g({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:g({onCut:!0}),captured:g({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:g({onDoubleClick:!0}),captured:g({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:g({onDrag:!0}),captured:g({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:g({onDragEnd:!0}),captured:g({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:g({onDragEnter:!0}),captured:g({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:g({onDragExit:!0}),captured:g({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:g({onDragLeave:!0}),captured:g({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:g({onDragOver:!0}),captured:g({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:g({onDragStart:!0}),captured:g({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:g({onDrop:!0}),captured:g({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:g({onFocus:!0}),captured:g({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:g({onInput:!0}),captured:g({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:g({onKeyDown:!0}),captured:g({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:g({onKeyPress:!0}),captured:g({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:g({onKeyUp:!0}),captured:g({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:g({onLoad:!0}),captured:g({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:g({onError:!0}),captured:g({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:g({onMouseDown:!0}),captured:g({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:g({onMouseMove:!0}),captured:g({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:g({onMouseOut:!0}),captured:g({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:g({onMouseOver:!0}),captured:g({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:g({onMouseUp:!0}),captured:g({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:g({onPaste:!0}),captured:g({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:g({onReset:!0}),captured:g({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:g({onScroll:!0}),captured:g({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:g({onSubmit:!0}),captured:g({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:g({onTouchCancel:!0}),captured:g({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:g({onTouchEnd:!0}),captured:g({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:g({onTouchMove:!0}),captured:g({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:g({onTouchStart:!0}),captured:g({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:g({onWheel:!0}),captured:g({onWheelCapture:!0})}}},b={topBlur:E.blur,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topError:E.error,topFocus:E.focus,topInput:E.input,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topReset:E.reset,topScroll:E.scroll,topSubmit:E.submit,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topWheel:E.wheel};for(var _ in b)b[_].dependencies=[_];var y={eventTypes:E,executeDispatch:function(e,t,n){var r=i.executeDispatch(e,t,n);r===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,i){var g=b[e];if(!g)return null;var E;switch(e){case v.topInput:case v.topLoad:case v.topError:case v.topReset:case v.topSubmit:E=a;break;case v.topKeyPress:if(0===f(i))return null;case v.topKeyDown:case v.topKeyUp:E=l;break;case v.topBlur:case v.topFocus:E=s;break;case v.topClick:if(2===i.button)return null;case v.topContextMenu:case v.topDoubleClick:case v.topMouseDown:case v.topMouseMove:case v.topMouseOut:case v.topMouseOver:case v.topMouseUp:E=c;break;case v.topDrag:case v.topDragEnd:case v.topDragEnter:case v.topDragExit:case v.topDragLeave:case v.topDragOver:case v.topDragStart:case v.topDrop:E=u;break;case v.topTouchCancel:case v.topTouchEnd:case v.topTouchMove:case v.topTouchStart:E=h;break;case v.topScroll:E=d;break;case v.topWheel:E=p;break;case v.topCopy:case v.topCut:case v.topPaste:E=o}m(E);var _=E.getPooled(g,n,i);return r.accumulateTwoPhaseDispatches(_),_}};t.exports=y},{}],235:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(238),r={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(n,r),t.exports=n},{}],236:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(238),r={data:null};i.augmentClass(n,r),t.exports=n},{}],237:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(242),r={dataTransfer:null};i.augmentClass(n,r),t.exports=n},{}],238:[function(e,t){"use strict";function n(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];this[r]=a?a(n):n[r]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;this.isDefaultPrevented=s?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var i=e(159),r=e(158),o=e(259),a=e(270),s={type:null,target:a,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=s,n.augmentClass=function(e,t){var n=this,o=Object.create(n.prototype);r(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=r({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.threeArgumentPooler)},i.addPoolingTo(n,i.threeArgumentPooler),t.exports=n},{}],239:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(244),r={relatedTarget:null};i.augmentClass(n,r),t.exports=n},{}],240:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(238),r={data:null};i.augmentClass(n,r),t.exports=n},{}],241:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(244),r=e(267),o=e(268),a=e(269),s={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(n,s),t.exports=n},{}],242:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(244),r=e(247),o=e(269),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}};i.augmentClass(n,a),t.exports=n},{}],243:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(244),r=e(269),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r};i.augmentClass(n,o),t.exports=n},{}],244:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(238),r=e(270),o={view:function(e){if(e.view)return e.view;var t=r(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(n,o),t.exports=n},{}],245:[function(e,t){"use strict";function n(e,t,n){i.call(this,e,t,n)}var i=e(242),r={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(n,r),t.exports=n},{}],246:[function(e,t){"use strict";var n=e(280),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,i,r,o,a,s,l){n(!this.isInTransaction());var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,i,r,o,a,s,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i=t[n];try{this.wrapperInitData[n]=r.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){n(this.isInTransaction());for(var t=this.transactionWrappers,i=e;i<t.length;i++){var o,a=t[i],s=this.wrapperInitData[i];try{o=!0,s!==r.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(i+1)}catch(l){}}}this.wrapperInitData.length=0}},r={Mixin:i,OBSERVED_ERROR:{}};t.exports=r},{}],247:[function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};t.exports=n},{}],248:[function(e,t){"use strict";function n(e,t){if(i(null!=t),null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var i=e(280);t.exports=n},{}],249:[function(e,t){"use strict";function n(e){for(var t=1,n=0,r=0;r<e.length;r++)t=(t+e.charCodeAt(r))%i,n=(n+t)%i;return t|n<<16}var i=65521;t.exports=n},{}],250:[function(e,t){function n(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;t.exports=n},{}],251:[function(e,t){"use strict";function n(e){return i(e.replace(r,"ms-"))}var i=e(250),r=/^-ms-/;t.exports=n},{}],252:[function(e,t){"use strict";function n(e,t){var n=r.mergeProps(t,e.props);return!n.hasOwnProperty(a)&&e.props.hasOwnProperty(a)&&(n.children=e.props.children),i.createElement(e.type,n)}var i=e(192),r=e(212),o=e(287),a=(e(301),o({children:null}));t.exports=n},{}],253:[function(e,t){function n(e,t){return e&&t?e===t?!0:i(e)?!1:i(t)?n(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var i=e(284);t.exports=n},{}],254:[function(e,t){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return n(e)?Array.isArray(e)?e.slice():r(e):[e]}var r=e(298);t.exports=i},{}],255:[function(e,t){"use strict";function n(e){var t=r.createFactory(e),n=i.createClass({tagName:e.toUpperCase(),displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){o(!1)},render:function(){return t(this.props)}});return n}var i=e(167),r=e(192),o=e(280);t.exports=n},{}],256:[function(e,t){function n(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var i=l;s(!!l);var r=n(e),c=r&&a(r);if(c){i.innerHTML=c[1]+e+c[2];for(var u=c[0];u--;)i=i.lastChild}else i.innerHTML=e;var h=i.getElementsByTagName("script");h.length&&(s(t),o(h).forEach(t));for(var d=o(i.childNodes);i.lastChild;)i.removeChild(i.lastChild);return d}var r=e(151),o=e(254),a=e(272),s=e(280),l=r.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=i},{}],257:[function(e,t){"use strict";function n(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}e(301);t.exports=n},{}],258:[function(e,t){"use strict";function n(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var i=isNaN(t);return i||0===t||r.hasOwnProperty(e)&&r[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=e(134),r=i.isUnitlessNumber;t.exports=n},{}],259:[function(e,t){function n(e){return function(){return e}}function i(){}i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e
},t.exports=i},{}],260:[function(e,t){"use strict";var n={};t.exports=n},{}],261:[function(e,t){"use strict";function n(e){return r[e]}function i(e){return(""+e).replace(o,n)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=i},{}],262:[function(e,t){"use strict";function n(e){return null==e?null:a(e)?e:i.has(e)?r.getNodeFromInstance(e):(o(null==e.render||"function"!=typeof e.render),void o(!1))}{var i=(e(174),e(202)),r=e(206),o=e(280),a=e(282);e(301)}t.exports=n},{}],263:[function(e,t){"use strict";function n(e,t,n){var i=e,r=!i.hasOwnProperty(n);r&&null!=t&&(i[n]=t)}function i(e){if(null==e)return e;var t={};return r(e,n,t),t}{var r=e(299);e(301)}t.exports=i},{}],264:[function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}t.exports=n},{}],265:[function(e,t){"use strict";var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=n},{}],266:[function(e,t){function n(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=n},{}],267:[function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=n},{}],268:[function(e,t){"use strict";function n(e){if(e.key){var t=r[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var i=e(267),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=n},{}],269:[function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=r[e];return i?!!n[i]:!1}function i(){return n}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},{}],270:[function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=n},{}],271:[function(e,t){"use strict";function n(e){var t=e&&(i&&e[i]||e[r]);return"function"==typeof t?t:void 0}var i="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";t.exports=n},{}],272:[function(e,t){function n(e){return r(!!o),h.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||(o.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",a[e]=!o.firstChild),a[e]?h[e]:null}var i=e(151),r=e(280),o=i.canUseDOM?document.createElement("div"):null,a={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},s=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],u=[1,"<svg>","</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c,circle:u,clipPath:u,defs:u,ellipse:u,g:u,line:u,linearGradient:u,path:u,polygon:u,polyline:u,radialGradient:u,rect:u,stop:u,text:u};t.exports=n},{}],273:[function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,t){for(var r=n(e),o=0,a=0;r;){if(3===r.nodeType){if(a=o+r.textContent.length,t>=o&&a>=t)return{node:r,offset:t-o};o=a}r=n(i(r))}}t.exports=r},{}],274:[function(e,t){"use strict";function n(e){return e?e.nodeType===i?e.documentElement:e.firstChild:null}var i=9;t.exports=n},{}],275:[function(e,t){"use strict";function n(){return!r&&i.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var i=e(151),r=null;t.exports=n},{}],276:[function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=n},{}],277:[function(e,t){function n(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=n},{}],278:[function(e,t){"use strict";function n(e){return i(e).replace(r,"-ms-")}var i=e(277),r=/^ms-/;t.exports=n},{}],279:[function(e,t){"use strict";function n(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var i;if((null===e||e===!1)&&(e=o.emptyElement),"object"==typeof e){var r=e;i=t===r.type&&"string"==typeof r.type?a.createInternalComponent(r):n(r.type)?new r.type(r):new c}else"string"==typeof e||"number"==typeof e?i=a.createInstanceForText(e):l(!1);return i.construct(e),i._mountIndex=0,i._mountImage=null,i}var r=e(172),o=e(194),a=e(209),s=e(158),l=e(280),c=(e(301),function(){});s(c.prototype,r.Mixin,{_instantiateReactComponent:i}),t.exports=i},{}],280:[function(e,t){"use strict";var n=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,a,s],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=n},{}],281:[function(e,t){"use strict";function n(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o="function"==typeof a[n]}return!o&&i&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var i,r=e(151);r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=n},{}],282:[function(e,t){function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=n},{}],283:[function(e,t){"use strict";function n(e){return e&&("INPUT"===e.nodeName&&i[e.type]||"TEXTAREA"===e.nodeName)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},{}],284:[function(e,t){function n(e){return i(e)&&3==e.nodeType}var i=e(282);t.exports=n},{}],285:[function(e,t){"use strict";function n(e){e||(e="");var t,n=arguments.length;if(n>1)for(var i=1;n>i;i++)t=arguments[i],t&&(e=(e?e+" ":"")+t);return e}t.exports=n},{}],286:[function(e,t){"use strict";var n=e(280),i=function(e){var t,i={};n(e instanceof Object&&!Array.isArray(e));for(t in e)e.hasOwnProperty(t)&&(i[t]=t);return i};t.exports=i},{}],287:[function(e,t){var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=n},{}],288:[function(e,t){"use strict";function n(e,t,n){if(!e)return null;var r={};for(var o in e)i.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}var i=Object.prototype.hasOwnProperty;t.exports=n},{}],289:[function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=n},{}],290:[function(e,t){"use strict";function n(e){return r(i.isValidElement(e)),e}var i=e(192),r=e(280);t.exports=n},{}],291:[function(e,t){"use strict";var n,i=e(151);i.canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),t.exports=n||{}},{}],292:[function(e,t){var n=e(291);n&&n.now||(n=Date);var i=n.now.bind(n);t.exports=i},{}],293:[function(e,t){"use strict";function n(e){return'"'+i(e)+'"'}var i=e(261);t.exports=n},{}],294:[function(e,t){"use strict";var n=e(151),i=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),n.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&r.test(t)){e.innerHTML=""+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{}],295:[function(e,t){"use strict";var n=e(151),i=e(261),r=e(294),o=function(e,t){e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){r(e,i(t))})),t.exports=o},{}],296:[function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}t.exports=n},{}],297:[function(e,t){"use strict";function n(e,t){if(null!=e&&null!=t){var n=typeof e,i=typeof t;if("string"===n||"number"===n)return"string"===i||"number"===i;if("object"===i&&e.type===t.type&&e.key===t.key){var r=e._owner===t._owner;return r}}return!1}e(301);t.exports=n},{}],298:[function(e,t){function n(e){var t=e.length;if(i(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e)),i("number"==typeof t),i(0===t||t-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}var i=e(280);t.exports=n},{}],299:[function(e,t){"use strict";function n(e){return m[e]}function i(e,t){return e&&null!=e.key?o(e.key):t.toString(36)}function r(e){return(""+e).replace(g,n)}function o(e){return"$"+r(e)}function a(e,t,n,r,s){var u=typeof e;if(("undefined"===u||"boolean"===u)&&(e=null),null===e||"string"===u||"number"===u||l.isValidElement(e))return r(s,e,""===t?p+i(e,0):t,n),1;var m,g,v,E=0;if(Array.isArray(e))for(var b=0;b<e.length;b++)m=e[b],g=(""!==t?t+f:p)+i(m,b),v=n+E,E+=a(m,g,v,r,s);else{var _=h(e);if(_){var y,S=_.call(e);if(_!==e.entries)for(var C=0;!(y=S.next()).done;)m=y.value,g=(""!==t?t+f:p)+i(m,C++),v=n+E,E+=a(m,g,v,r,s);else for(;!(y=S.next()).done;){var w=y.value;w&&(m=w[1],g=(""!==t?t+f:p)+o(w[0])+f+i(m,0),v=n+E,E+=a(m,g,v,r,s))}}else if("object"===u){d(1!==e.nodeType);var k=c.extract(e);for(var A in k)k.hasOwnProperty(A)&&(m=k[A],g=(""!==t?t+f:p)+o(A)+f+i(m,0),v=n+E,E+=a(m,g,v,r,s))}}return E}function s(e,t,n){return null==e?0:a(e,"",0,t,n)}var l=e(192),c=e(198),u=e(201),h=e(271),d=e(280),p=(e(301),u.SEPARATOR),f=":",m={"=":"=0",".":"=1",":":"=2"},g=/[=.:]/g;t.exports=s},{}],300:[function(e,t){"use strict";function n(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?o(new e.constructor,e):e}function i(e,t,n){s(Array.isArray(e));var i=t[n];s(Array.isArray(i))}function r(e,t){if(s("object"==typeof t),l.call(t,d))return s(1===Object.keys(t).length),t[d];var a=n(e);if(l.call(t,p)){var m=t[p];s(m&&"object"==typeof m),s(a&&"object"==typeof a),o(a,t[p])}l.call(t,c)&&(i(e,t,c),t[c].forEach(function(e){a.push(e)})),l.call(t,u)&&(i(e,t,u),t[u].forEach(function(e){a.unshift(e)})),l.call(t,h)&&(s(Array.isArray(e)),s(Array.isArray(t[h])),t[h].forEach(function(e){s(Array.isArray(e)),a.splice.apply(a,e)})),l.call(t,f)&&(s("function"==typeof t[f]),a=t[f](a));for(var v in t)g.hasOwnProperty(v)&&g[v]||(a[v]=r(e[v],t[v]));return a}var o=e(158),a=e(287),s=e(280),l={}.hasOwnProperty,c=a({$push:null}),u=a({$unshift:null}),h=a({$splice:null}),d=a({$set:null}),p=a({$merge:null}),f=a({$apply:null}),m=[c,u,h,d,p,f],g={};m.forEach(function(e){g[e]=!0}),t.exports=r},{}],301:[function(e,t){"use strict";var n=e(259),i=n;t.exports=i},{}],302:[function(e,t){t.exports=e(160)},{}],303:[function(e,t,n){(function(){function e(e){function t(t,n,i,r,o,a){for(;o>=0&&a>o;o+=e){var s=r?r[o]:o;i=n(i,t[s],s,t)}return i}return function(n,i,r,o){i=_(i,o,4);var a=!k(n)&&b.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=e),t(n,i,r,a,l,s)}}function i(e){return function(t,n,i){n=y(n,i);for(var r=null!=t&&t.length,o=e>0?0:r-1;o>=0&&r>o;o+=e)if(n(t[o],o,t))return o;return-1}}function r(e,t){var n=O.length,i=e.constructor,r=b.isFunction(i)&&i.prototype||l,o="constructor";for(b.has(e,o)&&!b.contains(t,o)&&t.push(o);n--;)o=O[n],o in e&&e[o]!==r[o]&&!b.contains(t,o)&&t.push(o)}var o=this,a=o._,s=Array.prototype,l=Object.prototype,c=Function.prototype,u=s.push,h=s.slice,d=l.toString,p=l.hasOwnProperty,f=Array.isArray,m=Object.keys,g=c.bind,v=Object.create,E=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=b),n._=b):o._=b,b.VERSION="1.8.2";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return null==e?b.identity:b.isFunction(e)?_(e,t,n):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return y(e,t,1/0)};var S=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],a=e(o),s=a.length,l=0;s>l;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},C=function(e){if(!b.isObject(e))return{};if(v)return v(e);E.prototype=e;var t=new E;return E.prototype=null,t},w=Math.pow(2,53)-1,k=function(e){var t=e&&e.length;return"number"==typeof t&&t>=0&&w>=t};b.each=b.forEach=function(e,t,n){t=_(t,n);var i,r;if(k(e))for(i=0,r=e.length;r>i;i++)t(e[i],i,e);else{var o=b.keys(e);for(i=0,r=o.length;r>i;i++)t(e[o[i]],o[i],e)}return e},b.map=b.collect=function(e,t,n){t=y(t,n);for(var i=!k(e)&&b.keys(e),r=(i||e).length,o=Array(r),a=0;r>a;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(e,t,n){var i;return i=k(e)?b.findIndex(e,t,n):b.findKey(e,t,n),void 0!==i&&-1!==i?e[i]:void 0},b.filter=b.select=function(e,t,n){var i=[];return t=y(t,n),b.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},b.reject=function(e,t,n){return b.filter(e,b.negate(y(t)),n)},b.every=b.all=function(e,t,n){t=y(t,n);for(var i=!k(e)&&b.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},b.some=b.any=function(e,t,n){t=y(t,n);for(var i=!k(e)&&b.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n){return k(e)||(e=b.values(e)),b.indexOf(e,t,"number"==typeof n&&n)>=0},b.invoke=function(e,t){var n=h.call(arguments,2),i=b.isFunction(t);return b.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t&&null!=e){e=k(e)?e:b.values(e);for(var s=0,l=e.length;l>s;s++)i=e[s],i>o&&(o=i)}else t=y(t,n),b.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},b.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=k(e)?e:b.values(e);for(var s=0,l=e.length;l>s;s++)i=e[s],o>i&&(o=i)}else t=y(t,n),b.each(e,function(e,n,i){r=t(e,n,i),(a>r||1/0===r&&1/0===o)&&(o=e,a=r)});return o},b.shuffle=function(e){for(var t,n=k(e)?e:b.values(e),i=n.length,r=Array(i),o=0;i>o;o++)t=b.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},b.sample=function(e,t,n){return null==t||n?(k(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,n){return t=y(t,n),b.pluck(b.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,n,i){var r={};return n=y(n,i),b.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};b.groupBy=A(function(e,t,n){b.has(e,n)?e[n].push(t):e[n]=[t]}),b.indexBy=A(function(e,t,n){e[n]=t}),b.countBy=A(function(e,t,n){b.has(e,n)?e[n]++:e[n]=1}),b.toArray=function(e){return e?b.isArray(e)?h.call(e):k(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:k(e)?e.length:b.keys(e).length},b.partition=function(e,t,n){t=y(t,n);var i=[],r=[];return b.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},b.first=b.head=b.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var I=function(e,t,n,i){for(var r=[],o=0,a=i||0,s=e&&e.length;s>a;a++){var l=e[a];if(k(l)&&(b.isArray(l)||b.isArguments(l))){t||(l=I(l,t,n));var c=0,u=l.length;for(r.length+=u;u>c;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};b.flatten=function(e,t){return I(e,t,!1)},b.without=function(e){return b.difference(e,h.call(arguments,1))},b.uniq=b.unique=function(e,t,n,i){if(null==e)return[];b.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=y(n,i));for(var r=[],o=[],a=0,s=e.length;s>a;a++){var l=e[a],c=n?n(l,a,e):l;t?(a&&o===c||r.push(l),o=c):n?b.contains(o,c)||(o.push(c),r.push(l)):b.contains(r,l)||r.push(l)}return r},b.union=function(){return b.uniq(I(arguments,!0,!0))},b.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,r=e.length;r>i;i++){var o=e[i];if(!b.contains(t,o)){for(var a=1;n>a&&b.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},b.difference=function(e){var t=I(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,"length").length||0,n=Array(t),i=0;t>i;i++)n[i]=b.pluck(e,i);return n},b.object=function(e,t){for(var n={},i=0,r=e&&e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},b.indexOf=function(e,t,n){var i=0,r=e&&e.length;if("number"==typeof n)i=0>n?Math.max(0,r+n):n;else if(n&&r)return i=b.sortedIndex(e,t),e[i]===t?i:-1;if(t!==t)return b.findIndex(h.call(e,i),b.isNaN);for(;r>i;i++)if(e[i]===t)return i;return-1},b.lastIndexOf=function(e,t,n){var i=e?e.length:0;if("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1)),t!==t)return b.findLastIndex(h.call(e,0,i),b.isNaN);for(;--i>=0;)if(e[i]===t)return i;return-1},b.findIndex=i(1),b.findLastIndex=i(-1),b.sortedIndex=function(e,t,n,i){n=y(n,i,1);for(var r=n(t),o=0,a=e.length;a>o;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o},b.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;i>o;o++,e+=n)r[o]=e;return r};var N=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=C(e.prototype),a=e.apply(o,r);return b.isObject(a)?a:o};b.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,h.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),i=function(){return N(e,i,t,this,n.concat(h.call(arguments)))};return i},b.partial=function(e){var t=h.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;r>a;a++)o[a]=t[a]===b?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return N(e,n,this,this,o)};return n},b.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=b.bind(e[n],e);return e},b.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return b.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},b.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:b.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var c=b.now();s||n.leading!==!1||(s=c);var u=t-(c-s);return i=this,r=arguments,0>=u||u>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,u)),o}},b.debounce=function(e,t,n){var i,r,o,a,s,l=function(){var c=b.now()-a;t>c&&c>=0?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=b.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(o,r),o=r=null),s}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},b.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},b.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},b.once=b.partial(b.before,2);var T=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)b.has(e,n)&&t.push(n);return T&&r(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);return T&&r(e,t),t},b.values=function(e){for(var t=b.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},b.mapObject=function(e,t,n){t=y(t,n);for(var i,r=b.keys(e),o=r.length,a={},s=0;o>s;s++)i=r[s],a[i]=t(e[i],i,e);return a},b.pairs=function(e){for(var t=b.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},b.invert=function(e){for(var t={},n=b.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)b.isFunction(e[n])&&t.push(n);return t.sort()},b.extend=S(b.allKeys),b.extendOwn=b.assign=S(b.keys),b.findKey=function(e,t,n){t=y(t,n);for(var i,r=b.keys(e),o=0,a=r.length;a>o;o++)if(i=r[o],t(e[i],i,e))return i},b.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;b.isFunction(t)?(r=b.allKeys(a),i=_(t,n)):(r=I(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=r.length;l>s;s++){var c=r[s],u=a[c];i(u,c,a)&&(o[c]=u)}return o},b.omit=function(e,t,n){if(b.isFunction(t))t=b.negate(t);else{var i=b.map(I(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(i,t)}}return b.pick(e,t,n)},b.defaults=S(b.allKeys,!0),b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;i>o;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var D=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!D(e[l],t[l],n,i))return!1}else{var c,u=b.keys(e);if(l=u.length,b.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!b.has(t,c)||!D(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};b.isEqual=function(e,t){return D(e,t)},b.isEmpty=function(e){return null==e?!0:k(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=f||function(e){return"[object Array]"===d.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&p.call(e,t)},b.noConflict=function(){return o._=a,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=function(e){return function(t){return null==t?void 0:t[e]}},b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var i=Array(Math.max(0,e));t=_(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=b.invert(M),P=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};b.escape=P(M),b.unescape=P(x),b.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),b.isFunction(i)?i.call(e):i};var L=0;b.uniqueId=function(e){var t=++L+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,U=function(e){return"\\"+B[e]};b.template=function(e,t,n){!t&&n&&(t=n),t=b.defaults({},t,b.templateSettings);var i=RegExp([(t.escape||R).source,(t.interpolate||R).source,(t.evaluate||R).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(F,U),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(e){return a.call(this,e,b)},c=t.variable||"obj";return l.source="function("+c+"){\n"+o+"}",l},b.chain=function(e){var t=b(e);return t._chain=!0,t};var W=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),W(this,n.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];b.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],W(this,n)}}),b.each(["concat","join","slice"],function(e){var t=s[e];b.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],304:[function(e,t,n){"use strict";function i(){if(!document)throw"Unable to find document. Are we in a browser?"}function r(e){return Math.pow((e+.055)/1.055,2.4)}function o(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255,o=v>=t?t*g:r(t),a=v>=n?n*g:r(n),s=v>=i?i*g:r(i);return o*E+a*b+s*_}function a(e,t){var n=o(e),i=o(t),r=Math.max(n,i),a=Math.min(n,i);return(r+.05)/(a+.05)}function s(e){return e[0]<33&&e[1]<33&&e[2]<33}function l(e){for(var t=null,n=0,i=0;i<e.length&&null==t;i++){var r=a([255,255,255],e[i]);r>f&&r>n&&!s(e[i])&&(t=e[i],n=r)}return t}function c(e){var t=d.getPalette(this,2,1),n=l(t);"function"==typeof e&&(n&&e(n),e(null))}function u(){if(null===y){var e=document.createElement("style");document.head.appendChild(e),y=e.sheet}}var h=e(305),d=new h,p=["background-color","border-color","color"],f=2.5,m=n,g=1/12.92,v=.03928,E=.2126,b=.7152,_=.0722;m.getToolbarBackgroundColor=function(e,t){if(null!=e&&""!==e){i();var n=new Image;n.onload=c.bind(n,t),n.src=e}};var y=null;m.removeCSSClasses=function(){if(y)for(var e=parseInt(y.rules.length),t=0;e>t;t++)y.deleteRule(0)},m.updateCSSClasses=function(e){var t=".favicon-current";u(),m.removeCSSClasses(),p.forEach(function(n){var i=t+"-"+n+" {"+n+":"+e+"!important;}\n";y.insertRule(i,0)})}},{}],305:[function(e,t){var n=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e.width,this.height=this.canvas.height=e.height,this.context.drawImage(e,0,0,this.width,this.height)};n.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},n.prototype.update=function(e){this.context.putImageData(e,0,0)},n.prototype.getPixelCount=function(){return this.width*this.height},n.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},n.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var i=function(){};if(t&&"undefined"!=typeof t.exports&&(t.exports=i),i.prototype.getColor=function(e,t){var n=this.getPalette(e,5,t),i=n[0];return i},i.prototype.getPalette=function(e,t,i){var r=[];try{"undefined"==typeof t&&(t=10),"undefined"==typeof i&&(i=10);for(var a,s,l,c,u,h=new n(e),d=h.getImageData(),p=d.data,f=h.getPixelCount(),m=[],g=0;f>g;g+=i)a=4*g,s=p[a+0],l=p[a+1],c=p[a+2],u=p[a+3],u>=125&&(s>250&&l>250&&c>250||m.push([s,l,c]));var v=o.quantize(m,t);v!==!1&&(r=v.palette())}finally{h.removeCanvas()}return r},!r)var r={map:function(e,t){var n={};return t?e.map(function(e,i){return n.index=i,t.call(n,e)}):e.slice()},naturalOrder:function(e,t){return t>e?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,i,r){return n.index=r,e+t.call(n,i)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?r.map(e,t):e)}};var o=function(){function e(e,t,n){return(e<<2*c)+(t<<c)+n}function t(e){function t(){n.sort(e),i=!0}var n=[],i=!1;return{push:function(e){n.push(e),i=!1},peek:function(e){return i||t(),void 0===e&&(e=n.length-1),n[e]},pop:function(){return i||t(),n.pop()},size:function(){return n.length},map:function(e){return n.map(e)},debug:function(){return i||t(),n}}}function n(e,t,n,i,r,o,a){var s=this;s.r1=e,s.r2=t,s.g1=n,s.g2=i,s.b1=r,s.b2=o,s.histo=a}function i(){this.vboxes=new t(function(e,t){return r.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function o(t){var n,i,r,o,a=1<<3*c,s=new Array(a);return t.forEach(function(t){i=t[0]>>u,r=t[1]>>u,o=t[2]>>u,n=e(i,r,o),s[n]=(s[n]||0)+1}),s}function a(e,t){var i,r,o,a=1e6,s=0,l=1e6,c=0,h=1e6,d=0;return e.forEach(function(e){i=e[0]>>u,r=e[1]>>u,o=e[2]>>u,a>i?a=i:i>s&&(s=i),l>r?l=r:r>c&&(c=r),h>o?h=o:o>d&&(d=o)}),new n(a,s,l,c,h,d,t)}function s(t,n){function i(e){var t,i,r,o,a,s=e+"1",l=e+"2",u=0;
for(c=n[s];c<=n[l];c++)if(m[c]>f/2){for(r=n.copy(),o=n.copy(),t=c-n[s],i=n[l]-c,a=i>=t?Math.min(n[l]-1,~~(c+i/2)):Math.max(n[s],~~(c-1-t/2));!m[a];)a++;for(u=g[a];!u&&m[a-1];)u=g[--a];return r[l]=a,o[s]=r[l]+1,[r,o]}}if(n.count()){var o=n.r2-n.r1+1,a=n.g2-n.g1+1,s=n.b2-n.b1+1,l=r.max([o,a,s]);if(1==n.count())return[n.copy()];var c,u,h,d,p,f=0,m=[],g=[];if(l==o)for(c=n.r1;c<=n.r2;c++){for(d=0,u=n.g1;u<=n.g2;u++)for(h=n.b1;h<=n.b2;h++)p=e(c,u,h),d+=t[p]||0;f+=d,m[c]=f}else if(l==a)for(c=n.g1;c<=n.g2;c++){for(d=0,u=n.r1;u<=n.r2;u++)for(h=n.b1;h<=n.b2;h++)p=e(u,c,h),d+=t[p]||0;f+=d,m[c]=f}else for(c=n.b1;c<=n.b2;c++){for(d=0,u=n.r1;u<=n.r2;u++)for(h=n.g1;h<=n.g2;h++)p=e(u,h,c),d+=t[p]||0;f+=d,m[c]=f}return m.forEach(function(e,t){g[t]=f-e}),i(l==o?"r":l==a?"g":"b")}}function l(e,n){function l(e,t){for(var n,i=1,r=0;h>r;)if(n=e.pop(),n.count()){var o=s(c,n),a=o[0],l=o[1];if(!a)return;if(e.push(a),l&&(e.push(l),i++),i>=t)return;if(r++>h)return}else e.push(n),r++}if(!e.length||2>n||n>256)return!1;var c=o(e),u=0;c.forEach(function(){u++});var p=a(e,c),f=new t(function(e,t){return r.naturalOrder(e.count(),t.count())});f.push(p),l(f,d*n);for(var m=new t(function(e,t){return r.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});f.size();)m.push(f.pop());l(m,n-m.size());for(var g=new i;m.size();)g.push(m.pop());return g}var c=5,u=8-c,h=1e3,d=.75;return n.prototype={volume:function(e){var t=this;return(!t._volume||e)&&(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var n=this,i=n.histo;if(!n._count_set||t){var r,o,a,s=0;for(r=n.r1;r<=n.r2;r++)for(o=n.g1;o<=n.g2;o++)for(a=n.b1;a<=n.b2;a++){var l=e(r,o,a);s+=i[l]||0}n._count=s,n._count_set=!0}return n._count},copy:function(){var e=this;return new n(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var n=this,i=n.histo;if(!n._avg||t){var r,o,a,s,l,u=0,h=1<<8-c,d=0,p=0,f=0;for(o=n.r1;o<=n.r2;o++)for(a=n.g1;a<=n.g2;a++)for(s=n.b1;s<=n.b2;s++)l=e(o,a,s),r=i[l]||0,u+=r,d+=r*(o+.5)*h,p+=r*(a+.5)*h,f+=r*(s+.5)*h;n._avg=u?[~~(d/u),~~(p/u),~~(f/u)]:[~~(h*(n.r1+n.r2+1)/2),~~(h*(n.g1+n.g2+1)/2),~~(h*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(e){var t=this,n=e[0]>>u;return gval=e[1]>>u,bval=e[2]>>u,n>=t.r1&&n<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},i.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,i,r=this.vboxes,o=0;o<r.size();o++)n=Math.sqrt(Math.pow(e[0]-r.peek(o).color[0],2)+Math.pow(e[1]-r.peek(o).color[1],2)+Math.pow(e[2]-r.peek(o).color[2],2)),(t>n||void 0===t)&&(t=n,i=r.peek(o).color);return i},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return r.naturalOrder(r.sum(e.color),r.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,i=e[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(e[n].color=[255,255,255])}},{quantize:l}}()},{}],306:[function(e,t){"use strict";var n,i;t.exports={ar:function(e){return n=6,i=0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11&&99>=e%100?4:5},be:function(e){return n=4,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(12>e%100||e%100>14)?1:e%10===0||e%10>=5&&9>=e%10||e%100>=11&&14>=e%100?2:3},bg:function(e){return n=2,i=1!==e},cs:function(e){return n=3,i=1===e?0:e>=2&&4>=e?1:2},da:function(e){return n=2,i=1!==e},de:function(e){return n=2,i=1!==e},el:function(e){return n=2,i=1!==e},eo:function(e){return n=2,i=1!==e},es:function(e){return n=2,i=1!==e},et:function(e){return n=2,i=1!==e},fa:function(){return n=1,i=0},fr:function(e){return n=2,i=e>1},fy:function(e){return n=2,i=1!==e},gl:function(e){return n=2,i=1!==e},hr:function(e){return n=3,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2},hu:function(e){return n=2,i=1!==e},hy:function(e){return n=2,i=1!==e},id:function(){return n=1,i=0},io:function(e){return n=2,i=1!==e},is:function(e){return n=2,i=e%10!==1||e%100===11},it:function(e){return n=2,i=1!==e},ja:function(){return n=1,i=0},jbo:function(){return n=1,i=0},ko:function(){return n=1,i=0},lt:function(e){return n=3,i=e%10===1&&e%100!==11?0:e%10>=2&&(10>e%100||e%100>=20)?1:2},lv:function(e){return n=3,i=e%10===1&&e%100!==11?0:0!==e?1:2},mk:function(e){return n=2,i=e%10===1&&e%100!==11?0:1},nb:function(e){return n=2,i=1!==e},nl:function(e){return n=2,i=1!==e},nn:function(e){return n=2,i=1!==e},pl:function(e){return n=3,i=1===e?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2},pt_BR:function(e){return n=2,i=e>1},pt_PT:function(e){return n=2,i=1!==e},ro:function(e){return n=3,i=1===e?0:e%100>19||e%100===0&&0!==e?2:1},ru:function(e){return n=4,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(12>e%100||e%100>14)?1:e%10===0||e%10>=5&&9>=e%10||e%100>=11&&14>=e%100?2:3},sk:function(e){return n=3,i=1===e?0:e>=2&&4>=e?1:2},sl:function(e){return n=4,i=e%100===1?0:e%100===2?1:e%100===3||e%100===4?2:3},sr:function(e){return n=3,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2},sv:function(e){return n=2,i=1!==e},tr:function(e){return n=2,i=e>1},uk:function(e){return n=3,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2},vi:function(){return n=1,i=0},zh_CN:function(){return n=1,i=0},zh_TW:function(){return n=1,i=0}}},{}],307:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(509),o={primeBookmarks:function(){n.handleViewAction({actionType:i.BOOKMARKS_PRIME_ACTION})},setBookmarkBarFolder:function(e){r.set({BOOKMARKS_BAR_FOLDER_IDS:[e]})},bookmarkBarsIdChanged:function(e){n.handleViewAction({actionType:i.BOOKMARKS_BOOKMARK_BAR_CONFIG_ACTION,obj:e})}};t.exports=o},{}],308:[function(e,t){"use strict";function n(){var e,t=function(t){t.clipboardData.types.indexOf("text/plain")>-1&&(e=t.clipboardData.getData("text/plain"),t.preventDefault())};return document.addEventListener("paste",t),document.execCommand("paste"),document.removeEventListener("paste",t),e}var i=e(320),r=["INPUT","FRAME","IFRAME","OBJECT","SELECT","TEXTAREA","EMBED"],o={copy:function(){console.log("todo copy")},cut:function(){console.log("todo cut")},paste:function(){console.log("todo paste")},pasteAsPlainText:function(){console.log("Paste Plain Text");var e=n();r.indexOf(document.activeElement.tagName)>-1||document.activeElement.isContentEditable?document.execCommand("insertText",!1,e):"WEBVIEW"===document.activeElement.tagName&&document.activeElement.executeScript({code:JSON.stringify(r)+".indexOf(document.activeElement.tagName.toUpperCase()) !== -1 || document.activeElement.contentEditable === 'true' || Boolean(document.querySelector('[contentEditable]'))"},function(t){t[0]===!0&&document.activeElement.executeScript({code:"document.execCommand('insertText', false, "+JSON.stringify(e)+");"})})},pasteAsPlainTextOrPastAndGo:function(){console.log("Paste Plain Text OR Url and GO");var e=n();(r.indexOf(document.activeElement.tagName)>-1||document.activeElement.isContentEditable)&&!document.activeElement.classList.contains("url")?document.execCommand("insertText",!1,e):"WEBVIEW"===document.activeElement.tagName?document.activeElement.executeScript({code:JSON.stringify(r)+".indexOf(document.activeElement.tagName.toUpperCase()) !== -1 || document.activeElement.contentEditable === 'true' || Boolean(document.querySelector('[contentEditable]'))"},function(t){t[0]===!0?document.activeElement.executeScript({code:"document.execCommand('insertText', false, "+JSON.stringify(e)+");"}):i.doAction("urlPasteAndGo")}.bind(this)):i.doAction("urlPasteAndGo")}};t.exports=o},{}],309:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}function i(e,t){return function(){e.apply(null,t)}}var r=e(488),o=e(477),a=e(478),s=e(509),l=e(105),c=e(480).session,u={saveCommandShortcutKey:function(e){a.handleViewAction({actionType:o.COMMAND_SAVE_SHORTCUTKEY,command:e})},restoreCommandShortcutKeys:function(){r.getUserEditableCommands().forEach(function(e){s.set(n({},e.name,s.getDefault(e.name)))})},configChanged:function(e,t,n){a.handleViewAction({actionType:o.COMMAND_CONF_CHANGED,commandKey:n,commandValue:t})},runAction:function(e){"COMMAND_OPEN_TAB"===e.commandName?c.openPage(e.param):this.executeActions(e.commandName)},executeActions:function(e){for(var t=r.getCommands(),n=0;n<t.length;n++)if(e===t[n].name){var o=i(t[n].action,[t[n].param]);return void o()}},executeActionById:function(e){var t=r.getCommands(),n=i(t[e].action,[t[e].param]);n()},urlChangedTab:function(e){a.handleViewAction({actionType:o.COMMAND_SESSION_CHANGED,command:e})}};l.showMenu.onMainMenuCommand?l.showMenu.onMainMenuCommand.addListener(function(e){document.hasFocus()&&u.executeActions(r.chromeIdToCommand(e))}):console.warn("chrome.showMenu.onMainMenuCommand not available in this build!"),t.exports=u},{}],310:[function(e,t){"use strict";var n=e(478),i=e(477),r={selectMessages:function(e){n.handleViewAction({actionType:i.MAIL_SELECT_MESSAGES,messages:e})},markSelectedRead:function(){n.handleViewAction({actionType:i.MAIL_MARK_READ})},markSelectedUnread:function(){n.handleViewAction({actionType:i.MAIL_MARK_UNREAD})},deleteSelectedMessages:function(){n.handleViewAction({actionType:i.MAIL_DELETE_MESSAGES})},setMessageList:function(e){n.handleViewAction({actionType:i.MAIL_SET_MESSAGE_LIST,messages:e})},filterSelected:function(){n.handleViewAction({actionType:i.MAIL_FILTER_SELECTED})}};t.exports=r},{}],311:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(509),o=e(480).session,a=e(482).urls,s=e(105),l={newWindow:function(e){o.openWindow(e,{focused:!0,incognito:!1})},newIncognitoWindow:function(e){o.openWindow(e,{focused:!0,incognito:!0})},newPopup:function(e){o.openURL(e)},exitBrowser:function(){s.runtime.exit()},closeWindow:function(){s.app.window.current().close()},showQuickCommand:function(){n.handleViewAction({actionType:i.MAIN_SHOW_QUICKCOMMANDS})},showKeyboardShortcuts:function(){n.handleViewAction({actionType:i.MAIN_SHOW_KEYBOARDS_SHORTCUTS})},showImportData:function(){n.handleViewAction({actionType:i.MAIN_SHOW_IMPORT_DATA})},showPageInfo:function(e,t){n.handleViewAction({actionType:i.MAIN_SHOW_PAGE_INFO,page:e,event:t})},fullScreen:function(){n.handleViewAction({actionType:i.MAIN_FULLSCREEN})},toggleMenuPosition:function(){r.get("VIVALDI_MENU_POSITION",function(e){e="vivaldi"===e?"top":"vivaldi",r.set({VIVALDI_MENU_POSITION:e})}.bind(this))},toggleFooter:function(){r.get("SHOW_VIVALDI_FOOTER",function(e){r.set({SHOW_VIVALDI_FOOTER:!e})}.bind(this))},showPlugins:function(){o.openURL("vivaldi://plugins",{singleton:!0})},showSettings:function(){s.runtime.sendMessage({getLastSettingsWindowId:-1},function(e){l.MaybeShowSettingsInWindow(e.settingsWindowId)})},MaybeShowSettingsInWindow:function(e){s.windows.getAll(function(t){for(var n=!0,i=0;i<t.length;i++)if(t[i].id===e){n=!1;break}if(n){var r=Number.parseInt(window.screen.availWidth/2-370,10),l=Number.parseInt(window.screen.availHeight/2-280,10);o.openWindow(a.internals.settings,{left:r,top:l,focused:!0,incognito:!1},function(e){s.runtime.sendMessage({setLastSettingsWindowId:e.id})},"popup")}else s.windows.update(e,{focused:!0})})},showTaskManager:function(){s.importData.openTaskManager(function(){})},showDevTools:function(){s.importData.showDevTools(function(){})},toggleBookmarksBar:function(){r.get("BOOKMARK_BAR_VISIBLE",function(e){r.set({BOOKMARK_BAR_VISIBLE:!e})}.bind(this))},checkForUpdates:function(){s.autoUpdate.checkForUpdates(!0)},zoomIn:function(){n.handleViewAction({actionType:i.MAIN_ZOOM_IN})},zoomOut:function(){n.handleViewAction({actionType:i.MAIN_ZOOM_OUT})},zoomHalf:function(){n.handleViewAction({actionType:i.MAIN_ZOOM_HALF})},zoomDouble:function(){n.handleViewAction({actionType:i.MAIN_ZOOM_DOUBLE})},zoomReset:function(){n.handleViewAction({actionType:i.MAIN_ZOOM_RESET})},toggleTabBar:function(){n.handleViewAction({actionType:i.MAIN_TOGGLE_TAB_BAR})},toggleAddressBar:function(){n.handleViewAction({actionType:i.MAIN_TOGGLE_ADDRESS_BAR})}};t.exports=l},{}],312:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(491),o=e(105),a=e(480),s=a.session,l=e(116),c=e(512),u=window.vivaldiWindowId,h={openPage:function(e){n.handleViewAction({actionType:i.PAGE_OPEN,pages:e}),c(o.tabs.update)(e.get("id"),{active:!0})},closePage:function(e){n.handleViewAction({actionType:i.PAGE_CLOSE,pages:e});var t=s.findPageForTab(e.get("id"));t&&s.trashPage(t)},movePage:function(e,t,n){if(n=n||{},n.isOver)return void h.createTabStack(l.fromJS([e,t]));var i=void 0;i=e.get("group")?r.getPages().filter(function(t){return t.get("group")===e.get("group")}):l.fromJS([e]);var a=void 0;a=t.get("group")?r.getPages().filter(function(e){return e.get("group")===t.get("group")}):l.fromJS([t]);var s=i.first().get("index"),c=n.isLeftOf?a.first().get("index"):a.last().get("index");c+=c>s?n.isLeftOf?-1:0:n.isLeftOf?0:1,o.tabs.move(i.map(function(e){return e.get("id")}).toJS(),{windowId:u,index:c},function(e){o.runtime.lastError&&console.warn("Error moving tabs: ",e,o.runtime.lastError.message)})},createTabStack:function(e){n.handleViewAction({actionType:i.PAGE_TABSTACK_CREATE,pages:e}),s.createTabStack(e.map(function(e){return s.findPageForTab(e.get("id"))}).toJS().filter(Boolean))},expandTabStack:function(e){n.handleViewAction({actionType:i.PAGE_TABSTACK_EXPAND,groupName:e}),s.disolveTabStack(e)},closeTabStack:function(e){var t=void 0===arguments[1]?!1:arguments[1];if(n.handleViewAction({actionType:i.PAGE_TABSTACK_CLOSE,page:e,closeAll:t}),t)r.getPages().filter(function(t){return t.get("group")===e.get("group")}).forEach(function(e){var t=s.getGroupHighlight(e.get("group"));t&&s.trashPage(t)});else{var o=s.getGroupHighlight(e.get("group"));o&&s.trashPage(o)}},closeOther:function(e){n.handleViewAction({actionType:i.PAGE_CLOSE_OTHER,page:e}),Promise.all(r.getPages().filter(function(t){return t.get("id")!==e.get("id")}).map(function(e){return c(o.tabs.remove)(e.get("id"))}))},togglePinned:function(e){n.handleViewAction({actionType:i.PAGE_TOGGLE_PINNED,page:e}),c(o.tabs.update)(e.get("id"),{pinned:!e.get("pinned")})},setMediaState:function(e,t){n.handleViewAction({actionType:i.PAGE_SET_MEDIASTATE,pageId:e,mediastate:t})},setLoading:function(e,t){n.handleViewAction({actionType:i.PAGE_SET_LOADING,pageId:e,loading:t})},toggleSelection:function(e){n.handleViewAction({actionType:i.PAGE_TOGGLE_SELECTION,page:e})},clearSelection:function(){n.handleViewAction({actionType:i.PAGE_CLEAR_SELECTION})}},d=function(e,t){switch(e){case"onCreated":case"onActivated":return t[0].windowId;case"onUpdated":return t[2].windowId;case"onRemoved":case"onMoved":return t[1].windowId;case"onDetached":return t[1].oldWindowId;case"onAttached":return t[1].newWindowId;default:return}},p={initialTabs:function(e){n.handleChromeAction({actionType:i.CHROME_TABS_INITIAL,tabs:e})},relayChromeTabsEvent:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;t>o;o++)r[o-1]=arguments[o];d(e,r)===u&&n.handleChromeAction({actionType:i.CHROME_TABS_API,eventType:e,args:r})}};o.tabs.query({windowId:u},function(e){p.initialTabs(e)}),["onCreated","onRemoved","onUpdated","onMoved","onActivated","onDetached","onAttached","onReplaced"].forEach(function(e){return o.tabs[e].addListener(p.relayChromeTabsEvent.bind(null,e))}),t.exports=h},{}],313:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(489),o={fastforwardChanged:function(e,t){n.handleViewAction({actionType:i.PAGE_ACTION_FAST_FORWARD_URL_CHANGED,nextUrl:e,senderUrl:t})},navigateFastforward:function(){chrome.tabs.sendMessage(r.getCurrentTabID(),{navigateFastforward:!0},function(){})}};t.exports=o},{}],314:[function(e,t){"use strict";var n=e(478),i=e(477),r={togglePanelVisibility:function(){n.handleViewAction({actionType:i.PANEL_TOGGLE})},setSelectedPanel:function(e){n.handleViewAction({actionType:i.PANEL_SET_SELECTED,SELECTED_PANEL:e})},setWidth:function(e){n.handleViewAction({actionType:i.PANEL_SET_WIDTH,PANEL_WIDTH:e})},configChanged:function(e,t,r){var o={};o[r]=t,o.actionType=i.PANEL_CONF_CHANGED,n.handleViewAction(o)},setConfig:function(e){var t=e;t.actionType=i.PANEL_CONF_CHANGED,n.handleViewAction(t)}};t.exports=r},{}],315:[function(e,t){"use strict";var n=e(478),i=e(477),r=i.SEARCH_ENGINE_SET_STATE,o={setState:function(e){n.handleViewAction({actionType:r,state:e})}};t.exports=o},{}],316:[function(e,t){"use strict";var n=e(478),i=e(477),r=i.SPATNAV_NAVIGATE,o=function(e){document.activeElement&&"WEBVIEW"===document.activeElement.tagName.toUpperCase()&&n.handleViewAction({actionType:r,direction:e})};t.exports={left:o.bind(void 0,"left"),up:o.bind(void 0,"up"),right:o.bind(void 0,"right"),down:o.bind(void 0,"down")}},{}],317:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(509),o=e(480).session,a={toggleMenuPosition:function(){r.get("SHOW_PANEL",function(e){r.set({SHOW_PANEL:!e})}.bind(this))},newTab:function(e,t,r){r&&r.url&&(e=r.url),n.handleViewAction({actionType:i.TAB_NEW_TAB,url:e})},newBackgroundTab:function(e,t,r){r&&(r.url?e=r.url:r.source_url&&(e=r.source_url)),n.handleViewAction({actionType:i.TAB_NEW_BACKGROUND_TAB,url:e})},switchTabBackBySetting:function(e,t){n.handleViewAction({actionType:i.TAB_SWITCH_BACK_SETTING,maybeEvent:t})},switchTabForwardBySetting:function(e,t){n.handleViewAction({actionType:i.TAB_SWITCH_FORWARD_SETTING,maybeEvent:t})},switchTabBackByHistory:function(e,t){n.handleViewAction({actionType:i.TAB_SWITCH_BACK_HISTORY,maybeEvent:t})},switchTabForwardByHistory:function(e,t){n.handleViewAction({actionType:i.TAB_SWITCH_FORWARD_HISTORY,maybeEvent:t})},switchTabBackByOrder:function(e,t){n.handleViewAction({actionType:i.TAB_SWITCH_BACK_ORDER,maybeEvent:t})},switchTabForwardByOrder:function(e,t){n.handleViewAction({actionType:i.TAB_SWITCH_FORWARD_ORDER,maybeEvent:t})},undoRecentlyClosedTab:function(){n.handleViewAction({actionType:i.TAB_UNDO_RECENTLY_CLOSED})},showOpenTab:function(e){o.openPage(e)},closeTab:function(e,t){return t&&t.preventDefault(),n.handleViewAction({actionType:i.TAB_CLOSE_TAB}),!1},stackUntile:function(){n.handleViewAction({actionType:i.TAB_STACK_UNTILE})},stackTileGrid:function(){n.handleViewAction({actionType:i.TAB_STACK_TILE_GRID})},stackTileHorizontal:function(){n.handleViewAction({actionType:i.TAB_STACK_TILE_HORIZONTAL})},stackTileVertical:function(){n.handleViewAction({actionType:i.TAB_STACK_TILE_VERTICAL})},configChanged:function(e,t,r){var o={};o[r]=t,o.actionType=i.PANEL_CONF_CHANGED,n.handleViewAction(o)},viewPageSource:function(){n.handleViewAction({actionType:i.TAB_VIEW_PAGE_SOURCE})}};t.exports=a},{}],318:[function(e,t){"use strict";var n=e(478),i=e(477),r={clearTooltip:function(){n.handleViewAction({actionType:i.TOOLTIP_CLEAR})}};t.exports=r},{}],319:[function(e,t){"use strict";function n(e){var t=c.currentPage();t&&t.set("url",e)}var i=e(478),r=e(477),o=r.URLFIELD_SET_STATE,a=e(509),s=e(510).hasUnknownProtocol,l=e(480),c=l.session,u=e(303),h={setUrlfieldState:function(e){var t=c.currentPage();null!=t&&i.handleViewAction({actionType:o,state:e})},goSearchURL:function(e){a.get(["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],function(t){var i,r=decodeURIComponent(e).split(" "),o=r[0]||"";for(i=0;i<t.SEARCH_ENGINES.length;i++)if(t.SEARCH_ENGINES[i].Keyword===o){var a=t.SEARCH_ENGINES[i].Url;return a=a.replace("%s",encodeURIComponent(u.rest(r).join(" "))),void n(a)}for(i=0;i<t.SEARCH_ENGINES.length;i++)if(t.SEARCH_ENGINES[i].Id==t.DEFAULT_SEARCH_ENGINE){var a=t.SEARCH_ENGINES[i].Url;return a=a.replace("%s",encodeURIComponent(r.join(" "))),void n(a)}}.bind(void 0))},go:function(e){var t=void 0===arguments[1]?{}:arguments[1];if("string"==typeof e&&e.length>0)if(s(e))if(e.indexOf(" ")<0&&e.indexOf(".")>=0||e.match(/^localhost/)){if(-1===e.indexOf("://"))return e="http://"+e,void n(e)}else chrome.settings.getPreference(function(){t.enableSearch===!0?h.goSearchURL(encodeURIComponent(e)):n("http://"+encodeURI(e))});else n(e)}};t.exports=h},{}],320:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(489),o=e(498),a={doAction:function(e){n.handleViewAction({actionType:i.WEBPAGEVIEW_ACTIONS,action:e,page:r.getCurrentPage()})},_findCallback:function(e,t,r){r.canceled!==!0&&n.handleViewAction(Object.assign({actionType:i.FIND_IN_PAGE_RESULT_ACTION,searchText:t,page:e},r))},findInPage:function(e,t){var n={findNext:!1};e.webview()&&e.webview().find(t,n,this._findCallback.bind(this,e,t))},findNextInPage:function(e,t,n){var i={findNext:!0,backward:n||!1};e.webview()&&e.webview().find(t,i,this._findCallback.bind(this,e,t))},showFindInPageToolbar:function(e){o.isFindInPageOpen(e)===!1&&n.handleViewAction({actionType:i.SHOW_FIND_IN_PAGE_ACTION,page:e})},closeFindInPageToolbar:function(e){o.isFindInPageOpen(e)===!0&&n.handleViewAction({actionType:i.CLOSE_FIND_IN_PAGE_ACTION,page:e})},go:function(e){n.handleViewAction({actionType:i.PAGE_GO,index:e?e:0})},back:function(){n.handleViewAction({actionType:i.PAGE_BACK})},forward:function(){n.handleViewAction({actionType:i.PAGE_FORWARD})},stop:function(){n.handleViewAction({actionType:i.PAGE_STOP})},reload:function(){n.handleViewAction({actionType:i.PAGE_RELOAD})},updated:function(e){n.handleViewAction({actionType:i.PAGE_UPDATED,page:e})}};t.exports=a},{}],321:[function(e,t){"use strict";var n=e(130),i=e(105),r=e(329),o=e(327),a=e(380),s=e(311),l=e(459),c=e(506),u=n.createClass({displayName:"BookmarksManager",mixins:[a,n.addons.LinkedStateMixin],getInitialState:function(){return{parentSelectedId:null,filter:"",createState:null}},getDefaultProps:function(){return{open:!0}},isFolder:function(e){return e.children&&e.children.length>0||void 0===e.url},edit:function(e){this.refs.bookmarkEditItem.onSelect(e)},create:function(e,t){this.refs.bookmarksManager.createBookmarkItem(t?e.title:e.url,t),this.setState({createState:!1})},toggleSpeeddial:function(e){i.bookmarks.update(e.id,{speeddial:!e.speeddial},function(){})},importData:function(){s.showImportData()},cancel:function(){this.refs.bookmarksManager.cancelCreate(),this.setState({editing:!1}),this.refs.bookmarksManager.getDOMNode().focus(),this.setState({createState:!1})},select:function(e){this.refs.bookmarkEditItem.onSelect(e)},createFolder:function(){this.setState({createState:!0}),this.refs.bookmarkEditItem.onCreate(!0),this.refs.bookmarksManager.onNewItem(!0)},createBookmark:function(){this.setState({createState:!0}),this.refs.bookmarkEditItem.onCreate(!1),this.refs.bookmarksManager.onNewItem(!1)},deleteItem:function(){this.state.createState||this.refs.bookmarksManager.deleteBookmarks(),this.setState({createState:!1})},save:function(e){var t=e.id;delete e.id,delete e.index,i.bookmarks.update(t,e,function(){}.bind(this))},updateThumbnailHandler:function(){var e=this.refs.bookmarksManager.SelectionMixinGetSelected(),t=this.refs.bookmarksManager.findBookmarkItem(e);this._updateThumbnail(t)},_updateThumbnail:function(e){if(this.isFolder(e))for(var t=0;t<e.children.length;t++)this._updateThumbnail(e.children[t]);else l.updateBookmarkThumbnail(e)},render:function(){return this.props.open?n.createElement("div",{className:"manager",ref:"panelElement",style:this.props.style},n.createElement("div",{className:"manager-content"},n.createElement("div",{className:"toolbar icons"},n.createElement("button",{className:"button-toolbar folder",onClick:this.createFolder},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-284 407.9 26 26">\r\n  <path d="M-273.3 417.9l.6 1 .6 1h5.1v4h-8v-6h1.7m1.1-2h-3.6c-.7 0-1.2.6-1.2 1.2v7.5c0 .7.5 1.2 1.2 1.2h9.6c.7 0 1.2-.6 1.2-1.2v-5.9c0-.7-.5-.9-1.2-.9h-4.8l-1.2-1.9z"/>\r\n</svg>'}}),n.createElement("span",{className:"buttontext"},c("New Folder..."))),n.createElement("button",{className:"button-toolbar add",onClick:this.createBookmark},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11.975 14.04H9.02v-2.036h2.955V9h2.037v3.004h2.982v2.037h-2.982v2.934h-2.037V14.04z" />\n</svg>'}}),n.createElement("span",{className:"buttontext"},c("New Bookmark..."))),n.createElement("button",{className:"button-toolbar delete",onClick:this.deleteItem},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\r\n    <path d="M9 14h8v-2H9v2z" />\r\n</svg>'}}),n.createElement("span",{className:"buttontext"},c("Delete"))),n.createElement("button",{className:"button-toolbar import",onClick:this.importData},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M13 18l4-4H9l4 4zM12 8v6h2V8h-2z" />\n</svg>'}}),n.createElement("span",{className:"buttontext"},c("Import..."))),n.createElement("button",{className:"button-toolbar updatethumb",onClick:this.updateThumbnailHandler},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n      <path d="M12.6 7C9.507 7 7 9.506 7 12.6h1.6c0-2.206 1.794-4 4-4s4 1.794 4 4-1.794 4-4 4c-1.29 0-2.425-.623-3.157-1.573H7.56c.905 1.875 2.818 3.172 5.04 3.172 3.093 0 5.6-2.508 5.6-5.6 0-3.094-2.507-5.6-5.6-5.6"/>\n      <path d="M13 13H7V7l6 6z"/>\n</svg>'}}),n.createElement("span",{className:"buttontext"},c("Update Thumbnail..."))),n.createElement("input",{className:"mousetrap",valueLink:this.linkState("filter"),type:"search",placeholder:c("Filter")})),n.createElement("div",{className:"manager-treeview"},n.createElement("div",{className:"vivaldi-tree manager-header"},n.createElement("div",{className:"tree-row"},n.createElement("label",null,c("Bookmark")),n.createElement("label",null,c("Address")),n.createElement("label",null,c("Nickname")),n.createElement("label",null,c("Tags")))),n.createElement("div",{className:"vivaldi-tree-container"},n.createElement(r,{filter:this.state.filter,ref:"bookmarksManager",showBookmarkManager:!0,onEdit:this.edit,onToggleSpeeddial:this.toggleSpeeddial,onSelect:this.select})))),n.createElement(o,{ref:"bookmarkEditItem",onSave:this.save,onCancel:this.cancel,onCreate:this.create})):n.createElement("span",null)}});t.exports=u},{}],322:[function(e,t){"use strict";var n=e(130),i=e(105),r=e(329),o=e(506),a=e(327),s=e(106),l=n.createClass({displayName:"BookmarksPanel",mixins:[n.addons.LinkedStateMixin],getInitialState:function(){return{filter:"",editor:!1,createState:null}},select:function(e){this.refs.bookmarkEditItem.onSelect(e)},save:function(e){var t=e.id;delete e.id,delete e.index,i.bookmarks.update(t,e,function(){}.bind(this))},create:function(e,t){this.refs.tree.createBookmarkItem(t?e.title:e.url,t),this.setState({createState:!1})},createFolder:function(){this.state.editor||this.setState({editor:!this.state.editor}),this.refs.bookmarkEditItem.onCreate(!0),this.refs.tree.onNewItem(!0),this.setState({createState:!0})},createBookmark:function(){this.state.editor||this.setState({editor:!this.state.editor}),this.setState({createState:!0}),this.refs.bookmarkEditItem.onCreate(!1),this.refs.tree.onNewItem(!1)},deleteItem:function(){this.state.createState||this.refs.tree.deleteBookmarks(),this.state.editor&&this.toggleEdit(),this.setState({createState:!1})},toggleEdit:function(){-1!==this.refs.tree.getSelected()&&this.setState({editor:!this.state.editor})},getSelected:function(){return this.refs.tree.getSelected()},setSelected:function(){},cancel:function(){this.refs.tree.cancelCreate(),this.state.editor&&this.toggleEdit(),this.setState({createState:!1})},toggleSpeeddial:function(e){i.bookmarks.update(e.id,{speeddial:!e.speeddial},function(){})},render:function(){var e="panel-bookmarks-edit limited";this.state.editor||(e+=" hidden");var t=s({"button-toolbar":!0,edit:!0,active:this.state.editor});return n.createElement("div",{className:"panel panel-bookmarks",ref:"bookmarkPanelElement",tabIndex:"0"},n.createElement("header",null,n.createElement("h1",null,o("Bookmarks"))),n.createElement("div",{className:"toolbar icons"},n.createElement("input",{type:"search",placeholder:o("Search..."),valueLink:this.linkState("filter")}),n.createElement("span",null,n.createElement("button",{className:"button-toolbar add",title:o("New Bookmark"),onClick:this.createBookmark},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11.975 14.04H9.02v-2.036h2.955V9h2.037v3.004h2.982v2.037h-2.982v2.934h-2.037V14.04z" />\n</svg>'}})),n.createElement("button",{className:"button-toolbar folder",title:o("New Folder"),onClick:this.createFolder},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-284 407.9 26 26">\r\n  <path d="M-273.3 417.9l.6 1 .6 1h5.1v4h-8v-6h1.7m1.1-2h-3.6c-.7 0-1.2.6-1.2 1.2v7.5c0 .7.5 1.2 1.2 1.2h9.6c.7 0 1.2-.6 1.2-1.2v-5.9c0-.7-.5-.9-1.2-.9h-4.8l-1.2-1.9z"/>\r\n</svg>'}})),n.createElement("button",{className:"button-toolbar delete",title:o("Delete"),onClick:this.deleteItem},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\r\n    <path d="M9 14h8v-2H9v2z" />\r\n</svg>'}})),n.createElement("button",{className:t,title:o("verb","Edit"),onClick:this.toggleEdit},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-284 407.9 26 26">\r\n  <path d="M-276 425.9h2.5l7-7-2.5-2.4-7 6.9v2.5zm11.8-9.3c.3-.3.3-.7 0-.9l-1.5-1.5c-.3-.3-.7-.3-.9 0l-1.2 1.2 2.5 2.5 1.1-1.3zm-13.8 11.3h12v-1h-12v1z"/>\r\n</svg>'}})))),n.createElement("section",null,n.createElement(r,{ref:"tree",filter:this.state.filter,showBookmarkManager:!1,onToggleSpeeddial:this.toggleSpeeddial,onEdit:this.toggleEdit,onSelect:this.select})),n.createElement("section",{className:e},n.createElement(a,{ref:"bookmarkEditItem",onSave:this.save,onCancel:this.cancel,onCreate:this.create,getSelected:this.getSelected,setSelected:this.setSelected})))}});t.exports=l},{}],323:[function(e,t){"use strict";var n=e(130),i=e(487),r=e(480).session,o=e(324),a=e(105),r=e(480).session,s=e(125),l=e(500),c=e(106),u=e(506),h=n.createClass({displayName:"BookmarksBar",getInitialState:function(){return this.change=!1,{bookmarksData:i.getBookmarksBar(),dragoverBookmarkObj:{id:-1},width:0}},componentWillReceiveProps:function(e){e.display!==this.props.display&&this._onStoreChange()},_onStoreChange:function(){var e=i.getBookmarksBar();this.state.bookmarksData.map(function(e){e.buttonWidth&&delete e.buttonWidth}),this.setState({bookmarksData:e})},componentWillMount:function(){i.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){i.removeChangeListener(this._onStoreChange)},onKeyDown:function(e){27===e.keyCode&&this.state.dragoverBookmarkObj&&this.setState({dragoverBookmarkObj:{id:-1}})},openUrl:function(e){r.openURL(e,{inCurrent:!0})},onChevroClick:function(e,t){var n=this,i=[];return e.forEach(function(e){i.push(n.showDropMenu(e,"bottom"))}),l(i,null,t)},showDropMenu:function(e){function t(e,n){if(e.children){var i=[];return e.children.forEach(function(e){i.push(t(e,n))}),{name:n.trimTitle(e.title),items:i}}return{name:n.trimTitle(e.title),handler:n.openUrl.bind(null,e.url)}}if(e.children){var n=[];return e.children.forEach(function(e){n.push(t(e,this))}.bind(this)),{name:e.title,items:n}}var i={};return i.name=e.title,i.handler=this.openUrl.bind(null,e.url),i},trimTitle:function(e){return e.length>50?e.substring(0,50)+"...":e},onButtonRendered:function(e,t){for(var n=this.state.bookmarksData,i=!1,r=0;r<n.length;r++)n[r].id===e&&n[r].buttonWidth!==t&&(n[r].buttonWidth=t,i=!0),e===n[n.length-1].id&&i===!0&&(this.change=!0,this.setState({bookmarksData:n}))},onResize:function(e){this.setState({width:Math.floor(e.width)})},getBookmarkBarButton:function(e){return n.createElement(o,{ref:e.id,key:e.id,item:e,onDragStart:this.onDragStart,onDragEnd:this.onDragEndBookmark,onDragOver:this.onDragOver,display:this.props.display,dragover:this.state.dragoverBookmarkObj.id===e.id,dragoverBookmarkObj:this.state.dragoverBookmarkObj,onMoveBookmark:this.onMoveBookmark,onButtonRendered:this.onButtonRendered})
},onDragEndBookmark:function(){this.draggedId=-1,this.setState({dragoverBookmarkObj:{id:-1}})},onDragOver:function(e,t){if(e.id!==this.draggedId){var n=t.currentTarget,i=n.getBoundingClientRect(),r=(t.clientX-i.left)/i.width,o="";o=this.isFolder(e)?.33>=r?"left":r>.66?"right":"on":.5>=r?"left":"right",(this.state.dragoverBookmarkObj.id!==e.id||this.state.dragoverBookmarkObj.id===e.id&&this.state.dragoverBookmarkObj.position!==o)&&this.setState({dragoverBookmarkObj:{id:e.id,position:o}})}},onDragStart:function(e){this.draggedId=e},onMoveBookmark:function(e,t,n,i,r){var o={},s=this.isFolder(n),l=this.state.dragoverBookmarkObj.position;o.parentId=!s||"on"!==l&&"right"!==l?n.parentId:n.id;var c=parseInt(n.index),u="right"===l?s?c:++c:c;o.index="on"===l?0:u,this.setState({dragoverBookmarkObj:{id:-1}}),""===e&&""===t?(o.url=i,o.title=r,a.bookmarks.create(o,function(){})):a.bookmarks.move(e.toString(),o,function(){})},isFolder:function(e){return e?e.children&&e.children.length>0||void 0===e.url:!1},render:function(){var e=0,t=[],i=this.state.bookmarksData.map(function(n){return e+(n.buttonWidth?n.buttonWidth:0)>this.state.width?(n.title=this.trimTitle(n.title),void t.push(n)):(e+=n.buttonWidth?n.buttonWidth:0,this.getBookmarkBarButton(n))}.bind(this)),r=t.length>0?n.createElement("button",{className:"chevron",title:u("More bookmarks"),onClick:this.onChevroClick(t,"bottom")},n.createElement("img",{src:"/resources/chevron@2x.png",alt:""})):null;return n.createElement("div",{className:c({"bookmark-bar":!0,"favicon-current-background-color":this.props.useTabColor})},n.createElement(s,{className:"observer",onKeyDown:this.onKeyDown,onResize:this.onResize},i),r)}});t.exports=h},{}],324:[function(e,t){"use strict";var n=e(130),i=e(500),r=e(480).session,o=e(506),a=e(380),s=e(105),l=e(106),c="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u=n.createClass({displayName:"BookmarksBarItem",mixins:[a],getInitialState:function(){return{dragging:!1,isEditing:!1,title:this.props.item.title,fallbackTitle:this.props.item.title}},componentDidUpdate:function(){var e=this.refs.bookmarkButton.getDOMNode().offsetWidth;this.props.onButtonRendered(this.props.item.id,e)},rename:function(){this.setState({isEditing:!0,fallbackTitle:this.props.item.title})},handleChange:function(e){var t=e.target.value;this.setState({title:t}),this.saveTitle(t)},handleKeyDown:function(e){var t=e.keyCode;if(13===t)n.findDOMNode(this.refs.input).blur();else{if(27!==t)return;this.cancelEdit(),n.findDOMNode(this.refs.input).blur()}e.preventDefault()},handleClick:function(e){e.preventDefault(),e.stopPropagation()},cancelEdit:function(){this.setState({title:this.state.fallbackTitle,isEditing:!1}),this.saveTitle(this.state.fallbackTitle)},saveTitle:function(e){s.bookmarks.update(this.props.item.id,{title:e},function(){s.runtime.lastError&&console.warn("The computer tried to update a bookmark, but The Bookmark API said no: ",s.runtime.lastError.message)})},handleFocus:function(e){e.target.select()},handleBlur:function(){this.state.title||this.cancelEdit(),this.setState({isEditing:!1})},"delete":function(){this.isFolder(this.props.item)?s.bookmarks.removeTree(this.props.item.id):s.bookmarks.remove(this.props.item.id)},trimTitle:function(e){return e.length>50?e.substring(0,50)+"...":e},showDropMenu:function(e,t){function n(e,t){if(e.children){var i=[];return e.children.forEach(function(e){i.push(n(e,t))}),{name:t.trimTitle(e.title),items:i}}return{name:t.trimTitle(e.title),handler:t.openUrl.bind(null,e.url)}}var r=[];return e.children?(e.children.forEach(function(e){r.push(n(e,this))}.bind(this)),i(r,null,t)):this.openUrl.bind(this,e.url)},openUrl:function(e,t){var n="MacIntel"===navigator.platform?t.metaKey:t.ctrlKey,i={inCurrent:!0};!t||1!==t.button&&n!==!0||(i={inBackground:!0}),r.openURL(e,i)},handleDrop:function(e){e.preventDefault(),e.stopPropagation();var t=e.nativeEvent.dataTransfer.getData("id"),n=e.nativeEvent.dataTransfer.getData("parentId"),i=e.nativeEvent.dataTransfer.getData("text"),r=e.nativeEvent.dataTransfer.getData("title");this.props.onMoveBookmark(t,n,this.props.item,i,r)},handleDragStart:function(e){this.props.onDragStart(this.props.item.id),this.setState({dragging:!0}),e.dataTransfer.setData("text/plain","Bookmark"),e.dataTransfer.setData("text/plain",this.props.item.url),e.dataTransfer.setData("text/uri-list",this.props.item.url),e.dataTransfer.effectAllowed="all",e.nativeEvent.dataTransfer.setData("id",""+this.props.item.id),e.nativeEvent.dataTransfer.setData("parentId",""+this.props.item.parentId),e.nativeEvent.dataTransfer.setData("text",""+this.props.item.url)},handleDragEnd:function(){this.setState({dragging:!1}),this.props.onDragEnd()},handleDragLeave:function(){},handleDragEnter:function(e){e.preventDefault()},handleDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.dataTransfer.dropEffect="move",this.props.onDragOver(this.props.item,e)},_openInNewWindow:function(e,t){e.children&&e.children.length>0?e.children.forEach(function(e){e.url&&this.openInNewWindow(e,t)}.bind(this)):e.url&&this.openInNewWindow(e,t)},_openInNewTab:function(e,t){e.children&&e.children.length>0?e.children.forEach(function(e){e.url&&this.openInNewTab(e,t)}.bind(this)):e.url&&this.openInNewTab(e,t)},_open:function(e){e.children&&e.children.length>0?e.children.forEach(function(e){e.url&&this.openInNewTab(e,!1)}.bind(this)):e.url&&this.openInCurrentTab(e)},isFolder:function(e){return e?e.children&&e.children.length>=0||void 0===e.url:!1},render:function(){var e,t,r=this.props.item,a=[{name:o("Open"),handler:this._open.bind(this,r)},{name:o("Open in New Tab"),handler:this._openInNewTab.bind(this,r,!1)},{name:o("Open in Background Tab"),handler:this._openInNewTab.bind(this,r,!0)},{name:"---"},{name:o("Open in New Window"),handler:this._openInNewWindow.bind(this,r,!1)},{name:o("Open in Background Window"),handler:this._openInNewWindow.bind(this,r,!0)},{name:"---"},{name:o("Rename"),handler:this.rename},{name:o("Delete"),handler:this.delete}];r.url?(e="chrome://favicon/"+r.url,t="icon"):(e=c,t="selectedfolder");var s=o("Show folder contents");return"icon"===this.props.display&&r.title&&r.url?(s=r.title,r.url!=="http://"+r.title&&(s=s+" ("+r.url+")")):"icon"===this.props.display&&r.title?s=r.title:r.url&&(s=r.url),n.createElement("button",{key:r.id,ref:"bookmarkButton",title:s,className:l({dragging:this.state.dragging,dragover:this.props.dragoverBookmarkObj.id===r.id&&"on"===this.props.dragoverBookmarkObj.position,dragoverLeft:this.props.dragoverBookmarkObj.id===r.id&&"left"===this.props.dragoverBookmarkObj.position,dragoverRight:this.props.dragoverBookmarkObj.id===r.id&&"right"===this.props.dragoverBookmarkObj.position}),draggable:"true",onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragOver:this.handleDragOver,onDrop:this.handleDrop,onClick:this.showDropMenu(r,"bottom"),onContextMenu:i(a,this.onContextMenuOpen)},(!r.url||"text"!==this.props.display&&r.url)&&n.createElement("img",{src:e,alt:"",className:t}),this.state.isEditing?n.createElement("input",{ref:"input",type:"text",value:this.state.title,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onChange:this.handleChange,autoFocus:!0}):"icon"!==this.props.display&&r.title)}});t.exports=u},{}],325:[function(e,t){"use strict";function n(){return{bookmarksData:r.getFlatListOfBookmarksFolders()}}var i=e(130),r=e(487),o=e(506),a=i.createClass({displayName:"BookmarksFoldersFlatList",getInitialState:function(){return n()},_onStoreChange:function(){this.setState(n())},componentWillMount:function(){r.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){r.removeChangeListener(this._onStoreChange)},render:function(){var e=this.state.bookmarksData.map(function(e){return i.createElement("option",{key:e.id,value:e.id},e.title)}.bind(this));return i.createElement("select",{className:"bookmark-folders",value:this.props.selectedItemID,onChange:this.props.onChange,title:this.props.title},i.createElement("option",{value:"1"},o("Bookmarks")),e)}});t.exports=a},{}],326:[function(e,t){(function(n){"use strict";var i=e(499),r=e(509),o=e(314),a=e(309),s=e(307),l=e(488),c=e(480).session;t.exports={boundShortcuts:[],_onCommandStoreChange:function(){this.boundShortcuts&&this.boundShortcuts.forEach(function(e){i.unbind(e)}),this.boundShortcuts=[];var e=l.getCommandShortcuts();Object.keys(e).forEach(function(t){var n=e[t].function;i.bind(t,n),this.boundShortcuts.push(t)}.bind(this))},componentWillMount:function(){l.addChangeListener(this._onCommandStoreChange),l.getUserEditableCommands().forEach(function(e){r.addListener(e.name,function(e,t,n){a.configChanged(e,t,n)}.bind(this)),r.get(e.name,function(t){a.configChanged([],t,e.name)}.bind(this))}),r.get(["SHOW_PANEL_SWITCH"],function(e){o.setConfig(e)}),r.addListener("SHOW_PANEL_SWITCH",function(e,t,n){o.configChanged(e,t,n)}.bind(this)),this.monitorTabChanges(),r.get(["BOOKMARKS_BAR_FOLDER_IDS"],function(e){s.bookmarkBarsIdChanged(e)}),r.addListener("BOOKMARKS_BAR_FOLDER_IDS",function(e,t,n){var i={};i[n]=t,s.bookmarkBarsIdChanged(i)}.bind(this)),s.primeBookmarks()},componentWillUnmount:function(){l.removeChangeListener(this._onCommandStoreChange)},monitorTabChanges:function(){c.on("remove",function(e){n.nextTick(function(){a.urlChangedTab(e)})},this),c.on("change:title",function(e){n.nextTick(function(){a.urlChangedTab(e)})},this)}}}).call(this,e(95))},{}],327:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(130),r=e(105),o=e(303),a=e(505),s=e(458),l=e(506),c=e(106),u=300,h=i.createClass({displayName:"BookmarkEditItem",getInitialState:function(){return{id:"",title:"",url:"",nickname:"",description:"",thumbnail:"",speeddial:!1,isFolder:!1,create:!1,dateAdded:"",index:0}},onCreate:function(e){this.setState({create:!0,isFolder:e,title:"",url:"",nickname:"",description:"",speeddial:!1,thumbnail:""},function(){e?this.refs.refTitle.getDOMNode().focus():this.refs.refUrl.getDOMNode().focus()}.bind(this))},saveUrl:function(){this.saveBookmark()},saveBookmark:o.debounce(function(){var e={};return e.id=this.state.id,e.title=this.state.title.trim(),e.url=this.state.url?this.state.url.trim():"",e.nickname=this.state.nickname.trim(),e.description=this.state.description.trim(),e.speeddial=this.state.speeddial,e.index=this.state.index,e.thumbnail=this.state.thumbnail,this.state.create&&this.state.isFolder?e.title&&(this.props.onCreate(e,this.state.isFolder),this.setState({create:!1})):this.state.create&&this.state.isFolder===!1?e.url&&(this.props.onCreate(e,this.state.isFolder),this.setState({create:!1})):this.props.onSave(e),!1},u),isFolder:function(){return this.state.create?this.state.isFolder===!0:!this.state.url},handleKeyDown:function(e){13===e.keyCode&&this.saveBookmark(),27===e.keyCode&&this.props.onCancel()},handleUpdateThumbnail:function(e){e.stopPropagation(),r.runtime.sendMessage({action:"updateBookmarkThumbnail",bookmark:{id:this.state.id,url:this.state.url}})},checkChangeSpeeddial:function(){this.setState({speeddial:!this.state.speeddial},function(){this.saveBookmark()}.bind(this))},onInputChange:function(e,t){this.setState(n({},e,t.target.value),this.saveBookmark)},onUrlInputChange:function(e,t){var n={};n[e]=t.target.value,this.setState(n,function(){this.state.create===!1&&this.saveBookmark()}.bind(this))},onSelect:function(e){this.setState({id:e?e.id:"",thumbnail:e?e.thumbnail:"",title:e?e.title:"",url:e?e.url:"",nickname:e?e.nickname:"",description:e?e.description:"",speeddial:e?e.speeddial:!1,dateAdded:e&&e.dateAdded?new Date(e.dateAdded):""})},cancel:function(){this.props.onCancel()},render:function(){var e=a.dateTimeLong(this.state.dateAdded);return i.createElement("div",{className:c({"manager-editor":!0})},i.createElement("div",{className:"addbookmark-cardwrapper"},this.isFolder()?i.createElement("div",{className:"preview-folder"},i.createElement("span",{dangerouslySetInnerHTML:{__html:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 100 78" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <defs>\n        <linearGradient x1="10%" y1="97.0075821%" x2="92.9990234%" y2="50%" id="folder-gradient1">\n            <stop class="stop1" stop-color="#F7F7F7" offset="0%"></stop>\n            <stop class="stop2" stop-color="#F6F6F6" offset="81.6814603%"></stop>\n            <stop class="stop3" stop-color="#F2F2F2 " offset="82.958745%"></stop>\n            <stop class="stop4" stop-color="#F1F1F1" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g id="folder-sd" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="folder-sd-2" sketch:type="MSArtboardGroup" transform="translate(-10.000000, -80.000000)">\n            <g id="folder_speeddial" sketch:type="MSLayerGroup" transform="translate(10.000000, 80.000000)">\n                <rect class="folderoutline" id="folder-rectangle-217" stroke="#EAEAEA" fill="url(#folder-gradient1)" sketch:type="MSShapeGroup" x="0" y="7" width="100" height="71"></rect>\n                <path d="M38.6720289,5 L36.9424825,1.21795571 C36.9424825,0.548270972 35.9175293,5.95079541e-14 35.0623779,5.95079541e-14 C35.0623779,5.95079541e-14 0.052124022,9.57149737e-09 0.052124022,5.95079541e-14 L0.052124022,8.01788998 L40.052124,8.01789026 L40.0439427,8 L100,8 L100,5 L38.6720289,5 Z" id="folder-tab-color" fill="#505050" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'}})):i.createElement("div",{className:"preview"},i.createElement(s,{key:this.state.id,className:"bookmarks-editor-thumbnail favicon-current-border-color",src:this.state.thumbnail,altSrc:"/resources/bookmark_item.png",alt:l("Bookmark thumbnail image")}),i.createElement("div",null,i.createElement("button",{tabIndex:"-1",onClick:this.handleUpdateThumbnail,className:"update-thumbnail"},l("Update thumbnail")))),i.createElement("div",{className:"dialog-content cardview"},i.createElement("div",{className:"data"},i.createElement("div",{className:"fieldset"},i.createElement("input",{className:"cardview title",ref:"refTitle",id:"reftitle",placeholder:l("Title"),onChange:this.onInputChange.bind(this,"title"),value:this.state.title,cccch:!0,onKeyDown:this.handleKeyDown,type:"text"})),i.createElement("div",{className:this.isFolder()?"fieldset collapse":"fieldset"},i.createElement("input",{className:"cardview address",ref:"refUrl",id:"refurl",placeholder:l("URL"),onKeyDown:this.handleKeyDown,onChange:this.onUrlInputChange.bind(this,"url"),value:this.state.url,onBlur:this.saveUrl,disabled:this.isFolder(),type:"text"})),i.createElement("div",{className:"fieldset"},i.createElement("textarea",{className:"cardview description",ref:"refDescription",id:"refdescription",placeholder:l("Tags"),value:this.state.description,onChange:this.onInputChange.bind(this,"description"),onKeyDown:this.handleKeyDown,type:"text"})),i.createElement("div",{className:"fieldset"},i.createElement("input",{className:"cardview nickname",ref:"refNickname",id:"refnickname",placeholder:l("Nickname"),value:this.state.nickname,onChange:this.onInputChange.bind(this,"nickname"),onKeyDown:this.handleKeyDown,type:"text"})),i.createElement("div",{className:this.isFolder()?"fieldset center cardview":"fieldset center collapse"},i.createElement("input",{ref:"refSpeeddial",id:"refspeeddial",className:"cardview",disabled:this.isFolder()?!1:"disabled",checked:this.state.speeddial,onChange:this.checkChangeSpeeddial,type:"checkbox"}),i.createElement("label",{htmlFor:"refspeeddial"},l("Use as Speed Dial"))),!this.state.create&&this.state.dateAdded?i.createElement("div",{className:"fieldset"},i.createElement("span",{className:"dateCreated bookmark",title:l("Date created")},e)):null))))}});t.exports=h},{}],328:[function(e,t){"use strict";var n=e(130),i=e(106),r=e(380),o=e(333),a=e(500),s=e(506),l=e(307),c="0",u="1",h="2",d=n.createClass({displayName:"BookmarkItem",mixins:[r],componentWillMount:function(){},componentDidMount:function(){},componentWillUnmount:function(){},getInitialState:function(){return{dragging:!1,selected:!1,lead:!1,bookmark:this.props.bookmark}},handleEdit:function(){this.props.onEdit(this.props.bookmark)},isFolder:function(){return!this.props.bookmark.url&&this.props.bookmark.children},hasChildren:function(){return this.isFolder()&&this.props.bookmark.children&&this.props.bookmark.children.length},canBeSpeedDialFolder:function(){return this.isFolder()&&this.isEditable()},isEditable:function(){return-1===[c,u,h].indexOf(this.props.bookmark.id)},getBookmarkIcon:function(){var e="";return e=this.isFolder()?this.props.isBookmarkExpanded(this.props.bookmark.id)?"/resources/folder_open.png":"/resources/folder.png":"chrome://favicon/"+this.props.bookmark.url},handleDoubleClick:function(){this.isFolder()?this.handleExpandClick():this.openInCurrentTab(this.props.bookmark)},onContextMenuOpen:function(e){this.props.onSelect(e,this.props.bookmark)},keyDown:function(e){if(e.keyCode===o.KEY_ENTER||e.keyCode===o.KEY_RETURN){var t=this.props.getSelectedBookmark();this._open(t)}},handleDragStart:function(e){this.props.createBookmark&&this.props.onCancelCreate();var t=this.props.getAllSelectedBookmark(),n=[];for(var i in t)n.push(t[i].id);e.dataTransfer.setData("text/plain","Bookmark"),e.dataTransfer.setData("text/uri-list",this.props.bookmark.url),e.dataTransfer.effectAllowed="all",e.nativeEvent.dataTransfer.setData("ids",""+JSON.stringify(n)),e.nativeEvent.dataTransfer.setData("parentId",""+this.props.bookmark.parentId),e.nativeEvent.dataTransfer.setData("text",""+this.props.bookmark.url),this.setState({dragging:!0})},handleDragEnd:function(){this.setState({dragging:!1}),this.props.onDragEnd()},handleDragLeave:function(){},handleDragEnter:function(e){e.preventDefault()},handleDrop:function(e){e.preventDefault(),e.stopPropagation();var t=JSON.parse(e.nativeEvent.dataTransfer.getData("ids")),n=Number(e.nativeEvent.dataTransfer.getData("parentIndex"));t.length>0&&t.forEach(function(e){this.props.onMoveBookmark(e,n,this.props.bookmark)}.bind(this))},"delete":function(){this.props.onDelete(this.props.bookmark)},collapseAll:function(){this.props.collapseAll()},expandAll:function(){this.props.expandAll()},newFolder:function(){this.props.onNewItem(this.state.bookmark,!0)},handleDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.dataTransfer.dropEffect="move",this.props.onDragOver(this.props.bookmark,e)},toggleSpeeddial:function(){this.props.onToggleSpeeddial(this.props.bookmark)},spreedial:function(){return!0},handleClick:function(e){1===e.button&&this._openInNewTab(this.props.bookmark,!0),this.props.onSelect(e,this.props.bookmark),e.preventDefault(),e.stopPropagation()},_openInNewWindow:function(e,t){e.children&&e.children.length>0?e.children.forEach(function(e){e.url&&this.openInNewWindow(e,t)}.bind(this)):e.url&&this.openInNewWindow(e,t)},_openInNewTab:function(e,t){e.children&&e.children.length>0?e.children.forEach(function(e){e.url&&this.openInNewTab(e,t)}.bind(this)):e.url&&this.openInNewTab(e,t)},_open:function(e){e.children&&e.children.length>0?e.children.forEach(function(e){e.url&&this.openInNewTab(e,!1)}.bind(this)):e.url&&this.openInCurrentTab(e)},setAsBookmarkBarFolder:function(e){l.setBookmarkBarFolder(e.id)},handleExpandClick:function(){this.props.bookmark.children&&this.props.bookmark.children.length>0&&(this.props.toggle(this.props.bookmark.id),event.preventDefault(),event.stopPropagation())},render:function(){var e=this.props.selected,t=this.props.lead;this.props.addToNavList(this.props.bookmark.id,this.props.bookmark.parentId);var r=[{name:s("Open"),handler:this._open.bind(this,this.props.bookmark)},{name:s("Open in New Tab"),handler:this._openInNewTab.bind(this,this.props.bookmark,!1)},{name:s("Open in Background Tab"),handler:this._openInNewTab.bind(this,this.props.bookmark,!0)},{name:"---"},{name:s("Open in New Window"),handler:this._openInNewWindow.bind(this,this.props.bookmark,!1)},{name:"---"},{name:s("Use as Speed Dial"),visible:this.canBeSpeedDialFolder()&&!this.props.bookmark.speeddial,handler:this.toggleSpeeddial},{name:s("Remove from Speed Dial"),visible:this.canBeSpeedDialFolder()&&this.props.bookmark.speeddial,handler:this.toggleSpeeddial},{name:s("Delete"),handler:this.delete},{name:"---"},{name:s("New Folder"),handler:this.newFolder},{name:s("verb","Edit"),handler:this.handleEdit.bind(this,this.props.bookmark),visible:!this.props.showBookmarkManager},{name:s("Collapse all folders"),handler:this.collapseAll},{name:s("Expand all folders"),handler:this.expandAll},{name:s("Set as bookmark bar folder"),visible:this.isFolder(),handler:this.setAsBookmarkBarFolder.bind(this,this.props.bookmark)}],o={WebkitPaddingStart:this.props.bookmark.padding+"px"};return n.createElement("div",{refs:"tree-item","data-id":this.props.bookmark.id,className:"tree-item","data-selected":e?"":null,"data-lead":t?"":null,"data-expanded":this.props.isBookmarkExpanded(this.props.bookmark.id)?"":null,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onKeyDown:this.keyDown,onContextMenu:a(r,this.onContextMenuOpen),tabIndex:"1"},n.createElement("div",{className:i({folder:this.isFolder(),"tree-row":!0,dragging:this.state.dragging,dragover:this.props.dragoverBookmarkObj.id===this.props.bookmark.id&&"on"===this.props.dragoverBookmarkObj.position,dragoverAbove:this.props.dragoverBookmarkObj.id===this.props.bookmark.id&&"above"===this.props.dragoverBookmarkObj.position,dragoverBelow:this.props.dragoverBookmarkObj.id===this.props.bookmark.id&&"below"===this.props.dragoverBookmarkObj.position,"speeddial-folder":this.isFolder()&&this.props.bookmark.speeddial}),"data-selected":e?"":null,"data-nofocus":e&&!this.props.hasFocus?"":null,onDoubleClick:this.handleDoubleClick,onClick:this.handleClick,draggable:"true",onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},n.createElement("label",{"data-parent":this.props.bookmark.parentId,style:o},this.isFolder()&&n.createElement("span",{className:"expand-icon",onClick:this.handleExpandClick},this.hasChildren()?n.createElement("img",null):null),n.createElement("img",{src:this.getBookmarkIcon(),width:"16",height:"16",alt:""}),n.createElement("span",{className:"title"},this.props.bookmark.title),this.isFolder()&&!this.props.showBookmarkManager&&n.createElement("span",{className:"folder-item-count"},this.props.bookmark.children.length)),this.props.showBookmarkManager&&n.createElement("label",null,this.isFolder()&&this.props.showBookmarkManager?n.createElement("span",{className:"secondary"},s("$1 item","$1 items",[this.props.bookmark.children.length])):this.props.bookmark.url),this.props.showBookmarkManager&&n.createElement("label",null,this.props.bookmark.nickname),this.props.showBookmarkManager&&n.createElement("label",null,this.props.bookmark.description)))}});t.exports=d},{}],329:[function(e,t){"use strict";var n=e(130),i=e(105),r=e(328),o=e(335),a=e(339),s=e(331),l=e(380),c=e(509),u=e(482).urls,h=e(506),d=1400,p=0,f={getInitialState:function(){return{expandModel:new s,expandStateMixinCount:-1}},updateExpandMixinState:function(){this.setState({expandModel:this.state.expandModel,expandStateMixinCount:this.state.expandStateMixinCount++})},toggleExpandModel:function(e){this.state.expandModel.toggle(e),this.updateExpandMixinState()},isCollapsed:function(e){return this.state.expandModel.isExpanded(e)},ExpandMixinCollapseAll:function(){this.state.expandModel.collapseAll(),this.updateExpandMixinState()},ExpandMixinIsExpanded:function(e){return this.state.expandModel.isExpanded(e)},logExpandManager:function(){},ExpandMixinGetModelInfo:function(){return this.state.expandModel.expandInfo},ExpandMixinSetInfo:function(e){this.state.expandModel.expandInfo=e?e:[],this.updateExpandMixinState()}},m=n.createClass({displayName:"BookmarkTree",mixins:[l,o,a,f],getInitialState:function(){return this.orderIdToStartRenderingFrom=-1,this.arrayToRender=[],this.aboveSpaceHeight=0,this.belowSpaceHeight=0,this.scrollTop=0,this.viewPortHeight=0,this.rowHeight=24,this.numberOfItemsThatCanFitAndAreVisibleInViewport=0,this.numberOfItemsExpanded=0,this.scrollHeight=0,{bookmarkTreeNodeArray:[],dragoverBookmarkObj:{id:-1},hasFocus:!1,filter:"",anchorCreateItemObj:null}},componentDidMount:function(){window.addEventListener("resize",this.handleResize)},componentWillUpdate:function(){this.state.navigationModel.clear();var e=this.refs.bookmarkItems.getDOMNode();if(this.scrollTop=e.scrollTop,this.calcScrollHeight=this.numberOfItemsExpanded*this.rowHeight,this.orderIdToStartRenderingFrom=Math.floor(this.scrollTop/this.scrollHeight*this.numberOfItemsExpanded)||0,this.numberOfItemsThatCanFitAndAreVisibleInViewport=Math.floor(this.viewPortHeight/this.rowHeight)||this.rowHeight,this.arrayToRender=this.getRenderedItems(this.orderIdToStartRenderingFrom),this.arrayToRender.length>0){var t=this.arrayToRender[this.arrayToRender.length-1],n=this.arrayToRender[0];this.aboveSpaceHeight=(n.orderInView-1)*this.rowHeight,this.belowSpaceHeight=(this.numberOfItemsExpanded-t.orderInView)*this.rowHeight}},componentDidUpdate:function(){var e=this.refs.bookmarkItems.getDOMNode();e.scrollTop=this.scrollTop;var t=this.refs.aboveSpace.getDOMNode();t.style.height=this.aboveSpaceHeight+"px";var n=this.refs.belowSpace.getDOMNode();n.style.height=this.belowSpaceHeight+"px",this.scrollHeight=e.scrollHeight,this.viewPortHeight=e.clientHeight},handleResize:function(){this.forceUpdate()},componentWillUnmount:function(){this.disableHandlers(),window.removeEventListener("resize",this.handleResize)},componentWillMount:function(){this.enableHandlers();var e=this.props.showBookmarkManager?"EXPAND_BOOKMARKS_MANAGER":"EXPAND_BOOKMARKS_PANEL";c.get(e,function(e){this.state.expandModel.expandInfo=e,this.updateExpandMixinState({expandModel:this.state.expandModel})}.bind(this))},onCut:function(e){this.setClipboard(e),this.deleteBookmarks()},onCopy:function(e){this.setClipboard(e)},setClipboard:function(e){function t(e){for(var i in n)if(n[i].id==e.id){r.push(e);break}e.children&&e.children.forEach(function(e){t(e)})}var n=this.SelectionMixinGetAllSelected(),i=this.findBookmarkItem(this.SelectionMixinGetLead()),r=[];this.state.bookmarkTreeNodeArray.forEach(function(e){t(e)}),e.clipboardData.setData("text/plain",i.url?i.url:i.title),e.clipboardData.setData("application/json",JSON.stringify(r)),e.stopPropagation(),e.preventDefault()},onPaste:function(e){var t=[];try{t=JSON.parse(e.clipboardData.getData("application/json"))}catch(n){}var r=this.findBookmarkItem(this.SelectionMixinGetLead()),o=this.isFolder(r)?r.id:r.parentId;t.forEach(function(e){i.bookmarks.create({title:e.title,url:e.url?e.url:null,parentId:o,description:e.description?e.description:null,nickname:e.title?e.title:null})})},onLostFocus:function(){document.removeEventListener("cut",this.onCut),document.removeEventListener("copy",this.onCopy),document.removeEventListener("paste",this.onPaste),this.setState({hasFocus:!1,anchorCreateItemObj:null}),this.KeyboardNavigationMixinOnBlur()},onGotFocus:function(){document.addEventListener("cut",this.onCut),document.addEventListener("copy",this.onCopy),document.addEventListener("paste",this.onPaste),this.setState({hasFocus:!0}),this.KeyboardNavigationMixinOnFocus()},render:function(){var e={height:"0",display:"block",border:"0",margin:"0",overflow:"hidden",visibilty:"hidden"},t={height:"0",display:"block",border:"0",margin:"0",overflow:"hidden",visibilty:"hidden"},i=n.createElement("div",{ref:"bookmarkItems",tabIndex:"0",className:"vivaldi-tree",onBlur:this.onLostFocus,onFocus:this.onGotFocus,onScroll:this.onScrollEvent},n.createElement("div",{ref:"aboveSpace",id:"aboveSpace",style:e}),this.arrayToRender.map(function(e){return this.renderBookmarkTree(e)}.bind(this)),n.createElement("div",{ref:"belowSpace",id:"belowSpace",style:t}));return i},componentWillReceiveProps:function(e){this.KeyboardNavigationMixinReset(),this.state.filter!==e.filter&&this.setState({filter:e.filter},function(){this.getBookmarks()}.bind(this))},leadChanged:function(e,t){var n=this.findBookmarkItem(e);this.scrollIntoToView(n.orderInView,t)},selectById:function(e,t,n){if(-1===e)return void this.SelectionMixinSelectItem(e);if(e){if("-9999"!==e&&this.state.anchorCreateItemObj&&this.cancelCreate(),void 0===n){var r=this.findBookmarkItem(e);n=r.orderInView}this.scrollIntoToView(n,t),t?this.SelectionMixinSelectItem(e,t.ctrlKey,t.shiftKey,t.metaKey,"contextmenu"===t.type):this.SelectionMixinSelectItem(e),i.bookmarks.get(e,function(e){var t=e&&1===e.length?e[0]:null;t&&this.props.onSelect&&this.props.onSelect(t)}.bind(this))}else this.unSelectAll(),this.props.onSelect()},select:function(e,t){return"-9999"===e.id?void this.cancelCreate():void this.selectById(e.id,t,e.orderInView)},enableHandlers:function(){i.bookmarks.onImportBegan.addListener(this.disableMutationHandlers),i.bookmarks.onImportEnded.addListener(this.enableMutationHandlers),this.enableMutationHandlers()},disableHandlers:function(){i.bookmarks.onImportBegan.removeListener(this.disableMutationHandlers),i.bookmarks.onImportEnded.removeListener(this.enableMutationHandlers),this.disableMutationHandlers()},enableMutationHandlers:function(){this.getBookmarks(),i.bookmarks.onChanged.addListener(this.getBookmarks),i.bookmarks.onCreated.addListener(this.getBookmarks),i.bookmarks.onRemoved.addListener(this.getBookmarks),i.bookmarks.onMoved.addListener(this.getBookmarks),i.bookmarks.onChildrenReordered.addListener(this.getBookmarks)},disableMutationHandlers:function(){i.bookmarks.onChanged.removeListener(this.getBookmarks),i.bookmarks.onCreated.removeListener(this.getBookmarks),i.bookmarks.onRemoved.removeListener(this.getBookmarks),i.bookmarks.onMoved.removeListener(this.getBookmarks),i.bookmarks.onChildrenReordered.removeListener(this.getBookmarks)},renderBookmarkTree:function(e){var t=this.SelectionMixinIsSelected(e.id),i=this.SelectionMixinGetLead()===e.id;return n.createElement(r,{key:e.id,bookmark:e,showBookmarkManager:this.props.showBookmarkManager,ref:"bookmarkItem",toggle:this.toggleExpandMan,addToNavList:this.KeyboardNavigationMixinAddItemToNavigationList,isBookmarkSelected:this.isBookmarkSelected,isBookmarkLead:this.isBookmarkLead,isBookmarkExpanded:this.isBookmarkExpanded,isBookmarkCollapsed:this.isBookmarkCollapsed,onSelect:this.select.bind(this,e),selected:t,hasFocus:this.state.hasFocus,lead:i,onDragOver:this.onDragOverBookmark,onDragEnd:this.onDragEndBookmark,onMoveBookmark:this.onMoveBookmark,onDelete:this.deleteBookmarks,onToggleSpeeddial:this.props.onToggleSpeeddial,dragover:this.state.dragoverBookmarkObj.id===e.id,dragoverBookmarkObj:this.state.dragoverBookmarkObj,onEdit:this.edit.bind(this,e),createBookmarkItem:this.createBookmarkItem,onNewItem:this.onNewItem,createBookmark:this.state.anchorCreateItemObj,onCancelCreate:this.cancelCreate,getSelectedBookmark:this.getSelectedBookmark,getAllSelectedBookmark:this.SelectionMixinGetAllSelected,collapseAll:this.collpaseAllFolders,expandAll:this.expandAllFolders})},onNewItem:function(e){var t=this.SelectionMixinGetSelected();void 0===t||-1==t||"-9999"===t?this.setState({anchorCreateItemObj:{parentId:"1",anchorIsFolder:!1,id:"-9999",creatingFolder:e,url:e?"newurl":"",index:0,anchorId:-1}}):i.bookmarks.get(t,function(t){t.length>0&&(t[0].creatingFolder=e,t[0].anchorId=t[0].url?t[0].id:t[0].parentId,t[0].anchorIsFolder=!t[0].url,t[0].url=e?"newurl.com":"",this.setState({anchorCreateItemObj:t[0]}))}.bind(this)),this.selectById("-9999")},createBookmarkItem:function(e,t){if(this.state.anchorCreateItemObj){var n=0,r="";this.state.anchorCreateItemObj.anchorIsFolder?t?(r=this.state.anchorCreateItemObj.id,n=0):(r=this.state.anchorCreateItemObj.id,n=0):t?(r=this.state.anchorCreateItemObj.parentId,n=this.state.anchorCreateItemObj&&"-9999"!==this.state.anchorCreateItemObj.id?this.state.anchorCreateItemObj.index+1:0):(r="-9999"!==this.state.anchorCreateItemObj.id?this.state.anchorCreateItemObj.parentId:"1",n=this.state.anchorCreateItemObj&&"-9999"!==this.state.anchorCreateItemObj.id?this.state.anchorCreateItemObj.index+1:0);
var o=e;o.length>0&&-1===o.indexOf("://")&&(o="http://"+o),this.setState({anchorCreateItemObj:null}),i.bookmarks.create({parentId:r,title:e,index:n,url:t?"":u.getDisplayUrl(o)},function(e){this.ExpandMixinIsExpanded(r)||this.toggleExpandMan(r),this.selectById(e.id)}.bind(this))}},deleteBookmarks:function(){this.onDelete(),this.state.anchorCreateItemObj&&this.setState({anchorCreateItemObj:null})},edit:function(){this.props.onEdit()},cancelCreate:function(){var e=-2;this.state.anchorCreateItemObj&&(e=this.state.anchorCreateItemObj.anchorId?this.state.anchorCreateItemObj.anchorId:"-1"),this.setState({anchorCreateItemObj:null},function(){-2!==e&&this.selectById(e)}.bind(this))},toggleExpandMan:function(e){this.toggleExpandModel(e);var t={};this.props.showBookmarkManager?t.EXPAND_BOOKMARKS_MANAGER=this.state.expandModel.expandInfo:t.EXPAND_BOOKMARKS_PANEL=this.state.expandModel.expandInfo,c.set(t)},collpaseAllFolders:function(){this.ExpandMixinCollapseAll();var e={};this.props.showBookmarkManager?e.EXPAND_BOOKMARKS_MANAGER=this.state.expandModel.expandInfo:e.EXPAND_BOOKMARKS_PANEL=this.state.expandModel.expandInfo,c.set(e)},expandAllFolders:function(){function e(n){!n.url&&n.children&&(t[n.id]=!0),n.children&&n.children.forEach(function(t){e(t)})}var t={};this.state.bookmarkTreeNodeArray.forEach(function(t){e(t)}.bind(this)),this.ExpandMixinSetInfo(t);var n={};this.props.showBookmarkManager?n.EXPAND_BOOKMARKS_MANAGER=this.state.expandModel.expandInfo:n.EXPAND_BOOKMARKS_PANEL=this.state.expandModel.expandInfo,c.set(n)},isBookmarkExpanded:function(e){return this.ExpandMixinIsExpanded(e)},isBookmarkLead:function(e){return e===this.SelectionMixinGetLead()},isBookmarkCollapsed:function(e){return this.state.expandModel.isCollapsed(e)},isBookmarkSelected:function(e){return this.SelectionMixinIsSelected(e)},onDragOverBookmark:function(e,t){var n=t.currentTarget,i=n.getBoundingClientRect(),r=(t.clientY-i.top)/this.rowHeight,o="",a=this.isFolder(e.id)&&this.state.expandModel.isExpanded(e.id);a||this.updateExpandFolderOnHover(t.timeStamp,e),o=.25>=r?"above":r>.75?"below":"on",(this.state.dragoverBookmarkObj.id!==e.id||this.state.dragoverBookmarkObj.id===e.id&&this.state.dragoverBookmarkObj.position!==o)&&this.setState({dragoverBookmarkObj:{id:e.id,position:o}})},updateExpandFolderOnHover:function(e,t){var n=p;p=0,n?e-n>=d?this.toggleExpandModel(t.id):p=n:p=e},onMoveBookmark:function(e,t,n){var r={},o=this.isFolder(n),a=this.state.dragoverBookmarkObj.position;r.parentId=!o||"on"!==a&&"below"!==a?n.parentId:n.id;var s=parseInt(n.index),l="below"===a?o?s:++s:s;r.index="on"===a?0:l,this.setState({dragoverBookmarkObj:{id:-1}}),i.bookmarks.move(e.toString(),r,function(){})},isFolder:function(e){return e?e.children&&e.children.length>0||void 0===e.url:!1},onDragEndBookmark:function(){},scrollIntoToView:function(e,t){function n(){return r.updateScrollTop(r.scrollTop-r.rowHeight),!0}function i(){return r.updateScrollTop(r.scrollTop+r.rowHeight),!0}var r=this;if(void 0!==this.refs.bookmarkItems){var o=this.refs.bookmarkItems.getDOMNode(),a=this.rowHeight,s=o.scrollTop,l=o.clientHeight,c=this.getItemTopPosition(e);if(l>a){if(s>c)return n();if(c+a>s+l)return i()}else{if(c>s)return n();if(s+l>c+a)return i()}t&&(t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0)}},updateScrollTop:function(e){var t=this.refs.bookmarkItems.getDOMNode();t.scrollTop=e},getItemTopPosition:function(e){return e*this.rowHeight-this.rowHeight},onScrollEvent:function(){this.forceUpdate()},getBookmarks:function(){this.state.filter?i.bookmarks.search(this.state.filter,function(e){this.setState({bookmarkTreeNodeArray:e})}.bind(this)):(this.orderId=0,i.bookmarks.getTree(function(e){function t(e,n){e.orderId=n.orderId++,e.children&&e.children.forEach(function(i){i.padding=e.padding+16,t(i,n)})}e[0].children[0].children.forEach(function(e){e.padding=0,t(e,this)}.bind(this)),this.numberOfItemsExpanded=this.orderId-1,this.setState({bookmarkTreeNodeArray:e[0].children[0].children}),this.selectById(this.SelectionMixinGetSelected())}.bind(this)))},getSelectedBookmark:function(){var e=this.findBookmarkItem(this.SelectionMixinGetLead());return e},isfolderAndHasItems:function(){var e=this.getSelectedBookmark();return e.children&&e.children.length>0},getSelected:function(){return this.SelectionMixinGetSelected()},getRenderedItems:function(e){function t(e,n,i){if(e.orderInView>=n&&e.orderInView<=i+1&&(o.push(e),a.state.anchorCreateItemObj&&a.state.anchorCreateItemObj.id===e.id)){r=!0;var s=a.state.anchorCreateItemObj.anchorIsFolder?e.padding+16:e.padding;o.push(a.getDummyCreateItem(a.state.anchorCreateItemObj,s))}e.children&&e.children.forEach(function(e){return t(e,n,i)})}function n(t){"0"!=t.id&&a.KeyboardNavigationMixinAddToNavigationList(t.id),t.orderId>e&&s<a.numberOfItemsThatCanFitAndAreVisibleInViewport||a.isBookmarkExpanded(t.parentId)&&t.orderId>e&&s<a.numberOfItemsThatCanFitAndAreVisibleInViewport?(t.orderInView=c,c++,s++,l++):"0"!=t.id&&(t.orderInView=c,c++,l++),t.children&&("0"===t.id||a.ExpandMixinIsExpanded(t.id))&&t.children.forEach(function(e){return n(e)})}var i=this.state.bookmarkTreeNodeArray,r=!1,o=[],a=this,s=0;if(this.state.filter)return i;var l=0;this.KeyboardNavigationMixinReset();var c=1;i.forEach(function(e){this.clearOrderInView(e)}.bind(this)),i.forEach(function(e){n(e)}.bind(this));var u=Math.min(this.numberOfItemsThatCanFitAndAreVisibleInViewport,s);if(i.forEach(function(n){t(n,e+1,e+u)}.bind(this)),this.numberOfItemsExpanded=l,!r&&a.state.anchorCreateItemObj){var h=a.getDummyCreateItem(a.state.anchorCreateItemObj,0);o.push(h)}return o},clearOrderInView:function(e){delete e.orderInView,e.children&&e.children.forEach(function(e){return this.clearOrderInView(e)}.bind(this))},getDummyCreateItem:function(e,t){return{id:"-9999",title:h(e.creatingFolder?"New Folder":"New Bookmark"),padding:t,index:-8,url:e.creatingFolder?null:h("URL")}},findBookmarkItem:function(e){function t(i,r){i.id===e&&(n=i),i.children&&i.children.forEach(function(e){t(e,r)})}var n={};return this.state.bookmarkTreeNodeArray.forEach(function(e){t(e,this)}.bind(this)),n}});t.exports=m},{}],330:[function(e,t){"use strict";var n=e(302),i=e(335),r=e(339),o=e(382),a=e(303),s=e(106),l=n.createClass({displayName:"VivaldiDropdown",mixins:[i,o,r],propTypes:{store:n.PropTypes.array,displayField:n.PropTypes.string,shortcut:n.PropTypes.string,itemField:n.PropTypes.string,onItemClicked:n.PropTypes.func},getInitialState:function(){return{isExpanded:this.props.isExpanded===!0||!1,isFocused:!1}},onItemClicked:function(e,t){t.stopPropagation(),this.props.onItemClicked(e),this.setState({isExpanded:!1})},componentDidMount:function(){this.getDOMNode().addEventListener("focusout",this.onFocusout)},componentWillUnmount:function(){null!=this.getDOMNode()&&this.getDOMNode().removeEventListener("focusout",this.onFocusout)},componentLostFocus:function(){this.collapse()},_isFocused:!1,collapse:function(){this._isFocused=!1,this.setState({isExpanded:!1})},expand:function(){this._isFocused=!1,this.setState({isExpanded:!this.state.isExpanded})},renderImage:function(e){return e||(e="/resources/page-web@2x.png"),n.createElement("img",{src:e,className:"favicons",height:"16",width:"16"})},selectById:function(e){var t=this.refs["a"+e];t&&t.getDOMNode().focus()},onKeyPressed:function(e){if(this.state.isExpanded){if(40===e.keyCode&&this._isFocused===!1){var t;t=this.getDOMNode().querySelector(this.props.hideTrigger?"div a":"li a"),t&&(t.focus(),this._isFocused=!0),e.preventDefault()}27===e.keyCode&&this.state.isExpanded&&(this._isFocused=!1,this.setState({isExpanded:!1}),e.preventDefault())}},renderDropdown:function(){var e=this;return this.KeyboardNavigationMixinReset(),this.props.store.map(function(t){e.KeyboardNavigationMixinAddToNavigationList(t[e.props.itemField]);var i=t[e.props.itemField]==e.props.value;return n.createElement("li",{key:t[e.props.itemField]},n.createElement("a",{ref:"a"+t[e.props.itemField],tabIndex:"0",onFocus:"",onFocusout:"",onClick:e.onItemClicked.bind(e,t[e.props.itemField]),className:i?"is-selected":""},e.props.imageField&&e.renderImage(t[e.props.imageField]),n.createElement("label",null,t[e.props.displayField]),e.props.keyField&&n.createElement("kbd",null,t[e.props.keyField])))})},renderTrigger:function(){return n.createElement("button",{className:"button-tabbar mousetrap input-search",onClick:this.expand,onKeyDown:this.onKeyPressed},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-191 193 16 16">\n  <path d="M-182.6 201.9c.4-.7.7-1.5.7-2.3 0-2.5-2-4.5-4.5-4.5s-4.5 2-4.5 4.5 2 4.5 4.5 4.5c.9 0 1.7-.2 2.3-.7l2.3 2.3c.2.2 1.5 1.3 1.7 1.3.3 0 .4-.2.6-.4.4-.4.7-.9.3-1.3l-3.4-3.4zm-6.4-2.4c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM-177.5 202l2.5-4h-5"/>\n</svg>'}}))},renderDefaultValue:function(){var e,t=this;a.isArray(this.props.store)&&this.props.store.length>0&&(e=a.find(this.props.store,function(e){return e[t.props.itemField]==t.props.value?e:void 0}));var i=n.createElement("a",{tabIndex:"0",onFocus:"",onFocusout:"",onClick:this.expand},"Select");return e&&(i=n.createElement("a",{tabIndex:"0",onFocus:"",onFocusout:"",onClick:this.expand},this.props.imageField&&this.renderImage(e[this.props.imageField]),e[this.props.displayField])),n.createElement("div",{className:"iconmenu-header"},i)},render:function(){var e={"menu-common":!0};return e["is-expanded"]=this.state.isExpanded===!0,e["is-collapsed"]=this.state.isExpanded===!1,n.createElement("span",null,this.props.hideTrigger&&this.renderDefaultValue(),!this.props.hideTrigger&&this.renderTrigger(),n.createElement("ul",{className:s(e),onFocus:this.KeyboardNavigationMixinOnFocus,onBlur:this.KeyboardNavigationMixinOnBlur,onKeyDown:this.onKeyPressed},this.state.isExpanded===!0&&this.renderDropdown()))}});t.exports=l},{}],331:[function(e,t){"use strict";function n(){this.expandInfo={}}n.prototype={expand:function(e){this.expandInfo[e]=!0},collapse:function(e){this.expandInfo[e]=!1},toggle:function(e){this.expandInfo[e]=!this.expandInfo[e]},isExpanded:function(e){return!!this.expandInfo[e]},collapseAll:function(){this.expandInfo={}},isCollapsed:function(e){return!this.isExpanded(e)},log:function(){console.log("ExpandManager",this.expandInfo)}},t.exports=n},{}],332:[function(e,t){"use strict";var n=e(302),i={tokenize:function(e){var t=/[A-Za-z\u00C0-\u017F]+/g,n=e.match(t);return n||[]},filterItems:function(e){var t=this.state.remainingItems||this.state.allItems,n=[];if(e.length>0)for(var i=0;i<t.length;i++)for(var r=t[i],o=this.tokenize(r.toString()),a=0;a<o.length;a++){var s=o[a],l=s.toString().toLowerCase();0===l.indexOf(e.toLowerCase())&&-1===n.indexOf(r)&&n.push(r)}return this.setState({filteredList:n}),n.map(function(e,t){this.KeyboardNavigationMixinAddToNavigationList(t)}.bind(this)),n},inputChanged:function(e){var t=e.target.value,n=this.filterItems(t),i=!0;(0===t.length||0===n.length)&&(i=!1),this.setState({inputValue:t,dropDownVisible:i})},selectById:function(e){this.SelectionMixinSelectItem(e)},onOptionClick:function(e){this.selectOption(e)},renderInputField:function(){return n.createElement("input",{type:"text",className:"mousetrap",ref:"inputField",value:this.state.inputValue,onChange:this.inputChanged,onBlur:this.inputLostFocus,onKeyDown:this.inputKeyDown,autoComplete:"false",spellCheck:"false"})},renderOption:function(e,t){var i=this.state.selectionModel.isSelected(t),r=this.state.selectionModel.isSelectionLead(t);return n.createElement("div",{className:"drop_down",key:"option_"+t,ref:"option_"+t,role:"option","data-id":t,"data-selected":i?"":null,"data-lead":r?"":null,onClick:this.onOptionClick.bind(this,e)},n.createElement("span",null,e.toString()))},hideDropDown:function(){this.setState({dropDownVisible:!1})},renderDropDown:function(){return n.createElement("div",{ref:"multiSelect",role:"listbox"},this.state.filteredList.map(this.renderOption))}};t.exports=i},{}],333:[function(e,t){"use strict";var n={KEY_CANCEL:3,KEY_HELP:6,KEY_BACK_SPACE:8,KEY_TAB:9,KEY_CLEAR:12,KEY_RETURN:13,KEY_ENTER:14,KEY_SHIFT:16,KEY_CONTROL:17,KEY_ALT:18,KEY_PAUSE:19,KEY_CAPS_LOCK:20,KEY_ESCAPE:27,KEY_SPACE:32,KEY_PAGE_UP:33,KEY_PAGE_DOWN:34,KEY_END:35,KEY_HOME:36,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_PRINTSCREEN:44,KEY_INSERT:45,KEY_DELETE:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_SEMICOLON:59,KEY_EQUALS:61,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,KEY_CONTEXT_MENU:93,KEY_NUMPAD0:96,KEY_NUMPAD1:97,KEY_NUMPAD2:98,KEY_NUMPAD3:99,KEY_NUMPAD4:100,KEY_NUMPAD5:101,KEY_NUMPAD6:102,KEY_NUMPAD7:103,KEY_NUMPAD8:104,KEY_NUMPAD9:105,KEY_MULTIPLY:106,KEY_ADD:107,KEY_SEPARATOR:108,KEY_SUBTRACT:109,KEY_DECIMAL:110,KEY_DIVIDE:111,KEY_F1:112,KEY_F2:113,KEY_F3:114,KEY_F4:115,KEY_F5:116,KEY_F6:117,KEY_F7:118,KEY_F8:119,KEY_F9:120,KEY_F10:121,KEY_F11:122,KEY_F12:123,KEY_F13:124,KEY_F14:125,KEY_F15:126,KEY_F16:127,KEY_F17:128,KEY_F18:129,KEY_F19:130,KEY_F20:131,KEY_F21:132,KEY_F22:133,KEY_F23:134,KEY_F24:135,KEY_NUM_LOCK:144,KEY_SCROLL_LOCK:145,KEY_COMMA:188,KEY_PERIOD:190,KEY_SLASH:191,KEY_BACK_QUOTE:192,KEY_OPEN_BRACKET:219,KEY_BACK_SLASH:220,KEY_CLOSE_BRACKET:221,KEY_QUOTE:222,KEY_META:224};t.exports=n},{}],334:[function(e,t){"use strict";function n(){this._length=0,this._head=null,this._tail=null}n.prototype=Object.defineProperties({add:function(e){var t={data:e,next:null,prev:null};0===this._length?(this._head=t,this._tail=t):(this._tail.next=t,t.prev=this._tail,this._tail=t),this._length++}},{length:{get:function(){return this._length},configurable:!0,enumerable:!0}}),t.exports=n},{}],335:[function(e,t){"use strict";var n=e(337),i=!0,r={getInitialState:function(){return{navigationModel:new n}},setMultiSelectInMixin:function(e){i=e},KeyboardNavigationMixinReset:function(){this.state.navigationModel.clear()},KeyboardNavigationMixinAddToNavigationList:function(e){-1===this.state.selectionModel.leadIndex&&(this.state.selectionModel.leadIndex=e,this.state.selectionModel.selectedIds_.push(new Object({id:e,selected:!0})),this.state.selectionModel.anchorIndex=e),this.state.navigationModel.add(e)},left:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.state.expandModel.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t&&this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},right:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.state.expandModel.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t||this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},log:function(){for(var e="",t=this.state.navigationModel.list._head;t;)e=e+t.data+" - ",t=t.next},up:function(e){var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._tail;if(n)for(;n.prev;){if(t===n.data)return this.selectById(n.prev.data,e),this.state.selectionModel.leadIndex=n.prev.data,this.setState({selectionModel:this.state.selectionModel}),e&&(e.preventDefault(),e.stopPropagation()),!1;n=n.prev}},down:function(e){var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._head;if(n)for(;n.next;){if(t===n.data)return this.selectById(n.next.data,e),this.state.selectionModel.leadIndex=n.next.data,this.setState({selectionModel:this.state.selectionModel}),e&&(e.preventDefault(),e.stopPropagation()),!1;n=n.next}},home:function(){var e=this.state.navigationModel.list._head;this.selectById(e.data)},space:function(){var e=this.state.selectionModel.leadIndex,t=this.state.selectionModel.isSelected(e);this.state.selectionModel.setIndexSelected(e,!t),this.setState({selectionModel:this.state.selectionModel})},end:function(){var e=this.state.navigationModel.list._tail;this.selectById(e.data)},ctrlup:function(e){for(var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._tail;n.prev;){if(t===n.data)return this.leadChanged(n.prev.data,e),this.state.selectionModel.leadIndex=n.prev.data,void this.setState({selectionModel:this.state.selectionModel});n=n.prev}},ctrldown:function(e){for(var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._head;n.next;){if(t===n.data)return this.state.selectionModel.leadIndex=n.next.data,this.leadChanged(n.next.data,e),void this.setState({selectionModel:this.state.selectionModel});n=n.next}},shiftup:function(){var e=this.state.selectionModel.leadIndex;this.state.selectionModel.unSelectAll(),-1===this.state.selectionModel.anchorIndex&&(this.state.selectionModel.anchorIndex=e);for(var t,n=this.state.navigationModel.list._tail;n;){if(e===n.data){if(!n.prev)return;this.state.selectionModel.leadIndex=n.prev.data,t=n.prev.data;var i,r=this.isAnchorFirst(this.state.selectionModel.leadIndex);for(i=r.anchorFirst?this.state.selectionModel.leadIndex:this.state.selectionModel.anchorIndex;r.node;){if(i===r.node.data)return this.state.selectionModel.setIndexSelected(r.node.data,!0),this.state.selectionModel.leadIndex=t,void this.setState({selectionModel:this.state.selectionModel});this.state.selectionModel.setIndexSelected(r.node.data,!0),r.node=r.node.next}}n=n.prev}},shiftdown:function(){var e=this.state.selectionModel.leadIndex;this.state.selectionModel.unSelectAll(),-1===this.state.selectionModel.anchorIndex&&(this.state.selectionModel.anchorIndex=e,this.state.selectionModel.setIndexSelected(e,!0));for(var t,n=this.state.navigationModel.list._head;n;){if(e===n.data){if(!n.next)return;this.state.selectionModel.leadIndex=n.next.data,t=n.next.data;var i,r=this.isAnchorFirst(this.state.selectionModel.leadIndex);for(i=r.anchorFirst?this.state.selectionModel.leadIndex:this.state.selectionModel.anchorIndex;r.node;){if(i===r.node.data)return this.state.selectionModel.setIndexSelected(r.node.data,!0),this.state.selectionModel.leadIndex=t,void this.setState({selectionModel:this.state.selectionModel});this.state.selectionModel.setIndexSelected(r.node.data,!0),r.node=r.node.next}}n=n.next}},KeyboardNavigationMixinOnFocus:function(){var t=e(499);t.bind("up",this.up),t.bind("down",this.down),t.bind("left",this.left),t.bind("right",this.right),t.bind("ctrl+right",this.right),t.bind("del",this.onDelete),t.bind("home",this.home),t.bind("end",this.end),t.bind("ctrl+a",function(){return this.selectAll(),!1}.bind(this)),t.bind("esc",this.unSelectAll),t.bind("ctrl+space",this.space),t.bind("ctrl+up",this.up),t.bind("ctrl+down",this.down),t.bind("ctrl+left",this.left),i&&(t.bind("shift+up",this.shiftup),t.bind("shift+down",this.shiftdown)),t.bind("ctrl+up",this.ctrlup),t.bind("ctrl+down",this.ctrldown)},KeyboardNavigationMixinOnBlur:function(){var t=e(499);t.unbind("up"),t.unbind("down"),t.unbind("left"),t.unbind("right"),t.unbind("ctrl+right"),t.unbind("del"),t.unbind("home"),t.unbind("end"),t.unbind("ctrl+a"),t.unbind("esc"),t.unbind("ctrl+space"),t.unbind("ctrl+up"),t.unbind("ctrl+down"),t.unbind("ctrl+left"),i&&(t.unbind("shift+up"),t.unbind("shift+down")),t.unbind("ctrl+up"),t.unbind("ctrl+down")},KeyboardNavigationMixinAddItemToNavigationList:function(e,t){for(var n=!1,i=this.state.navigationModel._linkedList._head;i;){if(e===i.data){n=!0;break}i=i.next}n||-1===t||this.KeyboardNavigationMixinAddToNavigationList(e)}};t.exports=r},{}],336:[function(e,t){"use strict";var n=e(302),i=e(339),r=e(335),o=e(332),a=e(333),s=n.createClass({displayName:"MultiInput",mixins:[r,i,o],getInitialState:function(){var e=this.props.selectedItems||[],t=this.getRemainingItems(e);return{selectedItems:e,remainingItems:t,filteredList:[],inputValue:"",dropDownVisible:!1}},componentWillReceiveProps:function(e){var t=this.getRemainingItems(e.selectedItems,e);this.setState({selectedItems:e.selectedItems,remainingItems:t})},getRemainingItems:function(e,t){var n=[],i=t?t.allItems:this.props.allItems;i=i||[];var r=e;if(0===r.length)n=i;else for(var o=0;o<i.length;o++){var a=i[o];-1===r.indexOf(a)&&n.push(a)}return n},removeOption:function(e){for(var t=this.state.selectedItems,n=[],i=t.indexOf(e),r=0;r<t.length;r++){var o=t[r];r!==i&&n.push(o)}var a=this.getRemainingItems(n);this.setState({selectedItems:n,filteredList:a,remainingItems:a}),this.props.itemSelectionCallback(n)},inputConfirmed:function(e){if(e.target.value&&e.target.value.trim().length>0){for(var t=e.target.value.split(","),n=this.state.selectedItems,i=0;i<t.length;i++){var r=t[i];r.trim().length>0&&n.push(r)}var o=this.getRemainingItems(n);this.setState({selectedItems:n,filteredList:o,remainingItems:o,inputValue:"",dropDownVisible:!1}),this.props.itemSelectionCallback(n)}},selectOption:function(e){var t=this.state.selectedItems;this.resetSelectionModel(),t.push(e);var n=this.getRemainingItems(t);this.setState({selectedItems:t,filteredList:n,remainingItems:n,inputValue:"",dropDownVisible:!1}),this.props.itemSelectionCallback(t)},inputKeyDown:function(e){var t=e.target.value&&e.target.value.trim().length>0;if(e.keyCode===a.KEY_UP||e.keyCode===a.KEY_DOWN)e.preventDefault();else if(e.keyCode===a.KEY_TAB||e.keyCode===a.KEY_RETURN||e.keyCode===a.KEY_COMMA){if(t){var n=this.SelectionMixinGetLead(),i=this.state.filteredList[n];void 0!==i?this.selectOption(i):this.inputConfirmed(e),e.preventDefault()}}else if(e.keyCode!==a.KEY_BACK_SPACE||t)e.keyCode===a.KEY_ESCAPE&&this.setState({inputValue:"",dropDownVisible:!1});else{var r=this.state.selectedItems;if(r.length>0){var o=r.length-1,s=r[o];this.removeOption(s),this.setState({inputValue:s})}}},inputLostFocus:function(e){this.inputConfirmed(e),this.KeyboardNavigationMixinOnBlur()},renderSelectedItem:function(e,t){return n.createElement("div",{key:"selected_item_"+t,className:"address"},n.createElement("span",null,e.toString()),n.createElement("span",{className:"mailClose",onClick:this.removeOption.bind(this,e)},"x"))},toggleDropDown:function(){var e=!this.state.dropDownVisible;this.setState({dropDownVisible:e})},renderDropDownButton:function(){return n.createElement("input",{ref:"dropDownButton",type:"button",onClick:this.toggleDropDown,value:"Drop Down"})},render:function(){return n.createElement("div",{ref:"multiInputEnvelope",className:"multi-select",onFocus:this.KeyboardNavigationMixinOnFocus,onBlur:this.hideDropDown},this.state.selectedItems.map(this.renderSelectedItem),this.renderInputField(),this.state.dropDownVisible?this.renderDropDown():"",this.props.includeDropDownButton?this.renderDropDownButton():"")}});t.exports=s},{}],337:[function(e,t){"use strict";function n(){this._linkedList=new i}var i=e(334);n.prototype=Object.defineProperties({add:function(e){this._linkedList.add(e)},clear:function(){this._linkedList=new i}},{list:{get:function(){return this._linkedList},configurable:!0,enumerable:!0},length:{get:function(){return this._linkedList.length},configurable:!0,enumerable:!0},print:{get:function(){return 1==this.selectedIds_.length},configurable:!0,enumerable:!0}}),t.exports=n},{}],338:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(130),r=i.createClass({displayName:"RadioGroup",getInitialState:function(){return{defaultValue:this.props.defaultValue}},componentDidMount:function(){this.setRadioNames(),this.setCheckedRadio()},componentDidUpdate:function(){this.setRadioNames(),this.setCheckedRadio()},setRadioNames:function(){for(var e=this.getRadios(),t=0,n=e.length;n>t;t++)e[t].setAttribute("name",this.props.name)},getRadios:function(){return this.getDOMNode().querySelectorAll('input[type="radio"]')},setCheckedRadio:function(){for(var e=this.getRadios(),t=null!==this.props.value?this.props.value:this.state.defaultValue,n=0,i=e.length;i>n;n++){var r=e[n];r.value===t&&(r.checked=!0)}},getCheckedValue:function(){for(var e=this.getRadios(),t=0,n=e.length;n>t;t++)if(e[t].checked)return e[t].value;return null},render:function(){return i.createElement("div",n({},this.props,{onChange:this.props.onChange}),this.props.children)}});t.exports=r},{}],339:[function(e,t){"use strict";var n=e(340),i={getInitialState:function(){return{selectionModel:new n}},resetSelectionModel:function(){this.state.selectionModel.resetSelectionModel(),this.updateState()},updateState:function(){this.setState({stateCount:this.state.stateCount++})},unSelectAll:function(){this.state.selectionModel.unSelectAll(),this.updateState()},selectNextItemAfterDelete:function(e,t){var n=1,i=this.state.navigationModel.list._head,r=this.state.navigationModel.list._tail;if(i.data===r.data)return null;if(e==r.data)return n=r.prev.data;for(;i;){if(e==i.data)return n=t&&i.prev?i.prev.data:i.next.data;i=i.next}},selectAll:function(){for(var e=[],t=this.state.navigationModel.list._head;t;)e.push(t.data),t=t.next;this.state.selectionModel.selectAll(e),this.updateState()},SelectionMixinGetLead:function(){return this.state.selectionModel.leadIndex},SelectionMixinGetSelected:function(){return this.state.selectionModel.FirstSingleItemSelected},SelectionMixinGetAllSelected:function(){return this.state.selectionModel.selectedIds},SelectionMixinSetSelection:function(e){this.state.selectionModel.resetSelectionModel(),this.state.selectionModel.setIndexSelected(e,!0),this.state.selectionModel.leadIndex=e,this.updateState()},SelectionMixinIsSelected:function(e){return this.state.selectionModel.isSelected(e)},SelectionMixinIsLead:function(e){return this.state.selectionModel.isSelectionLead(e)},SelectionMixinSelectItem:function(e,t,n,i,r){this.state.selectionModel.leadIndex=e;var o=this.state.selectionModel.isSelected(e);if(!t||"MacIntel"!==navigator.platform){if(i&&"MacIntel"===navigator.platform&&(this.state.selectionModel.anchorIndex=e,this.state.selectionModel.setIndexSelected(e,o)),t||n||i)o=r?r:!o;else{if(r&&this.state.selectionModel.length>1)return;this.state.selectionModel.unSelectAll(),o=!0}if(n){var a,s=this.isAnchorFirst(e);for(a=s.anchorFirst?e:this.state.selectionModel.anchorIndex;s.node;){if(a==s.node.data)return this.state.selectionModel.setIndexSelected(s.node.data,!0),void this.updateState();this.state.selectionModel.setIndexSelected(s.node.data,!0),s.node=s.node.next}}else this.state.selectionModel.anchorIndex=e,this.state.selectionModel.setIndexSelected(e,o);this.updateState()}},isAnchorFirst:function(e){for(var t=this.state.navigationModel.list._head;t;){if(this.state.selectionModel.anchorIndex==t.data)return{anchorFirst:!0,node:t};if(e==t.data)return{anchorFirst:!1,node:t};t=t.next}}};t.exports=i},{}],340:[function(e,t){"use strict";function n(){this.selectedIds_=[],this.anchorIndex_=-1,this.leadIndex_=-1}n.prototype=Object.defineProperties({isSelected:function(e){var t=this.selectedIds_.map(function(e){return e.id}).indexOf(e),n=this.selectedIds_[t];return n?n.selected:!1},resetSelectionModel:function(){this.selectedIds_=[],this.anchorIndex_=-1,this.leadIndex_=-1},unSelectAll:function(){this.selectedIds_=[]},logSelectedIds:function(){console.log(this.selectedIds_)},selectAll:function(e){e.forEach(function(e){this.selectedIds_.push(new Object({id:e,selected:!0}))}.bind(this))},isSelectionLead:function(e){return this.leadIndex===e},setIndexSelected:function(e,t){var n=this.selectedIds_.map(function(e){return e.id}).indexOf(e),i=this.selectedIds_[n];if(!i||i.selected!==t)if(this.leadIndex=e,t)this.selectedIds_.push(new Object({id:e,selected:t}));else{var r=this.selectedIds_.map(function(e){return e.id}).indexOf(e);delete this.selectedIds_[r]}}},{length:{get:function(){return this.selectedIds_.length},configurable:!0,enumerable:!0},isSingleItemSelected:{get:function(){return 1===this.selectedIds_.length},configurable:!0,enumerable:!0},FirstSingleItemSelected:{get:function(){return this.isSingleItemSelected?this.selectedIds_[0].id:-1},configurable:!0,enumerable:!0},selectedIds:{get:function(){return this.selectedIds_},set:function(e){this.selectedIds=-1!==e?[e]:[]},configurable:!0,enumerable:!0},firstSelectedIndex:{get:function(){for(var e=0;e<this.selectedIds_.length;e++)return Number(e);return-1},configurable:!0,enumerable:!0},leadIndex:{get:function(){return this.leadIndex_},set:function(e){this.leadIndex_=e},configurable:!0,enumerable:!0},anchorIndex:{get:function(){return this.anchorIndex_},set:function(e){this.anchorIndex_=e},configurable:!0,enumerable:!0}}),t.exports=n},{}],341:[function(e,t){"use strict";var n=e(130),i=e(123),r=n.createClass({displayName:"SlideBar",startpos:null,rafHandle:null,handleMouseDown:function(e){e.preventDefault(),0===e.button&&([].forEach.call(document.querySelectorAll("#tabs, #webview-container, #panels-container",".notes-editor"),function(e){e.style.transitionDuration="0",e.style.willChange="width, height"}),this.startX=e.screenX,this.startY=e.screenY,document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("mouseup",this.handleDocumentMouseUp,!1))},handleMouseMove:function(e){this.rafHandle&&i.cancel(this.rafHandle),this.rafHandle=i(function(){var t;"left"===this.props.position?t=e.screenX-this.startX:"right"===this.props.position?t=this.startX-e.screenX:"top"===this.props.position?t=e.screenY-this.startY:"bottom"===this.props.position&&(t=this.startY-e.screenY),this.props.onSlidebarMove(t)&&(this.startX=e.screenX,this.startY=e.screenY)}.bind(this))},handleDocumentMouseUp:function(){document.removeEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("mouseup",this.handleDocumentMouseUp,!1),document.body.className="auto",[].forEach.call(document.querySelectorAll("#tabs, #webview-container, #panels-container",".notes-editor"),function(e){e.style.removeProperty("transitionDuration"),e.style.removeProperty("will-change")})},handleDoubleClick:function(e){this.props.onDoubleClick&&this.props.onDoubleClick(e)},componentWillUnmount:function(){document.removeEventListener("mouseup",this.handleDocumentMouseUp,!1),document.removeEventListener("mousemove",this.handleMouseMove,!1)},render:function(){return"left"===this.props.position||"right"===this.props.position?n.createElement("button",{onMouseDown:this.handleMouseDown,tabIndex:"-1",onDoubleClick:this.handleDoubleClick,className:"fullheight"}):n.createElement("button",{onMouseDown:this.handleMouseDown,tabIndex:"-1",onDoubleClick:this.handleDoubleClick,className:"fullwidth"})}});t.exports=r},{}],342:[function(e,t){"use strict";function n(e){return e.nodes||"nodes"}function i(e){return{WebkitPaddingStart:16*e+"px"}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=e(130),a=e(500),s=e(343),l=e(106),c=o.createClass({displayName:"TreeFolder",getDefaultProps:function(){return{depth:0}},onExpandButtonClick:function(){this.props.toggleExpansion(this.props.node)},onFolderClick:function(e,t){this.props.onFolderSelected(e,t),t.stopPropagation()},hasChildren:function(){var e=n(this.props.tree.keyAttrMap);return this.props.node.hasOwnProperty(e)&&this.props.node[e].length>0},render:function(){var e=[];if(this.props.addNodeToKeyboardNavigation(this.props.node,this.props.parentId),e.push(o.createElement("div",{className:l({folder:!0,"tree-row":!0,"speeddial-folder":this.props.node.speeddial}),onDoubleClick:this.onExpandButtonClick,key:this.props.node.id,onContextMenu:a(this.props.tree.folderMenuItems||[]),"data-expanded":-1!==this.props.expandedNodes.indexOf(this.props.node.id)?"":null,"data-selected":this.props.isSelected(this.props.node)?"":null,"data-nofocus":this.props.isSelected(this.props.node)&&!this.props.hasFocus?"":null,"data-lead":this.props.isLead(this.props.node)?"":null},o.createElement("label",{ref:"FolderEnvelope",style:i(this.props.depth),onClick:this.onFolderClick.bind(this,this.props.node)},o.createElement("span",{ref:"FolderExpandButton",className:"expand-icon",onClick:this.onExpandButtonClick},this.hasChildren()&&o.createElement("img",{alt:""})),o.createElement("span",{ref:"FolderExpandButton",onClick:this.onExpandButtonClick}),o.createElement("img",{alt:""}),o.createElement("span",{ref:"FolderDisplay",onClick:this.onFolderClick.bind(this,this.props.node)},this.props.tree.nodeDisplayName?this.props.tree.nodeDisplayName(this.props.node):this.props.node.toString())))),-1!==this.props.expandedNodes.indexOf(this.props.node.id)){var t=n(this.props.tree.keyAttrMap),u=this.props.node[t]||[];
u.map(function(n){e.push(this.props.tree.isFolder(n)?o.createElement(c,r({},this.props,{parentId:this.props.node.id,nodes:n[t],node:n,key:n.id,toggleExpansion:this.props.toggleExpansion,expandedNodes:this.props.expandedNodes,depth:this.props.depth+1})):o.createElement(s,r({},this.props,{parentId:this.props.node.id,node:n,key:n.id,depth:this.props.depth+1})))}.bind(this))}return o.createElement("div",null,e)}});t.exports=c},{}],343:[function(e,t){"use strict";function n(e){return{WebkitPaddingStart:16*e+"px"}}var i=e(130),r=e(500),o=i.createClass({displayName:"TreeNode",getDefaultProps:function(){return{depth:0}},onNodeClick:function(e,t){this.props.onNodeSelected(e,t)},onNodeDoubleClick:function(e,t){this.props.onNodeDoubleClick(e,t)},getNodeIcon:function(){return this.props.tree.getNodeIcon&&this.props.tree.getNodeIcon(this.props.node)},render:function(){return this.props.addNodeToKeyboardNavigation(this.props.node,this.props.parentId),i.createElement("div",{className:"node tree-row",onClick:this.onNodeClick.bind(this,this.props.node),onDoubleClick:this.onNodeDoubleClick.bind(this,this.props.node),onContextMenu:r(this.props.tree.nodeMenuItems||[]),"data-selected":this.props.isSelected(this.props.node)?"":null,"data-nofocus":this.props.isSelected(this.props.node)&&!this.props.hasFocus?"":null,"data-lead":this.props.isLead(this.props.node)?"":null},i.createElement("label",{ref:"NodeEnvelope",style:n(this.props.depth)},i.createElement("img",{src:this.getNodeIcon(),alt:""}),i.createElement("span",null,this.props.tree.nodeDisplayName?this.props.tree.nodeDisplayName(this.props.node):this.props.node.toString())))}});t.exports=o},{}],344:[function(e,t){"use strict";function n(e){return e.nodes||"nodes"}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=e(130),o=e(339),a=e(335),s=e(509),l=e(342),c=e(343),u=r.createClass({displayName:"VivaldiTree",mixins:[o,a],getInitialState:function(){return{hasFocus:!1,expandedNodes:[]}},componentWillMount:function(){var e="EXPAND_"+this.props.tree.name,t="SELECTION_"+this.props.tree.name;s.get([e,t],function(n){Array.isArray(n[e])&&this.setState({expandedNodes:n[e]}),this.SelectionMixinSetSelection(n[t])}.bind(this))},saveSelection:function(){var e="SELECTION_"+this.props.tree.name,t=this.SelectionMixinGetSelected(),n={};n[e]=t,s.set(n)},folderSelected:function(e,t){t&&this.refs.TreeEnvelope.getDOMNode().focus(),this.SelectionMixinSelectItem(e.id),this.props.tree.folderSelected(e,t),this.saveSelection()},nodeSelected:function(e,t){t&&this.refs.TreeEnvelope.getDOMNode().focus(),this.SelectionMixinSelectItem(e.id),this.props.tree.nodeSelected(e,t),this.saveSelection()},onNodeDoubleClick:function(e,t){this.props.tree.nodeDoubleClicked(e,t)},findNodeById:function(e){for(var t=0;t<this.props.tree.nodes.length;t++){var n=this.props.tree.nodes[t];if(n.id===e)return n}},onDelete:function(){this.props.onDelete()},selectById:function(e,t){var n=this.findNodeById(e);n&&(this.props.tree.isFolder(n)?this.folderSelected(n,t):this.nodeSelected(n,t),t.target.children[n.index]&&t.target.querySelector("[data-lead]").scrollIntoViewIfNeeded())},isSelected:function(e){return this.SelectionMixinIsSelected(e.id)},isLead:function(e){return this.SelectionMixinGetLead()===e.id},toggleExpansion:function(e){var t,n=this.state.expandedNodes.indexOf(e.id);-1===n?t=this.state.expandedNodes.concat(e.id):(this.state.expandedNodes.splice(n,1),t=this.state.expandedNodes.slice()),this.setState({expandedNodes:t});var i={};i["EXPAND_"+this.props.tree.name]=t,s.set(i)},onLostFocus:function(){this.setState({hasFocus:!1}),this.KeyboardNavigationMixinOnBlur()},onGotFocus:function(){this.setState({hasFocus:!0}),this.KeyboardNavigationMixinOnFocus()},addNodeToKeyboardNavigation:function(e,t){this.KeyboardNavigationMixinAddItemToNavigationList(e.id,t)},render:function(){this.KeyboardNavigationMixinReset();var e=[];return this.props.tree.nodes.map(function(t){if(this.props.tree.isFolder(t)){var o=n(this.props.tree.keyAttrMap);e.push(r.createElement(l,i({},this.props,{parentId:0,nodes:t[o],node:t,key:t.id,onFolderSelected:this.folderSelected,onNodeSelected:this.nodeSelected,hasFocus:this.state.hasFocus,isSelected:this.isSelected,isLead:this.isLead,toggleExpansion:this.toggleExpansion,expandedNodes:this.state.expandedNodes,addNodeToKeyboardNavigation:this.addNodeToKeyboardNavigation})))}else e.push(r.createElement(c,i({},this.props,{parentId:0,node:t,key:t.id,onNodeSelected:this.nodeSelected,onNodeDoubleClick:this.onNodeDoubleClick,hasFocus:this.state.hasFocus,isSelected:this.isSelected,isLead:this.isLead,addNodeToKeyboardNavigation:this.addNodeToKeyboardNavigation})))}.bind(this)),r.createElement("div",{ref:"TreeEnvelope",tabIndex:"0",className:"vivaldi-tree",onFocus:this.onGotFocus,onBlur:this.onLostFocus},e)}});t.exports=u},{}],345:[function(e,t){"use strict";var n=e(488),i=e(382),r=e(346),o=e(130),a=e(106),s=o.createClass({displayName:"Menu",mixins:[i],getInitialState:function(){return{menuItems:n.getHTMLMenu(),open:!1}},componentWillMount:function(){n.addChangeListener(this._onStoreChanged)},componentDidMount:function(){this.getDOMNode().addEventListener("focusout",this.onFocusout)},componentWillUnmount:function(){this.getDOMNode().removeEventListener("focusout",this.onFocusout),n.removeChangeListener(this._onStoreChanged)},_onStoreChanged:function(){this.isMounted()&&this.setState({menuItems:n.getHTMLMenu()})},collapse:function(){this.setState({open:!1})},componentLostFocus:function(){this.state.open&&this.collapse()},onClicked:function(e){e.nativeEvent.target.focus(),this.setState({open:!this.state.open})},setSelected:function(e){this.setState({selectedItem:e})},renderMenu:function(){return this.state.menuItems.map(function(e,t){return o.createElement(r,{setSelected:this.setSelected,selectedItem:this.state.selectedItem,key:t,menuItem:e})}.bind(this))},render:function(){return o.createElement("nav",{className:a({open:this.state.open}),onClick:this.onClicked},o.createElement("ul",{id:"menu"},this.renderMenu()))}});t.exports=s},{}],346:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(130),r=e(309),o=e(106),a=i.createClass({displayName:"MenuItem",getInitialState:function(){return{open:!1}},getDefaultProps:function(){return{depth:0,selectedItem:null}},menuSelected:function(){this.props.menuItem.commandName&&r.runAction(this.props.menuItem)},onClicked:function(){this.setState({open:!this.state.open})},shouldComponentUpdate:function(e,t){return this.state.open===t.open&&this.props.selectedItem===e.selectedItem&&this.props.depth===e.depth?!1:!0},handleMouseOver:function(){this.props.setSelected(this.props.menuItem)},getChildTree:function(){return this.props.menuItem.items?this.props.menuItem.items.map(function(e,t){return i.createElement(a,n({},this.props,{key:t,menuItem:e,depth:this.props.depth+1,selectedItem:this.props.selectedItem,setSelected:this.props.setSelected}))}.bind(this)):null},render:function(){var e=this.getChildTree();return i.createElement("li",{className:o({dropDown:!0,divider:"---"===this.props.menuItem.name,open:this.state.open,selectedItem:this.props.selectedItem===this.props.menuItem}),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.onClicked},i.createElement("a",{tabIndex:"0",onFocusout:"",onFocus:"",onClick:this.menuSelected},this.props.menuItem.name),e&&i.createElement("ul",{className:o({"menu-common":!0,subMenu:this.props.menuItem.subMenu})},e))}});t.exports=a},{}],347:[function(e,t){"use strict";function n(e){this.id=e.id||r(),this.photo=e.photo,this.name=e.name,this.address=e.address,this.phone=e.phone,this.postal=e.postal,this.groups=e.groups||[]}var i=e(370),r=e(351);n.prototype={defaultPhoto:"/resources/panel-contacts-active.png",toString:function(){return i(this)},addGroup:function(e){this.groups.push(e)},removeGroup:function(e){var t=this.groups.indexOf(e);t>-1&&this.groups.splice(t,1)},getAsJSON:function(){var e=[];return this.groups.map(function(t){e.push(t.getAsJSON())}),{id:this.id,photo:this.photo,name:this.name,address:this.address,phone:this.phone,postal:this.postal,groups:e}}},t.exports=n},{}],348:[function(e,t){"use strict";var n=e(480).session,i=e(356),r={getInitialState:function(){return{contactTree:[]}},componentDidMount:function(){this.getContacts(),i.addContactStoreListener(this.contactsChanged)},componentWillUnmount:function(){i.removeContactStoreListener()},componentWillRecieveProps:function(){this.getContacts()},setContactState:function(e){var t=i.getSelectedContact();!t&&e&&e.length>0&&(t=e[0]),t&&t.address?this.contactSelected(t):t&&this.contactSelected(t),this.setState({contactTree:i.getAsNodeTree(this.state.filter)}),n.contacts=i.getContacts(),n.contactGroups=i.getGroups()},contactsChanged:function(e,t){this.setContactState(t)},getContacts:function(){i.getAllContacts(function(e){this.setContactState(e)}.bind(this))}};t.exports=r},{}],349:[function(e,t){"use strict";function n(e){this.id=e.id||i(),this.name=e.name}var i=e(351);n.prototype={toString:function(){return this.name||this.id},getAsJSON:function(){return{id:this.id,name:this.name}}},t.exports=n},{}],350:[function(e,t){"use strict";var n=e(302),i=e(356),r=e(506),o=n.createClass({displayName:"ContactGroupView",attributeChange:function(e,t){var n=this.props.group;n[e]=t,this.setState({group:n})},nameChange:function(e){this.attributeChange("name",e.target.value)},saveGroup:function(){i.saveGroup(this.props.group)},render:function(){return n.createElement("div",{className:"contact_view"},n.createElement("label",null,r("Name")),n.createElement("input",{type:"text",className:"mousetrap",value:this.props.group.name,onChange:this.nameChange,onBlur:this.saveGroup}),n.createElement("br",null))}});t.exports=o},{}],351:[function(e,t){"use strict";function n(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;30>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}t.exports=n},{}],352:[function(e,t){"use strict";var n=e(302),i=e(354),r=e(350),o=n.createClass({displayName:"ContactPage",findById:function(e,t){for(var n,i=0;i<e.length;i++){var r=e[i];if(r.id===t){n=r;break}}return n},render:function(){var e=this.props.groups,t=this.props.contacts,o=this.props.url.split("/"),a=o[o.length-1];if(o.indexOf("group")>-1){var s=this.findById(e,a);return n.createElement(r,{group:s})}var l=this.findById(t,a);return n.createElement(i,{contact:l,allGroups:e})}});t.exports=o},{}],353:[function(e,t){"use strict";var n=e(302),i=e(347),r=e(344),o=n.createClass({displayName:"ContactTree",contactSelected:function(e){this.props.contactSelected(e)},groupSelected:function(e){this.props.groupSelected(e)},getContactPhoto:function(e){return e.photo||i.prototype.defaultPhoto},isFolder:function(e){return!e.hasOwnProperty("address")},render:function(){var e={name:"CONTACT_PANEL_TREE",nodeSelected:this.contactSelected,folderSelected:this.groupSelected,getNodeIcon:this.getContactPhoto,isFolder:this.isFolder,keyAttrMap:{},nodeMenuItems:this.props.contactMenuItems,folderMenuItems:this.props.groupMenuItems,nodes:this.props.contactTree};return n.createElement("div",null,n.createElement(r,{tree:e}))}});t.exports=o},{}],354:[function(e,t){"use strict";var n=e(302),i=e(347),r=e(356),o=e(336),a=e(506),s=n.createClass({displayName:"ContactView",attributeChange:function(e,t){var n=this.props.contact;n[e]=t,this.setState({contact:n})},nameChange:function(e){this.attributeChange("name",e.target.value)},addressChange:function(e){this.attributeChange("address",e.target.value)},phoneChange:function(e){this.attributeChange("phone",e.target.value)},postalChange:function(e){this.attributeChange("postal",e.target.value)},saveContact:function(){r.saveContact(this.props.contact)},groupSelected:function(e){this.attributeChange("groups",e),this.saveContact()},render:function(){return n.createElement("div",{className:"contact_view"},n.createElement("fieldset",null,n.createElement("img",{ref:"photo",src:this.props.contact.photo||i.prototype.defaultPhoto})),n.createElement("fieldset",null,n.createElement("input",{ref:"name",type:"text",className:"mousetrap",value:this.props.contact.name,placeholder:a("Name"),onChange:this.nameChange,onBlur:this.saveContact})),n.createElement("fieldset",null,n.createElement("input",{ref:"email",type:"text",className:"mousetrap",value:this.props.contact.address,placeholder:a("Email"),onChange:this.addressChange,onBlur:this.saveContact})),n.createElement("fieldset",null,n.createElement("input",{ref:"phone",type:"text",className:"mousetrap",value:this.props.contact.phone,placeholder:a("Phone"),onChange:this.phoneChange,onBlur:this.saveContact})),n.createElement("fieldset",null,n.createElement("input",{ref:"postal",type:"text",className:"mousetrap",value:this.props.contact.postal,placeholder:a("Address"),onChange:this.postalChange,onBlur:this.saveContact})),n.createElement("fieldset",null,n.createElement(o,{ref:"groups",selectedItems:this.props.contact.groups,allItems:this.props.allGroups,itemSelectionCallback:this.groupSelected,includeDropDownButton:!0})))}});t.exports=s},{}],355:[function(e,t){"use strict";var n=e(302),i=e(480).session,r=e(482).urls,o=e(500),a=e(348),s=e(347),l=e(349),c=e(356),u=e(354),h=e(350),d=e(353),p=e(506),f=n.createClass({displayName:"ContactsPanel",mixins:[a],getInitialState:function(){return{filter:""}},openContactURL:function(e,t){i.openURL("vivaldi://"+e+(t?t:""))},newContact:function(){var e=new s({name:p("New Contact"),address:"email@example.com"});this.contactSelected(e)},newContactGroup:function(){var e=new l({name:p("New group")});this.groupSelected(e)},deleteContact:function(e){c.deleteContactById(e.id,function(t){t&&console.log("Failed to delete contact",e,t)})},deleteGroup:function(e){c.deleteGroup(e,function(t){t&&console.log("Failed to delete group",e,t)})},contactSelected:function(e){this.setState({contact:e,group:void 0}),c.setSelectedContact(e)},groupSelected:function(e){this.setState({contact:void 0,group:e})},renderTree:function(){var e=[{name:p("Compose"),handler:this.composeMail},{name:p("Delete"),handler:this.deleteContact}],t=[{name:p("Compose"),handler:this.composeMail},{name:p("Delete"),handler:this.deleteGroup}];return n.createElement(d,{contactTree:this.state.contactTree,contactSelected:this.contactSelected,groupSelected:this.groupSelected,contactMenuItems:e,groupMenuItems:t})},renderEditor:function(){return this.state.contact?n.createElement(u,{contact:this.state.contact,allGroups:i.contactGroups}):this.state.group?n.createElement(h,{group:this.state.group}):null},filterChange:function(e){var t=e.target.value;this.setState({filter:t,contactTree:c.getAsNodeTree(t)})},composeMail:function(){var e={};this.state.contact?e.to=[this.state.contact]:this.state.group&&(e.to=this.state.group.nodes),i.openURL(r.internalUrl("mailpage","composer/new",p("Mail - New")),{payload:e})},render:function(){var e=[{name:p("New Contact"),handler:this.newContact},{name:p("New Contact Group"),handler:this.newContactGroup}];return n.createElement("div",{className:"panel",id:"contacts",tabIndex:"0",onContextMenu:o(e)},n.createElement("header",null,n.createElement("h1",null,p("Contacts"))),n.createElement("div",{className:"toolbar icons"},n.createElement("input",{type:"search",placeholder:p("Search..."),onChange:this.filterChange}),n.createElement("span",null,n.createElement("button",{className:"button-toolbar newcontact",ref:"newButton",title:p("New Contact"),onClick:o(e)},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11.975 14.04H9.02v-2.036h2.955V9h2.037v3.004h2.982v2.037h-2.982v2.934h-2.037V14.04z" />\n</svg>'}})),null)),n.createElement("section",null,this.renderTree()),this.renderEditor())}});t.exports=f},{}],356:[function(e,t){"use strict";var n=e(509),i=e(347),r=e(349),o={allContacts:[],groups:[],contacts:[],selectedContact:void 0,getAllContacts:function(e){n.get(["CONTACTS"],function(t){this.allContacts=t.CONTACTS||[],this.splitUpIntoGroupsAndContacts(),e(this.allContacts)}.bind(this))},setAllContacts:function(e,t){n.set({CONTACTS:e},function(n){n||(this.allContacts=e),t(n)}.bind(this))},deleteAllContacts:function(e){n.remove("CONTACTS",function(t){t||(this.allContacts=[]),e(t)}.bind(this))},saveContact:function(e,t){for(var n=!1,i=0;i<this.allContacts.length;i++){var r=this.allContacts[i];if(r.id===e.id){this.allContacts[i]=e.getAsJSON(),n=!0;break}}n||this.allContacts.push(e.getAsJSON()),this.setAllContacts(this.allContacts,function(e){e&&console.log("Failed to update contacts",this.allContacts),t(e)}.bind(this))},addNewContacts:function(e){for(var t=!1,n=0;n<e.length;n++){for(var r=e[n],o=r.address||r,a=r.name||"",s=!1,l=0;l<this.allContacts.length;l++){var c=this.allContacts[l];o===c.address&&(s=!0)}if(!s){var u=new i({address:o,name:a});this.allContacts.push(u),t=!0}}return t&&this.setAllContacts(this.allContacts),t},saveGroup:function(e,t){this.saveContact(e,t)},deleteContactById:function(e,t){for(var n=this.allContacts,i=[],r=0;r<n.length;r++){var o=n[r];o.id!==e&&i.push(o)}this.setAllContacts(i,function(n){n&&console.log("Failed to delete contact/group",e,n),t(n)}.bind(this))},deleteGroup:function(e,t){this.contacts.map(function(t){t.removeGroup(e)}),this.deleteContactById(e.id,function(e){t(e)})},contactsChanged:function(e,t,n){this.allContacts=n,this.splitUpIntoGroupsAndContacts(),e(t,n,"CONTACTS")},addContactStoreListener:function(e){n.addListener("CONTACTS",this.contactsChanged.bind(this,e))},removeContactStoreListener:function(){n.removeListener("CONTACTS")},splitUpIntoGroupsAndContacts:function(){this.groups=[],this.contacts=[],this.allContacts.map(function(e){if(e.address){var t=new i(e),n=[];t.groups.map(function(e){n.push(new r(e))}),t.groups=n,this.contacts.push(t)}else{var o=new r(e);this.groups.push(o)}}.bind(this)),this.allContacts=this.contacts.concat(this.groups)},hasFilter:function(e,t){return!t||0===t.length||e.toLowerCase().indexOf(t.toLowerCase())>-1},getAsNodeTree:function(e){var t=[];return this.groups.map(function(n){var i=this.contacts.filter(function(t){if(!this.hasFilter(t.name,e))return!1;for(var i=0;i<t.groups.length;i++){var r=t.groups[i];if(r.id===n.id)return t.parentId=r.id,!0}}.bind(this));n.nodes=i,n.parentId=0,t.push(n)}.bind(this)),this.contacts.map(function(n){0===n.groups.length&&this.hasFilter(n.name,e)&&(n.parentId=0,t.push(n))}.bind(this)),t},getContacts:function(){return this.contacts},getGroups:function(){return this.groups},setSelectedContact:function(e){this.selectedContact=e},getSelectedContact:function(){return this.selectedContact},withSettings:function(e){return n=e,this}};t.exports=o},{}],357:[function(e,t){"use strict";var n=e(302),i=e(499),r=e(380),o=e(382),a=e(325),s=e(105),l=e(333),c=e(506),u=e(106),h=n.createClass({displayName:"CreateBookmark",mixins:[r,o],getInitialState:function(){return{url:this.props.url,title:this.props.title,thumbnail:this.props.thumbnail,nickname:"",description:"",id:"",parentId:"1",treeParentId:"1",animated:!1}},componentWillMount:function(){},componentDidMount:function(){this.getDOMNode().addEventListener("focusout",this.onFocusout),this.getDOMNode().focus()},componentWillReceiveProps:function(e){e.open&&this.onShowDialog(e)},componentWillUnMount:function(){null!=this.getDOMNode()&&this.getDOMNode().removeEventListener("focusout",this.onFocusout)},onShowDialog:function(e){var t=e.bookmarkObj?e.bookmarkObj.id:null;t?this.setState({id:e.bookmarkObj.id,url:e.bookmarkObj.url,thumbnail:e.bookmarkObj.thumbnail,nickname:e.bookmarkObj.nickname,description:e.bookmarkObj.description,title:e.bookmarkObj.title,parentId:e.bookmarkObj.parentId,treeParentId:e.bookmarkObj.parentId}):this.isPageBookmarked(e.url,function(t){this.setState(t.bookmarked?{id:t.bookmarkObj.id,url:t.bookmarkObj.url,thumbnail:t.bookmarkObj.thumbnail,nickname:t.bookmarkObj.nickname,description:t.bookmarkObj.description,title:t.bookmarkObj.title,parentId:t.bookmarkObj.parentId,treeParentId:t.bookmarkObj.parentId}:{id:"",url:e.url,title:e.title,thumbnail:e.thumbnail,bookmarked:e.isPageBookmarked})}.bind(this))},onFocus:function(){i.bind("esc",function(){this.onClose()}.bind(this),"keydown")},componentLostFocus:function(){this.onClose()},onSaveBookmark:function(){this.state.id?(this.state.parentId!==this.state.treeParentId&&s.bookmarks.move(this.state.id,{parentId:this.state.treeParentId}),s.bookmarks.update(this.state.id,{title:this.state.title,url:this.state.url,thumbnail:this.state.thumbnail,nickname:this.state.nickname,description:this.state.description},function(){})):s.bookmarks.create({title:this.state.title,url:this.state.url,thumbnail:this.state.thumbnail,nickname:this.state.nickname,description:this.state.description,parentId:this.state.treeParentId,speeddial:!1},function(e){this.setState({id:e.id,animated:!0}),setTimeout(function(){this.setState({animated:!1})}.bind(this),1e3)}.bind(this)),this.onClose()},onDeleteBookmark:function(){s.bookmarks.remove(this.state.id,function(){this.setState({id:""}),this.onClose()}.bind(this))},onClose:function(){i.unbind(["esc"]),this.props.onClose()},keyDown:function(e){(e.keyCode===l.KEY_ENTER||e.keyCode===l.KEY_RETURN)&&this.onSaveBookmark()},onFolderChange:function(e){var t=e.target.value;this.setState({treeParentId:t})},changeValue:function(e,t){var n={};n[e]=t.target.value,this.setState(n)},render:function(){return n.createElement("div",{className:"add-bookmark-container addressfield-popup-container"},n.createElement("button",{ref:"addBookmark",disabled:!this.props.isBookmarkable,className:u({"button-addressfield":!0,bookmark:!0,bookmarked:this.props.bookmarked,inactive:!this.props.isBookmarkable,docked:!this.props.isSearchOn,animated:this.state.animated}),onClick:this.props.onOpen,title:c(this.props.bookmarked?"Edit Bookmark":"Add Bookmark")}),this.props.open&&n.createElement("div",{className:"dialog-add-bookmark",tabIndex:"0",onFocus:this.onFocus},n.createElement("div",{className:"addbookmark-cardwrapper"},n.createElement("div",{className:"cb-image favicon-current-border-color",style:{backgroundImage:"url("+(this.state.thumbnail?this.state.thumbnail:"/resources/bookmark_item.png")+")"}}),n.createElement("div",{className:"dialog-content cardview"},n.createElement("div",{className:"cb-form-row cardview"},n.createElement(a,{onChange:this.onFolderChange,selectedItemID:this.state.treeParentId,title:c("Bookmark Folder")})),n.createElement("div",{className:"cb-form-row"},n.createElement("input",{className:"mousetrap cardview title",autoFocus:!0,type:"text",value:this.state.title,onChange:this.changeValue.bind(this,"title"),title:c("Bookmark Name"),placeholder:c("Bookmark Name"),onKeyDown:this.keyDown})),n.createElement("div",{className:"cb-form-row"},n.createElement("input",{className:"mousetrap cardview address",type:"text",value:this.state.url,onChange:this.changeValue.bind(this,"url"),title:c("Address"),placeholder:c("Address"),onKeyDown:this.keyDown})),n.createElement("div",{className:"cb-form-row"},n.createElement("textarea",{className:"mousetrap cardview description",type:"text",value:this.state.description,onChange:this.changeValue.bind(this,"description"),title:c("Tags"),placeholder:c("Tags"),onKeyDown:this.keyDown})),n.createElement("div",{className:"cb-form-row"},n.createElement("input",{className:"mousetrap cardview nickname",type:"text",value:this.state.nickname,onChange:this.changeValue.bind(this,"nickname"),title:c("Nickname"),placeholder:c("Nickname"),onKeyDown:this.keyDown})))),n.createElement("footer",{className:"dialog-footer cardview"},n.createElement("input",{type:"button",autoFocus:!0,className:"primary",value:c("Save"),onClick:this.onSaveBookmark}),n.createElement("input",{type:"button",value:c("Delete"),disabled:this.state.id?!1:!0,onClick:this.onDeleteBookmark}),n.createElement("input",{type:"button",value:c("Cancel"),onClick:this.onClose}))))}});t.exports=h},{}],358:[function(e,t){"use strict";var n=e(302),i=e(499),r=n.createClass({displayName:"Modal",propTypes:{dialogWidth:n.PropTypes.number,viewMode:n.PropTypes.string,onRequestClose:n.PropTypes.func,ignoreEscape:n.PropTypes.bool},componentDidMount:function(){i.bind("esc",function(){this.props.onRequestClose&&!this.props.ignoreEscape&&this.props.onRequestClose()}.bind(this))},componentWillUnmount:function(){i.unbind(["esc"])},killClick:function(e){e.stopPropagation()},handleBackdropClick:function(){this.props.onRequestClose&&this.props.onRequestClose()},render:function(){return n.createElement("div",{id:"modal-bg",className:this.props.viewMode?this.props.viewMode:"slide",onClick:this.handleBackdropClick},n.createElement("div",{onClick:this.killClick,style:{width:this.props.dialogWidth}},this.props.children))}});t.exports=r},{}],359:[function(e,t){"use strict";var n=e(302),i=e(360),r=e(362),o=e(361),a=e(419),s=n.createClass({displayName:"DialogRenderWrapper",getInitialState:function(){return{dialogParentElement:null,customData:null,closeDialog:null}},render:function(){return"download"==this.props.customData.dialogtype?n.createElement(i,{dialogParentElement:this.props.dialogParentElement,customData:this.props.customData,onClose:this.props.closeDialog}):"importbookmarks"==this.props.customData.dialogtype?n.createElement(o,{dialogParentElement:this.props.dialogParentElement,onClose:this.props.closeDialog}):"createSearch"==this.props.customData.dialogtype?n.createElement(a,{dialogParentElement:this.props.dialogParentElement,onClose:this.props.closeDialog,name:this.props.customData.Name,url:this.props.customData.Url}):"javascript"==this.props.customData.dialogtype?n.createElement(r,{dialogParentElement:this.props.dialogParentElement,customData:this.props.customData,onClose:this.props.closeDialog}):(console.error("DialogRenderWrapper.render : You tried to show an unknown dialogtype."),null)}});t.exports=s},{}],360:[function(e,t){"use strict";var n=e(302),i=e(100),r=e(115),o=e(358),a=e(509),s=e(385),l=e(506),c=e(309),u=n.createClass({displayName:"DownloadDialog",mixins:[s],vivaldiSettingsKeys:["SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS"],getInitialState:function(){return{shown:!0,modalShown:!1,openSavedFiles:!1,askNextTime:!1}},componentWillMount:function(){a.get("OPEN_SAFE_FILES",function(e){this.setState({openSavedFiles:e})}.bind(this))},componentDidMount:function(){this.refs.defaultAction.getDOMNode().focus()},componentWillReceiveProps:function(){this.setState({shown:!0})},onOpen:function(){this.props.customData.request.allow("open"),this.setState({shown:!this.state.shown}),this.close()},onSave:function(){this.props.customData.request.allow(),this.setState({shown:!this.state.shown}),!document.querySelector("#panels-container .downloads.active")&&this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&c.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL"),this.close()},onSaveAs:function(){this.props.customData.request.allow("saveas"),this.setState({shown:!this.state.shown}),!document.querySelector("#panels-container .downloads.active")&&this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&c.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL"),this.close()},onCancel:function(){this.props.customData.request.deny(),this.setState({shown:!this.state.shown}),this.close()},close:function(){a.set({AUTOMATICALLY_DOWNLOAD_FILES:this.state.askNextTime}),this.props.onClose()},onSetOpeningFiles:function(){this.setState({openSavedFiles:!this.state.openSavedFiles}),a.set({OPEN_SAFE_FILES:!this.state.openSavedFiles}),this.refs.defaultAction.getDOMNode().focus()},onAskDownloadChanged:function(e){this.setState({askNextTime:e.target.value})},render:function(){var e=this.props.customData.suggestedFilename?this.props.customData.suggestedFilename:i.parse(this.props.customData.url).pathname.split("/").pop(),t=i.parse(this.props.customData.url).hostname,a=-1===this.props.customData.fileSize?l("Unknown"):r.filesize(this.props.customData.fileSize);return n.createElement(o,null,n.createElement("div",{className:"dialog-download"},n.createElement("header",{className:"dialog-header"},n.createElement("h1",{className:"dialog-title",title:e},l("Download $1?",[e]))),n.createElement("div",{className:"dialog-content"},n.createElement("p",null,n.createElement("span",{className:"label",title:e},l("File Name"),":"),e),n.createElement("p",null,n.createElement("span",{className:"label"},l("File Size"),":"),a),n.createElement("p",null,n.createElement("span",{className:"label"},l("Host"),":"),t),n.createElement("label",{className:"autosave"},n.createElement("input",{type:"checkbox",onChange:this.onAskDownloadChanged}),n.createElement("span",null,l("Always Save Files to Default Download Location")))),n.createElement("footer",{className:"dialog-footer"},n.createElement("input",{type:"button",className:"primary",onClick:this.onSave,ref:"defaultAction",value:l("Save")}),n.createElement("input",{type:"button",onClick:this.onSaveAs,value:l("Save As...")}),n.createElement("input",{type:"button",onClick:this.onOpen,value:l("Open")}),n.createElement("input",{type:"button",onClick:this.onCancel,value:l("Cancel")}))))}});t.exports=u},{}],361:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(358),o=e(506),a=null,s=n.createClass({displayName:"ImportBookmarks",handleClick:function(){this.state.shown&&(this.setState({ticks:0}),clearInterval(a),this.props.onClose()),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",useOperaDefaultLocation:!0,profilesArray:[],shown:!0,ticks:0,modalShown:!1,selectedIndex:0,importOptions:[],selectedProfile:""}},componentDidMount:function(){},componentWillMount:function(){var e=this;i.importData.getProfiles(function(t){e.setState({profilesArray:t,importOptions:JSON.parse(JSON.stringify(t))})})},onHandleClick:function(){this.setState({msg:"started"}),this.startImport()},startImport:function(){var e=this.state.selectedIndex,t=this.state.profilesArray,r=t[e].history,o=t[e].favorites,a=t[e].passwords,s=t[e].search,l=t[e].notes,c=this.state.useOperaDefaultLocation,u="";this.refs.userProfile&&(u=""===this.state.selectedProfile?n.findDOMNode(this.refs.userProfile).value:this.state.selectedProfile);var h=new Array(e.toString(),r.toString(),o.toString(),a.toString(),s.toString(),l.toString(),c.toString(),u.toString());i.importData.startImport(h,function(e){this.setState({msg:e})}.bind(this))},handleProfileChange:function(e){this.setState({selectedIndex:e.target.value})},handleUserProfileChange:function(e){this.setState({selectedProfile:e.target.value})},handle:function(e){this.setState({selectedIndex:e.target.value})},_operaDefault:function(){this.setState({useOperaDefaultLocation:!this.state.useOperaDefaultLocation})},__changeSelection:function(e,t){var n=this.state.profilesArray;n[e][t]=!n[e][t],this.setState({profilesArray:n})},render:function(){var e=this.state.profilesArray.map(function(e){return n.createElement("option",{value:e.index},e.name)}),t=this.state.selectedIndex,i=this.state.profilesArray[t],a=this.state.importOptions[t];if(a&&a.UserProfiles&&a.UserProfiles.length>0)var s=a.UserProfiles.map(function(e){return n.createElement("option",{value:e.profileName},e.profileDisplayName)});return a?n.createElement(r,{onRequestClose:this.handleClick},function(){return this.state.msg.length>0?n.createElement("div",{className:"import-data"},n.createElement("div",{className:"addbookmark-cardwrapper"},n.createElement("header",{className:"dialog-header"},n.createElement("h1",{className:"dialog-title"},o("Import bookmarks and settings"))),n.createElement("div",{className:"dialog-content"},"started"===this.state.msg&&n.createElement("p",{className:"in-progress"},o("Import in progress...")),"Success"===this.state.msg&&n.createElement("p",{className:"success"},o("Import completed.")),"Success"!==this.state.msg&&"started"!==this.state.msg&&n.createElement("p",{className:"error"},o("No data imported. ($1)",this.state.msg)))),n.createElement("footer",{className:"dialog-footer cardview"},n.createElement("input",{type:"button",className:"primary",disabled:"started"===this.state.msg,onClick:this.handleClick,value:o("Close")}))):n.createElement("div",{className:"import-data"},n.createElement("div",{className:"addbookmark-cardwrapper"},n.createElement("header",{className:"dialog-header"},n.createElement("h1",{className:"dialog-title"},o("Import bookmarks and settings"))),n.createElement("div",{className:"dialog-content"},n.createElement("fieldset",null,n.createElement("div",null,n.createElement("label",{htmlFor:"browserSel",className:"from"},o("From")),n.createElement("select",{id:"browserSel",onChange:this.handleProfileChange,value:this.state.selectedIndex},e))),n.createElement("fieldset",null,s&&n.createElement("div",{className:"profile"},n.createElement("label",{htmlFor:"userProfile"},o("Chrome user profile")),n.createElement("select",{ref:"userProfile",id:"userProfile",onChange:this.handleUserProfileChange,value:this.state.selectedProfile},s)),a&&a.favorites&&n.createElement("div",null,n.createElement("input",{id:"f-favorites",type:"checkbox",checked:i?i.favorites:!1,onChange:this.__changeSelection.bind(this,t,"favorites")}),n.createElement("label",{htmlFor:"f-favorites"},o("Bookmarks"))),a.passwords&&n.createElement("div",null,n.createElement("input",{id:"f-password",type:"checkbox",checked:i?i.passwords:!1,onChange:this.__changeSelection.bind(this,t,"passwords")}),n.createElement("label",{htmlFor:"f-password"},o("Passwords"))),a.history&&n.createElement("div",null,n.createElement("input",{id:"f-history",type:"checkbox",checked:i?i.history:!1,onChange:this.__changeSelection.bind(this,t,"history")}),n.createElement("label",{htmlFor:"f-history"},o("History"))),a.notes&&n.createElement("div",null,n.createElement("input",{id:"f-notes",type:"checkbox",checked:i?i.notes:!1,onChange:this.__changeSelection.bind(this,t,"notes")}),n.createElement("label",{htmlFor:"f-notes"},o("Notes"))),a.search&&n.createElement("div",null,n.createElement("input",{id:"f-search",type:"checkbox",checked:i?i.search:!1,onChange:this.__changeSelection.bind(this,t,"search")}),n.createElement("label",{htmlFor:"f-search"},o("Search Engines"))),a.notes&&n.createElement("div",null,n.createElement("input",{id:"f-location",type:"checkbox",checked:this.state.useOperaDefaultLocation,onChange:this._operaDefault.bind(this,t,"useOpera")}),n.createElement("label",{htmlFor:"f-location"},o("Use Opera default location"))),!a.passwords&&!a.history&&!a.history&&n.createElement("div",null,n.createElement("label",{htmlFor:"f-file"},o("(Choose a bookmark file)")))))),n.createElement("footer",{className:"dialog-footer cardview"},n.createElement("input",{type:"button",className:"primary",onClick:this.onHandleClick,value:o("Import")}),n.createElement("input",{type:"button",onClick:this.handleClick,value:o("Cancel")})))
}.bind(this)()):null}});t.exports=s},{}],362:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(100),o=e(358),a=e(506),s=n.createClass({displayName:"JavascriptDialog",getInitialState:function(){return{shown:!0,modalShown:!1,customData:this.props.customData,onClose:null,promptValue:this.props.customData.defaultPromptText,stopScripts:!1}},handleLoadStart:function(e){e.isTopLevel&&this.onCancel()},componentWillMount:function(){this.props.customData.webview.addEventListener("loadstart",this.handleLoadStart)},componentDidMount:function(){this.refs.defaultAction.getDOMNode().focus()},componentWillUnmount:function(){this.props.customData.webview.removeEventListener("loadstart",this.handleLoadStart)},componentWillReceiveProps:function(){this.setState({shown:!0})},onOk:function(){this.setState({shown:!this.state.shown}),this.state.stopScripts?i.contentSettings.javascript.set({primaryPattern:this.props.customData.url+"*",setting:"block"},function(){this.props.customData.webview.stop(),this.onCancel()}.bind(this)):(this.props.customData.dialog.ok(this.state.promptValue),this.props.onClose())},onCancel:function(){this.props.customData.dialog.cancel(),this.setState({shown:!this.state.shown}),this.props.onClose()},handlePrompt:function(e){this.setState({promptValue:e.target.value})},handleStopScripts:function(e){this.setState({stopScripts:e.target.checked})},render:function(){var e,t=r.parse(this.props.customData.url).hostname,i=this.props.customData.messageType,s=this.props.customData.messageText,l=a("JavaScript from $1",[t]),c=n.createElement("p",null,"Not implemented"),u=n.createElement("input",{type:"button",onClick:this.onCancel,value:a("Cancel")}),h=n.createElement("label",{className:"label"},n.createElement("input",{type:"checkbox",checked:this.state.stopScripts,onChange:this.handleStopScripts}),a("Stop executing scripts on this page."));return"alert"===i?(c=n.createElement("p",null,s),u=null):"confirm"===i?c=n.createElement("p",null,s):"prompt"===i&&(c=n.createElement("p",null,s),e=n.createElement("input",{type:"text",value:this.state.promptValue,onChange:this.handlePrompt})),h=null,n.createElement(o,{dialogWidth:"400"},n.createElement("div",{className:"dialog-javascript"},n.createElement("header",{className:"dialog-header"},n.createElement("h1",{className:"dialog-title",title:l},l)),n.createElement("div",{className:"dialog-content"},c,e),n.createElement("footer",{className:"dialog-footer"},n.createElement("input",{type:"button",className:"primary",onClick:this.onOk,ref:"defaultAction",value:a("OK")}),u,h)))}});t.exports=s},{}],363:[function(e,t){"use strict";var n=e(302),i=e(409),r=e(333),o=e(385),a=e(506),s=n.createClass({displayName:"ShowKeyboardShortcuts",mixins:[o],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS"],getInitialState:function(){return{filter:""}},componentDidMount:function(){n.findDOMNode(this.refs.keyboardList).focus()},onSettingsFilter:function(){var e=n.findDOMNode(this.refs.filter);this.setState({filter:e.value.toLowerCase()})},onKeyDown:function(e){e.keyCode==r.KEY_ESCAPE&&(this.props.onClose(),e.stopPropagation(),e.preventDefault())},render:function(){return n.createElement("div",{className:"keyboardShortcutsWrapper",tabIndex:"1",ref:"keyboardList",onKeyDown:this.onKeyDown},n.createElement("header",null,n.createElement("h1",null,a("Keyboard Cheat Sheet")),n.createElement("input",{className:"search",ref:"filter",value:this.state.filter,type:"search",placeholder:a("Filter Commands"),onChange:this.onSettingsFilter,autoFocus:""===this.state.categoryTitle}),n.createElement("button",{className:"close",onClick:this.props.onClose})),n.createElement("div",{className:this.state.DISABLE_SINGLE_KEY_SHORTCUTS?"keystrokes singlekeydisabled":"keystrokes"},n.createElement(i,{filter:this.state.filter,view:"read-only"})))}});t.exports=s},{}],364:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(115),o=e(394),a=e(506),s=n.createClass({displayName:"DownloadItem",getInitialState:function(){return{showDownloadsContextMenu:null,doSelectionOnAll:null,setActive:null}},onFocus:function(){this.props.setKeyboardBindings()},onBlur:function(){this.props.releaseKeyboardBindings()},componentDidMount:function(){i.downloads.getFileIcon(this.props.item.id,{size:32},this.onTransferIconFound)},componentWillUnmount:function(){},onOpen:function(){i.downloads.open(this.props.item.id)},onShow:function(){i.downloads.show(this.props.item.id)},onOpenDownloadFolder:function(){i.downloads.showDefaultFolder()},onClicked:function(e){e.ctrlKey||this.props.doSelectionOnAll(!1),this.props.item.isSelected=!this.props.item.isSelected,this.props.setActive(this.props.item),this.setState({isSelected:this.props.item.isSelected})},onPause:function(){i.downloads.pause(this.props.item.id)},onResume:function(){i.downloads.resume(this.props.item.id)},onErase:function(){i.downloads.erase({id:this.props.item.id})},onTransferIconFound:function(e){i.runtime.lastError||(this.props.item.fileIcon=e,this.setState({result:this.props.item}))},onContextmenu:function(e){e.ctrlKey||this.props.doSelectionOnAll(!1),this.props.item.isSelected=!0,this.setState({isSelected:this.props.item.isSelected}),this.props.showDownloadsContextMenu(e),e.preventDefault()},render:function(){var e=this.props.item.filename.split("\\").pop().split("/").pop(),t="complete"===this.props.item.state,i=this.props.item.bytesReceived,s=r.filesize(i),l=r.filesize(this.props.item.totalBytes?this.props.item.totalBytes:this.props.item.bytesReceived);return n.createElement("li",{tabIndex:"0",onContextMenu:this.onContextmenu,onClick:this.onClicked,onDoubleClick:t?this.onOpen:this.onClicked,onShow:this.onShow,onPause:this.onPause,onResume:this.onResume,onFocus:this.onFocus,onBlur:this.onBlur,className:("complete"===this.props.item.state?"loaded":"")+(this.props.item.isSelected?" selected":"")},n.createElement("div",{className:"icon"},n.createElement("img",{src:this.props.item.fileIcon})),n.createElement("div",{className:"file"},n.createElement("div",{className:"filename"},e),"in_progress"===this.props.item.state&&n.createElement(o,{type:"bar",overridePercent:"complete"===this.props.item.state?100:-1,totalSize:this.props.item.totalBytes,currentSize:i}),n.createElement("div",{className:"size"},"complete"===this.props.item.state?s:this.props.item.paused?a("$1 of $2  stopped",[s,l]):a("$1 of $2",[s,l]))))}});t.exports=s},{}],365:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(499),o=e(506),a=e(364),s=300,l=n.createClass({displayName:"DownloadPanel",getInitialState:function(){return{downloadItems:[],pollTimer:-1,hasActiveTransfersSelected:!1,hasPausedTransfersSelected:!1,activeItem:null,reversedOrder:!0}},componentDidMount:function(){i.downloads.onCreated.addListener(this.onTransferCreated),i.downloads.onChanged.addListener(this.onTransferChanged),i.downloads.onErased.addListener(this.onTransferErased),i.downloads.onDeterminingFilename.addListener(this.onDetermineFileName),i.downloads.search({},function(e){e.forEach(function(e){this.onTransferCreated(e)}.bind(this))}.bind(this))},componentWillMount:function(){i.downloads&&i.downloads.setShelfEnabled(!1)},componentWillUnmount:function(){i.downloads.onCreated.removeListener(this.onTransferCreated),i.downloads.onChanged.removeListener(this.onTransferChanged),i.downloads.onErased.removeListener(this.onTransferErased),i.downloads.onDeterminingFilename.removeListener(this.onDetermineFileName)},setKeyboardBindings:function(){r.bind("del",this.doRemoveSelected),r.bind("up",function(){this.doSelectItemRelativeToActive(-1,!1)}.bind(this)),r.bind("down",function(){this.doSelectItemRelativeToActive(1,!1)}.bind(this)),r.bind("shift+up",function(){this.doSelectItemRelativeToActive(-1,!0)}.bind(this)),r.bind("shift+down",function(){this.doSelectItemRelativeToActive(1,!0)}.bind(this)),r.bind("return",this.openSelected),r.bind("ctrl+a",function(){this.doSelectionOnAll(!0)}.bind(this))},releaseKeyboardBindings:function(){r.unbind("del"),r.unbind("up"),r.unbind("down"),r.unbind("return"),r.unbind("shift+up"),r.unbind("shift+down"),r.unbind("ctrl+a")},onTransferCreated:function(e){e.isSelected=!1,this.state.reversedOrder?this.state.downloadItems.unshift(e):this.state.downloadItems.push(e),this.setState({downloadItems:this.state.downloadItems}),this.startPollingIfProgress()},showDownloadsContextMenu:function(e){this.updateActiveProgressState();var t={left:e.screenX-window.screenX,top:e.screenY-window.screenY,items:[{name:o("Open File"),id:0},{name:o("Reveal File"),id:1},{name:o("Stop"),id:2,visible:this.state.hasActiveTransfersSelected},{name:o("Remove"),id:3},{name:"---",id:2010},{name:o("Remove All Transfers"),id:3}]};i.showMenu.create(t,function(e){switch(e){case 0:this.openSelected();break;case 1:this.showSelected();break;case 2:this.stopSelected();break;case 3:this.removeSelected();break;case 4:this.removeSelected(!0)}}.bind(this))},updateActiveProgressState:function(){for(var e=!1,t=!1,n=0;n<this.state.downloadItems.length;n++){var i=this.state.downloadItems[n];if(i.isSelected&&"in_progress"===i.state){e=!i.paused,t=i.paused;break}}this.setState({hasActiveTransfersSelected:e,hasPausedTransfersSelected:t})},onTransferChanged:function(e){for(var t=function(e){i.runtime.lastError||(this.fileIcon=e)},n=0;n<this.state.downloadItems.length;n++){var r=this.state.downloadItems[n];if(r.id===e.id){e.state&&e.state.current!==e.state.previous&&(this.state.downloadItems[n].state=e.state.current),e.paused&&e.paused.current!==e.paused.previous&&(this.state.downloadItems[n].paused=e.paused.current),e.canResume&&e.canResume.current!==e.canResume.previous&&(this.state.downloadItems[n].canResume=e.canResume.current),e.bytesReceived&&(this.state.downloadItems[n].bytesReceived=e.bytesReceived.current),e.totalBytes&&(this.state.downloadItems[n].totalBytes=e.totalBytes.current),e.filename&&e.filename.current!==e.filename.previous&&(this.state.downloadItems[n].filename=e.filename.current,i.downloads.getFileIcon(r.id,{size:32},t.bind(r))),e.danger&&e.danger.current!==e.danger.previous&&(this.state.downloadItems[n].danger=e.danger.current,i.downloads.acceptDanger(r.id));break}}this.setState({downloadItems:this.state.downloadItems}),this.startPollingIfProgress()},onTransferErased:function(e){for(var t=0;t<this.state.downloadItems.length;t++){var n=this.state.downloadItems[t];if(n.id===e){this.state.downloadItems.splice(t,1);break}}this.setState({downloadItems:this.state.downloadItems})},onDetermineFileName:function(e,t){function n(e,n){t({filename:e,conflictAction:n})}n(e.filename,"uniquify")},stopSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&i.downloads.pause(e.id)})},resumeSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&i.downloads.resume(e.id)})},restartSelected:function(){this.state.downloadItems.forEach(function(e){if(e.isSelected){var t={url:e.url};i.downloads.erase({id:e.id}),i.downloads.download(t,function(e){console.log("undefined"==typeof e?i.runtime.lastError.message:"download restarted : "+e)})}})},showSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&i.downloads.show(e.id)})},openSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&i.downloads.open(e.id)})},removeSelected:function(e){this.state.downloadItems.forEach(function(t){(t.isSelected||e===!0)&&("in_progress"!==t.state||"in_progress"===t.state&&t.paused)&&(i.downloads.erase({id:t.id}),t=null),this.setActive(t)}.bind(this))},removeSelectedHandler:function(){this.removeSelected()},removeAllHandler:function(){this.removeSelected(!0)},doSelectionOnAll:function(e){this.state.downloadItems.forEach(function(t){t.isSelected=e}),this.setState({downloadItems:this.state.downloadItems})},setActive:function(e){this.setState({activeItem:e})},doRemoveSelected:function(){this.removeSelected()},doSelectItemRelativeToActive:function(e,t){if(this.state.activeItem)for(var n=0;n<this.state.downloadItems.length;n++){var i=this.state.downloadItems[n];if(i===this.state.activeItem&&n+e>=0&&n+e<this.state.downloadItems.length){t||this.doSelectionOnAll(!1),this.setActive(this.state.downloadItems[n+e]),this.state.activeItem.isSelected=!this.state.activeItem.isSelected,this.setState({downloadItems:this.state.downloadItems});break}}},startPollingIfProgress:function(){-1!==this.pollTimer&&clearTimeout(this.pollTimer),this.pollTimer=setTimeout(this.pollProgress,s)},pollProgress:function(){var e=0,t=0,n=0;i.downloads.search({state:"in_progress"},function(i){e=i.length,i.map(function(e){t+=e.totalBytes,n+=e.bytesReceived;var i={state:{current:""},paused:{current:""},canResume:{current:""},totalBytes:{current:0},bytesReceived:{current:0}};i.id=e.id,i.state.current=e.state,i.paused.current=e.paused,i.canResume.current=e.canResume,i.totalBytes.current=e.totalBytes,i.bytesReceived.current=e.bytesReceived,this.onTransferChanged(i)}.bind(this)),this.props.onTransfersUpdated(e,Math.floor(n/t*100))}.bind(this)),this.updateActiveProgressState()},render:function(){if(!this.props.open)return null;var e=this.state.downloadItems.map(function(e){return n.createElement(a,{key:e.id,item:e,showDownloadsContextMenu:this.showDownloadsContextMenu,doSelectionOnAll:this.doSelectionOnAll,setActive:this.setActive,setKeyboardBindings:this.setKeyboardBindings,releaseKeyboardBindings:this.releaseKeyboardBindings})}.bind(this));return n.createElement("div",{className:"panel",id:"downloads"},n.createElement("header",null,n.createElement("h1",null,o("Downloads"))),n.createElement("div",{className:"toolbar icons"},n.createElement("input",{type:"search",placeholder:o("Search...")}),n.createElement("span",null,this.state.hasPausedTransfersSelected?n.createElement("button",{className:"button-toolbar dlresume",title:o("Resume"),onClick:this.resumeSelected},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 13l-6 5V8l6 5z" />\n</svg>'}})):n.createElement("button",{className:"button-toolbar dlstop",title:o("Stop"),disabled:!this.state.hasActiveTransfersSelected,onClick:this.stopSelected},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 9h8v8H9z"/>\n</svg>'}})),n.createElement("button",{className:"button-toolbar dlrestart",title:o("Restart"),disabled:!this.state.activeItem,onClick:this.restartSelected},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n      <path d="M13 6c-3.866 0-7 3.133-7 7h2c0-2.758 2.243-5 5-5s5 2.242 5 5c0 2.757-2.243 5-5 5-1.61 0-3.03-.78-3.946-1.966H6.7C7.83 18.378 10.222 20 13 20c3.866 0 7-3.135 7-7 0-3.867-3.134-7-7-7"/>\n      <path d="M13 13H6V6l7 7z"/>\n    <path d="M12 11h2v4h-2z"/>\n</svg>'}})),n.createElement("button",{className:"button-toolbar note-delete",title:o("Delete"),disabled:!this.state.activeItem,onClick:this.removeSelectedHandler},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\r\n    <path d="M9 14h8v-2H9v2z" />\r\n</svg>'}})),n.createElement("button",{className:"button-toolbar dlclear",title:o("Clear All Downloads"),disabled:0===this.state.downloadItems.length,onClick:this.removeAllHandler},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16.85 9.42c.82-.773 2.152-1.316 2.76-2.194.668-.962.38-2.255-.636-2.886-1.02-.63-2.385-.36-3.055.603-.63.91-.6 2.348-1.073 3.377-.612 1.33-2.66 1.495-5.014.335-1.293 2.37-3.05 4.91-4.833 6.977l1.694 1.05c.76-.124 1.706-.75 2.09-1.435-.03.824-.358 1.554-1 2.108l3.2 1.976c.408-.383.788-.688 1.21-.95-.24.455-.4.936-.472 1.407l1.894 1.172c1.123-2.04 3.306-5.19 4.832-6.978-2.11-1.606-2.737-3.488-1.598-4.56zm1.32-3.917c.34.21.433.642.21.962-.22.322-.678.41-1.016.2-.34-.21-.435-.64-.213-.96.223-.322.68-.412 1.02-.202zm-2.964 10.625L9.05 12.323l1.21-1.745 6.152 3.806-1.206 1.744z" />\n</svg>'}})))),n.createElement("section",null,n.createElement("ul",null,e)))}});t.exports=l},{}],366:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(302),r=e(285),o=e(501),a=e(106),s="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",l=150,c={isInternalDragging:void 0,anchor:void 0,positions:void 0,elements:void 0,elementsInitialOrder:void 0,sourceElement:void 0,dragFrom:void 0,dragTo:void 0,dragOver:void 0,dragLeftOf:void 0},u=i.createClass({displayName:"Draggable",getInitialState:function(){return{dragging:!1,dragOver:!1,dragBefore:!1,dragAfter:!1}},getDefaultProps:function(){return{dragId:"",dragType:"text/x-vivaldi-drag"}},shouldComponentUpdate:function(){return this.state.dragging===!1},setDragging:function(e){this.props.setDragging&&this.props.setDragging(e)},onDragStart:function(e){this.setDragging(!0),c.isInternalDragging=!0,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData(this.props.dragType,this.props.dragId),this.getDOMNode().style.zIndex="100";var t=new Image;t.src=s,e.dataTransfer.setDragImage(t,0,0);var n=new window.WebKitCSSMatrix(this.getDOMNode().style.transform);c.anchor={x:e.clientX-n.m41,y:e.clientY-n.m42},c.dragFrom=this.props.dragId,setTimeout(function(){this.isMounted()&&(this.getDOMNode().style.pointerEvents="none")}.bind(this),0),this.getDOMNode().parentNode.classList.add("dragging"),c.elements=[].slice.call(this.getDOMNode().parentNode.querySelectorAll("*[draggable]")),c.elementsInitialOrder=[].slice.call(c.elements),c.positions=c.elements.map(function(e){return{left:e.getBoundingClientRect().left,top:e.getBoundingClientRect().top}}),c.boundBox=c.elements.map(function(e){return e.getBoundingClientRect()}).reduce(function(e,t){return e.minX=Math.min(t.left,e.minX),e.maxX=Math.max(t.left+t.width,e.maxX),e.minY=Math.min(t.top,e.minY),e.maxY=Math.max(t.top+t.width,e.maxY),e},{minX:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY}),c.sourceElement=this.getDOMNode()},_isPointOutside:function(e,t){var n=window!==t.nativeEvent.view,i=t.clientY,r=e.getBoundingClientRect();return n||i<r.top||i>r.top+r.height},onDrag:function(e){var t=this.getDOMNode();if(0!==e.clientX||0!==e.clientY){var n={deltaX:"x"in t.dataset?parseInt(t.dataset.x):0,deltaY:"y"in t.dataset?parseInt(t.dataset.y):0},i={deltaX:e.clientX-c.anchor.x,deltaY:e.clientY-c.anchor.y};if(this.props.lockToBounds){var r=t.getBoundingClientRect();if(r.left+(i.deltaX-n.deltaX)<c.boundBox.minX)return;if(r.left+r.width+(i.deltaX-n.deltaX)>c.boundBox.maxX)return}t.dataset.x=i.deltaX,t.dataset.y=i.deltaY;var o=this._animationKeyframes(n,i);t.animate(o,{duration:0,fill:"forwards"})}},_animationKeyframes:function(e,t){var n,i;return"x"===this.props.axis?(n="translateX("+e.deltaX+"px)",i="translateX("+t.deltaX+"px)"):"y"===this.props.axis?(n="translateY("+e.deltaY+"px)",i="translateY("+t.deltaY+"px)"):(n="translate("+e.deltaX+"px, "+e.deltaY+"px)",i="translate("+t.deltaX+"px, "+t.deltaY+"px)"),[{transform:n},{transform:i}]},onDragOver:function(e){-1!==e.dataTransfer.types.indexOf(this.props.dragType)&&(e.preventDefault(),e.stopPropagation()),c.isInternalDragging&&this._handleInternalDragging(e)},onDrop:function(e){-1!==e.dataTransfer.types.indexOf(this.props.dragType)&&(e.preventDefault(),e.stopPropagation(),!c.isInternalDragging&&this.props.onDraggableMove&&this.props.onDraggableMove(e.dataTransfer.getData(this.props.dragType),this.props.dragId,{isOver:Boolean(this.state.dragOver),isLeftOf:Boolean(this.state.dragBefore)})),this.setState({dragBefore:!1,dragOver:!1,dragAfter:!1})},_handleExternalDragging:function(e){var t=this.getDOMNode().getBoundingClientRect(),n=e.clientX-t.left;n<.2*t.width?this.setState({dragBefore:!0,dragOver:!1,dragAfter:!1}):n>.8*t.width?this.setState({dragBefore:!1,dragOver:!1,dragAfter:!0}):n>.2*t.width&&n<.8*t.width&&this.setState({dragBefore:!1,dragOver:!0,dragAfter:!1})},_handleInternalDragging:function(e){var t=this.getDOMNode().getBoundingClientRect(),n=e.clientX-t.left;c.dragTo=this.props.dragId,n<.2*t.width||n>.8*t.width?this._setDragOver(!0):n>.2*t.width&&n<.8*t.width?(this._setDragOver(!1),this.switchElements(c.sourceElement,this.getDOMNode())):this._setDragOver(!1)},switchElements:function(e,t){var n=c.elements.indexOf(e),i=c.elements.indexOf(t);c.elements.splice(i,0,c.elements.splice(n,1)[0]),c.dragLeftOf=n>i,this.animateElementsToOrder(c.sourceElement)},animateElementsToOrder:function(e,t){t=void 0===t?l:t,c.elements.forEach(function(n,i){if(!e||n!==e){var r={deltaX:"x"in n.dataset?parseInt(n.dataset.x):0,deltaY:"y"in n.dataset?parseInt(n.dataset.y):0},o=n.getBoundingClientRect(),a="left"in n.dataset?parseInt(n.dataset.left):o.left,s="top"in n.dataset?parseInt(n.dataset.top):o.top;"startTop"in n.dataset&&"startLeft"in n.dataset||(n.dataset.startTop=o.top,n.dataset.startLeft=o.left);var l={deltaX:c.positions[i].left-a+r.deltaX,deltaY:c.positions[i].top-s+r.deltaY};if(n.dataset.x=l.deltaX,n.dataset.y=l.deltaY,r.deltaX!==l.deltaX||r.deltaY!==l.deltaY){n.style.pointerEvents="none",n.dataset.left=a+l.deltaX,n.dataset.top=s+l.deltaY;var u=this._animationKeyframes(r,l),h=n.animate(u,{duration:t,fill:"forwards"});h.onfinish=function(){n.style.pointerEvents="auto",delete n.dataset.left,delete n.dataset.top}}}},this)},onDragEnter:function(e){e.preventDefault(),e.stopPropagation()},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),this._setDragOver(!1),this.setState({dragBefore:!1,dragOver:!1,dragAfter:!1})},_setDragOver:function(e){c.dragOver=e,this.setState({dragOver:e})},onDragEnd:function(){c.isInternalDragging=!1,this.props.revertOnFinish?(c.elements=c.elementsInitialOrder,this.animateElementsToOrder(null,1)):this.animateElementsToOrder(null,50),this.getDOMNode().style.zIndex="0",this.getDOMNode().parentNode.classList.remove("dragging"),[].forEach.call(this.getDOMNode().parentNode.querySelectorAll("*[draggable]"),function(e){e.style.pointerEvents="auto",e.style.zIndex="0"}),"function"==typeof this.props.onDraggableMove&&"dragId"in this.props&&void 0!==c.dragFrom&&void 0!==c.dragTo&&this.props.onDraggableMove(c.dragFrom,c.dragTo,{isOver:Boolean(c.dragOver),isLeftOf:Boolean(c.dragLeftOf)}),this.setState({dragBefore:!1,dragOver:!1,dragAfter:!1}),this.setDragging(!1),c={}},render:function(){var e=this.props.className,t=o(this.props,"className"),s=a({dragover:this.state.dragOver,"drag-before":this.state.dragBefore&&!c.isInternalDragging,"drag-end":this.state.dragAfter&&!c.isInternalDragging});return e=r(e,s),i.createElement("div",n({},t,{className:e,draggable:"true",onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDrag:this.onDrag,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragEnd:this.onDragEnd}),this.props.children)}});t.exports=u},{}],367:[function(e,t){"use strict";var n=e(489),i=e(499),r=e(130),o=r.addons.CSSTransitionGroup,a=e(477),s=e(320),l=e(498),c=e(106),u=e(506),h=r.createClass({displayName:"FindInPage",getInitialState:function(){return this._getStateFromStores()},componentDidMount:function(){l.addChangeListener(this.onWebpageviewStoreChanged),n.addChangeListener(this.onMainStoreChanged),i.bind("esc",function(){this.onCloseClicked()}.bind(this),"keydown")},componentWillUnmount:function(){l.removeChangeListener(this.onWebpageviewStoreChanged),n.removeChangeListener(this.onMainStoreChanged),i.unbind("esc")},componentDidUpdate:function(){this.state.findInPageText.length>0&&this.showResults()},showResults:function(){this.refs.results&&(this.refs.results.getDOMNode().style.display="inline")},hideResults:function(){this.refs.results&&(this.refs.results.getDOMNode().style.display="none")},onMainStoreChanged:function(e){switch(e.action){case"currentTab":this.setState(this._getStateFromStores()),this.focusFindInPageInput()}},onWebpageviewStoreChanged:function(e){if(e.page===this.props.page)switch(e.type){case a.FIND_IN_PAGE_RESULT_ACTION:this.setState(this._getStateFromStores());break;case a.WEBPAGEVIEW_ACTIONS:"findInPage"===e.action?this.setState(this._getStateFromStores()):"findNextInPage"===e.action?this.onNextClicked():"findPreviousInPage"===e.action&&this.onPreviousClicked(),this.focusFindInPageInput();break;case a.CLOSE_FIND_IN_PAGE_ACTION:this.setState(this._getStateFromStores())}},onFocus:function(){i.bind(["return"],function(){this.onNextClicked()}.bind(this)),i.bind(["shift+return"],function(){this.onPreviousClicked()}.bind(this))},onBlur:function(){i.unbind(["return","shift+return"])},focusFindInPageInput:function(){var e=r.findDOMNode(this).getElementsByTagName("input");e.length>0&&(e[0].select(),e[0].focus())},_hasFindInPageText:function(){return this._getFindInPageText().length>0},_getFindInPageText:function(){var e=this.getDOMNode(),t=e.getElementsByTagName("input")[0];return t?t.value:""},onPreviousClicked:function(){var e=!0;this.props.onFindNextInPage(this._getFindInPageText(),e)},onNextClicked:function(){var e=!1;this.props.onFindNextInPage(this._getFindInPageText(),e)},onCloseClicked:function(){s.closeFindInPageToolbar(this.props.page)},onFindInPageTextChanged:function(){var e=this._getFindInPageText();this.state.findInPageText!==e&&(this.setState({findInPageText:e}),"function"==typeof this.props.onFindInPage&&this.props.onFindInPage(e),e.length>0?this.showResults():this.hideResults())},_getStateFromStores:function(){var e=l.getFindResultsForPage(this.props.page),t={activeMatchOrdinal:e.activeMatchOrdinal,numberOfMatches:e.numberOfMatches,findInPageText:e.searchText,isFindInPageToolbarOpen:e.isFindInPageToolbarOpen};return t},render:function(){var e,t={"find-in-page":!0,"fip-nomatches":0===this.state.numberOfMatches&&this.state.findInPageText.length>0},n={display:this.state.isFindInPageToolbarOpen===!0?"flex":"none"};return e=this.state.isFindInPageToolbarOpen===!0?r.createElement("div",{className:c(t),style:n},r.createElement("div",{className:"fip-input"},r.createElement("label",{htmlFor:"fip-input-text"},"Find in page:"),r.createElement("input",{ref:"inputText",id:"fip-input-text",type:"text",className:"mousetrap",onChange:this.onFindInPageTextChanged,onFocus:this.onFocus,defaultValue:this.state.findInPageText,onBlur:this.onBlur}),r.createElement("span",{ref:"results",className:"fip-results"},u("$1 of $2",[this.state.activeMatchOrdinal,this.state.numberOfMatches]))),r.createElement("div",{className:"fip-controls"},r.createElement("button",{className:"fip-previous",value:"previous",onClick:this.onPreviousClicked},r.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 13l8-6v12l-8-6z"/>\n</svg>'}})),r.createElement("button",{className:"fip-next",value:"next",onClick:this.onNextClicked},r.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n	<path d="M17 13L9 7v12l8-6z"/>\n</svg>'}})),r.createElement("button",{className:"fip-close",value:"close",onClick:this.onCloseClicked},r.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="-186 188 26 26">\n  <path d="M-168 197.4l-1.4-1.4-3.6 3.6-3.6-3.6-1.4 1.4 3.6 3.6-3.6 3.6 1.4 1.4 3.6-3.6 3.6 3.6 1.4-1.4-3.6-3.6"/>\n</svg>'}})))):null,r.createElement(o,{transitionName:"fipanimate"},e)}});t.exports=h},{}],368:[function(e,t){"use strict";var n=e(130),i=e(105),r="chrome://history-frame",o=n.createClass({displayName:"History",handlePostMessage:function(e){if(e.origin===r&&e.data){var t=e.data;this.props.page.set("url",t)}},onWebviewLoadstop:function(e){e.target.contentWindow.postMessage("requestURL","*")},onPageBlocked:function(e){e.preventDefault(),"new_foreground_tab"===e.windowOpenDisposition?i.tabs.create({url:e.targetUrl}):"new_window"===e.windowOpenDisposition&&i.windows.create({url:e.targetUrl})},componentDidMount:function(){window.addEventListener("message",this.handlePostMessage,!1);var e=n.findDOMNode(this).querySelector("webview");e.addEventListener("loadstop",this.onWebviewLoadstop),e.addEventListener("newwindow",this.onPageBlocked,!0)},componentWillUnmount:function(){window.removeEventListener("message",this.handlePostMessage);var e=n.findDOMNode(this).querySelector("webview");e&&(e.removeEventListener("loadstop",this.onWebviewLoadstop),e.removeEventListener("newwindow",this.onPageBlocked,!0),e.parentNode.removeChild(e))},render:function(){return n.createElement("div",{ref:"history",className:"history"},n.createElement("webview",{src:r}))}});t.exports=o},{}],369:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(500),o=e(506),a=e(106),s=4e3,l=n.createClass({displayName:"FullscreenInfoBubble",getInitialState:function(){return{hover:!1,contextOpen:!1,show:!0,hideTimeoutID:-1}},componentDidMount:function(){this.hideSelf()},startHover:function(){this.setState({hover:!0})},endHover:function(){this.setState({hover:!1})},showSelf:function(){-1!==this.timeoutID&&clearTimeout(this.timeoutID),this.setState({show:!0})},hideSelf:function(){var e=void 0===arguments[0]?s:arguments[0];-1!==this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout(this.setState.bind(this,{show:!1}),e)},alwaysHide:function(){i.set({SHOW_FULLSCREEN_BUBBLE:!1}),this.hideSelf()},onContextMenu:function(e){var t=this,n=[{name:o("Hide Fullscreen Reminder"),handler:this.hideSelf},{name:o("Never Show Fullscreen Reminder"),handler:this.alwaysHide}];r(n,function(){return t.setState({contextOpen:!0})},"pointer",function(){return t.setState({contextOpen:!1,hover:!1})})(e)},render:function(){var e=a({fullscreeninfobubble:!0,show:this.state.hover||this.state.contextOpen||this.state.show});return n.createElement("div",{onMouseEnter:this.startHover,onMouseLeave:this.endHover},n.createElement("div",{className:e,onContextMenu:this.onContextMenu,onClick:this.hideSelf.bind(this,0)},o("Vivaldi is showing in Fullscreen mode. Press F11 to exit.")))}});t.exports=l},{}],370:[function(e,t){"use strict";function n(e){return e.indexOf(",")>-1&&(e='"'+e+'"'),e}function i(e,t){var i="";return i+=e&&""!==e?""===t?n(e):n(e)+" <"+t+">":t}var r=function(e){return e&&(e.MAIL_EMAIL||e.MAIL_NAME)?i(e.MAIL_NAME,e.MAIL_EMAIL):e&&(e.name||e.address)?i(e.name,e.address):e?e:""},o=function(e){var t="";if(e)for(var n=0;n<e.length;n++)t&&(t+=", "),t+=r(e[n]);return t},a=function(e){return e instanceof Array?o(e):r(e)};t.exports=a},{}],371:[function(e,t){"use strict";var n=e(302),i=e(480).session,r=n.createClass({displayName:"MailPanel",gotoVivaldiNet:function(e){i.openURL("https://vivaldi.net/"),e.preventDefault()},render:function(){return n.createElement("div",{className:"panel",id:"mail_panel"},n.createElement("img",{className:"mailicon",src:"/resources/mail-soon.png",width:"205",height:"170"}),n.createElement("a",{href:"https://vivaldi.net",onClick:this.gotoVivaldiNet},n.createElement("img",{className:"antonio",src:"/resources/mailtext.png",width:"210",height:"310"})))}});t.exports=r},{}],372:[function(e,t){"use strict";t.exports=null},{}],373:[function(e,t){"use strict";var n=e(130),i=e(500),r=n.createClass({displayName:"BackgroundTaskStatus",getInitialState:function(){return{taskInfo:this.props.taskInfo}},render:function(){return n.createElement("div",null,n.createElement("span",{className:"button-toolbar-small",id:this.state.taskInfo.id,title:this.state.taskInfo.title+"\n"+this.state.taskInfo.description,style:this.state.taskInfo.style,onContextMenu:i(this.props.taskInfo.menuItems)}),n.createElement("span",{className:"button-toolbar-small"},this.state.taskInfo.text))}});t.exports=r},{}],374:[function(e,t){"use strict";var n=e(130),i=e(480),r=i.session,o=e(373),a=n.createClass({displayName:"BackgroundTaskStatusList",getInitialState:function(){return{backgroundTasks:[]}},setBackgroundTasks:function(e,t){this.setState({backgroundTasks:t})
},componentWillMount:function(){r.on("backgroundTasks",this.setBackgroundTasks)},componentWillUnmount:function(){r.off("backgroundTasks",this.setBackgroundTasks)},render:function(){var e=this.state.backgroundTasks.map(function(e){return n.createElement(o,{key:e.id,taskInfo:e})});return n.createElement("div",null,e)}});t.exports=a},{}],375:[function(e,t){"use strict";var n=e(130),i=e(480),r=i.session,o=n.createClass({displayName:"StatusInfo",getInitialState:function(){return{status_info:""}},setStatusInfo:function(e){this.setState({status_info:e})},componentWillMount:function(){r.on("status_info",this.setStatusInfo)},componentWillUnmount:function(){r.off("status_info",this.setStatusInfo)},render:function(){return n.createElement("div",{id:"status_info",className:"status_info"},n.createElement("span",null,this.state.status_info.toString()))}});t.exports=o},{}],376:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(323),r=e(326),o=e(381),a=e(369),s=e(361),l=e(489),c=e(345),u=e(386),h=e(391),d=e(480),p=e(392),f=e(314),m=e(377),g=e(130),v=e(433),E=e(455),b=e(460),_=e(397),y=e(398),S=e(318),C=e(470),w=e(477),k=e(509),A=e(385),I=e(475),N=e(476),T=e(375),O=e(374),D=e(506),M=e(105),x=e(106),P=e(480),L=P.session,R=e(482).urls,B={},F=g.createClass({displayName:"MainWindow",mixins:[o,r,A],vivaldiSettingsKeys:["ADDRESS_BAR_POSITION","BOOKMARK_BAR_DISPLAY","BOOKMARK_BAR_POSITION","BOOKMARK_BAR_VISIBLE","LINUX_ALT_CONTROLS","PANEL_POSITION","SHOW_FULLSCREEN_BUBBLE","SHOW_VIVALDI_FOOTER","TAB_POSITION","TAB_STACKING","USE_TABCOLOR","BROWSER_FG_COLOR","SHOW_ADDRESS_BAR","SHOW_TAB_BAR","SHOW_ADDRESS_BAR"],getInitialState:function(){var e=M.app.window.current();return{currentOS:"",startupDlg:null,currentActivePageZoomFactor:1,currentActiveWebView:null,currentWindowstate:e.isMaximized()?"maximized":"normal",previousWindowstate:null,hasFocus:!0,noVisualBlur:!1,mainDialogType:{key:null,func:null},showHorizontalVivaldiMenu:!0,importData:null,initialNativeView:!1,hasCreatedAddNotesMenuItem:!1,hasCreatedSetStartpageImageMenuItem:!1,currentPage:null}},toggleFullscreen:function(){var e=M.app.window.current();e.isFullscreen()?(this.state.currentActiveWebView&&this.state.currentActiveWebView.setIsFullscreen(!1),e.restore()):e.fullscreen()},showQuickCommand:function(){var e=g.addons.update(this.state,{mainDialogType:this.state.mainDialogType&&this.state.mainDialogType.key==w.MAIN_SHOW_QUICKCOMMANDS?{key:{$set:null},func:{$set:null}}:{key:{$set:w.MAIN_SHOW_QUICKCOMMANDS},func:{$set:this.showQuickCommand}}});return this.setState(e),!1},showShortcuts:function(){var e=g.addons.update(this.state,{mainDialogType:this.state.mainDialogType&&this.state.mainDialogType.key==w.MAIN_SHOW_KEYBOARDS_SHORTCUTS?{key:{$set:null},func:{$set:null}}:{key:{$set:w.MAIN_SHOW_KEYBOARDS_SHORTCUTS},func:{$set:this.showShortcuts}}});return this.setState(e),!1},toggleMenu:function(){this.setState({showHorizontalVivaldiMenu:!this.state.showHorizontalVivaldiMenu},function(){k.set({VIVALDI_MENU_POSITION:this.state.showHorizontalVivaldiMenu?"top":"vivaldi"})})},onUrlFieldKeyDown:function(){S.clearTooltip()},renderWebPage:function(e){var t=document.createElement("div");t.id="page-component-"+e.cid,g.findDOMNode(this.refs.webpagestack).appendChild(t),B[e.cid]=g.render(g.createElement(I,{id:e.cid,page:e,mainWindow:this,onUrlFieldKeyDown:this.onUrlFieldKeyDown}),t)},unmountWebPage:function(e){var t=g.findDOMNode(this).querySelector("#page-component-"+e.cid);g.unmountComponentAtNode(t),B={},g.findDOMNode(this.refs.webpagestack).removeChild(t)},componentWillMount:function(){l.addChangeListener(this._onMainStoreChanged),M.runtime.getPlatformInfo(function(e){this.setState({currentOS:e.os})}.bind(this)),k.get(["VIVALDI_MENU_POSITION","BROWSER_LANGUAGE"],function(e){var t="top"===e.VIVALDI_MENU_POSITION;if("mac"===this.state.currentOS&&(t=!1),this.setState({showHorizontalVivaldiMenu:t}),""===e.BROWSER_LANGUAGE){var n=M.i18n.getUILanguage();k.set({BROWSER_LANGUAGE:n})}}.bind(this)),k.get("CHECK_DEFAULT_BROWSER_STARTUP",function(e){e&&M.importData.isVivaldiDefaultBrowser(function(e){e===!1&&this.setState({startupDlg:g.findDOMNode(this.refs.webpageview)})})}),k.addListener("VIVALDI_MENU_POSITION",function(e,t){t&&this.setState({showHorizontalVivaldiMenu:"top"===t})}.bind(this)),k.get("USE_NATIVE_WINDOW_DECORATIONS",function(e){this.setState({initialNativeView:e})}.bind(this))},componentDidMount:function(){this.gestures=new u,this.gestures.attachEvents(g.findDOMNode(this)),g.findDOMNode(this).addEventListener("mousewheel",function(e){var t="mac"!==this.state.currentOS?e.ctrlKey:e.metaKey;t===!0&&this.state.currentActiveWebView&&this.state.currentPage&&!R.isInternalPage(this.state.currentPage)&&this.state.currentActiveWebView.getZoom(function(t){var n=Math.round(10*t)/10+(e.deltaY<0?.1:-.1);n>.2&&this.state.currentActiveWebView.setZoom(this.refs.zoomslider.rangeCheck(Math.round(10*n)/10))}.bind(this))}.bind(this)),window.addEventListener("load",function(){var e=M.app.window.current();e?e.show():console.warn("Couldnt show hidden application window because of missing current window.")}),this._attachEvents();var e=M.app.window.current();e.onMaximized.addListener(this.onMaximized),e.onFullscreened.addListener(this.onFullscreened),e.onRestored.addListener(this.onRestored),window.addEventListener("focus",this.onFocus),window.addEventListener("blur",this.onBlur)},componentWillUnmount:function(){l.removeChangeListener(this._onMainStoreChanged),k.removeListener("BROWSER_LANGUAGE"),k.removeListener("CHECK_DEFAULT_BROWSER_STARTUP"),k.removeListener("VIVALDI_MENU_POSITION")},_onMainStoreChanged:function(e){"fullscreen"===e.action?this.toggleFullscreen():"quickcommand"===e.action?this.showQuickCommand():"importData"===e.action?this.showImportData():e.type===w.MAIN_SHOW_KEYBOARDS_SHORTCUTS?this.showShortcuts():e.type===w.MAIN_ZOOM_IN?this.doActionZoomIn():e.type===w.MAIN_ZOOM_OUT?this.doActionZoomOut():e.type===w.MAIN_ZOOM_HALF?this.doActionZoomHalf():e.type===w.MAIN_ZOOM_DOUBLE?this.doActionZoomDouble():e.type===w.MAIN_ZOOM_RESET?this.doActionZoomReset():e.type===w.MAIN_TOGGLE_TAB_BAR?this.toggleTabBar():e.type===w.MAIN_TOGGLE_ADDRESS_BAR&&this.toggleAddressBar()},_attachEvents:function(){L.on("add",function(e){e.isTrashed()||this.renderWebPage(e)},this),L.on("remove",function(e){e.isTrashed()||this.unmountWebPage(e)},this),L.on("change:status",function(e){e.isTrashed()&&e.previous("status")!==d.Status.Trashed?this.unmountWebPage(e):e.isTrashed()||e.previous("status")!==d.Status.Trashed||this.renderWebPage(e)},this),L.on("change:url",function(e){e.has("url")&&-1===e.get("url").indexOf("components/startpage/startpage.html")&&document.body.firstChild.classList.contains("is-startpage")&&this.forceUpdate()},this)},onMaximized:function(){"maximized"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"maximized"}))},onFullscreened:function(){"fullscreen"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"fullscreen"}))},onClosed:function(){"closed"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"closed"}))},onRestored:function(){var e=M.app.window.current();if(e.isMaximized())return void this.onMaximized();if(!e.isMinimized())return e.isFullscreen()?void this.onFullscreened():void(("fullscreen"!==this.state.currentWindowstate||"normal"===this.state.previousWindowstate)&&"normal"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"normal"})))},maybeFocusLastActiveElement:function(){this._lastActiveElement&&("BODY"===this._lastActiveElement.tagName?this.state.currentPage&&this.state.currentPage.get("webPage").updateFocus(this.state.currentPage):(this._lastActiveElement.focus(),this._lastActiveElement=null))},onFocus:function(){this.maybeFocusLastActiveElement(),this.state.noVisualBlur&&this.setState({noVisualBlur:!1}),this.setState({hasFocus:!0})},onBlur:function(){this._lastActiveElement=document.activeElement,this.state.noVisualBlur||this.setState({hasFocus:!1})},noVisualBlur:function(){this.setState({noVisualBlur:!0})},onHTMLFullscreen:function(e){e.enterFullscreen&&this.setState({currentWindowstate:"fullscreen inner"})},onExtIdStateChanged:function(e){this.refs.imagetoggle.onWebviewPageIDChanged(e)},onCurrentActiveWebViewChanged:function(e,t){var n=e;this.state.currentActiveWebView&&(this.state.currentActiveWebView.removeEventListener("zoomchange"),this.state.currentActiveWebView.removeEventListener("fullscreen")),n&&(n.addEventListener("zoomchange",this.onActivePageZoomUpdated),n.addEventListener("fullscreen",this.onHTMLFullscreen),n.getZoom(function(e){var t={newZoomFactor:e};this.onActivePageZoomUpdated(t)}.bind(this))),this.refs.imagetoggle.onActiveWebviewChanged(n),this.setState({currentActiveWebView:n,currentPage:t},function(){B[this.state.currentPage.cid]&&B[this.state.currentPage.cid].refs.page.updateFocus()}.bind(this));var i=function(e){M.notes.create({type:"note",content:e.selectionText,url:e.pageUrl})},r=function(e){var t=new XMLHttpRequest,n=new FileReader;t.open("GET",e.srcUrl,!0),t.responseType="blob",t.addEventListener("load",function(){200===t.status&&(n.onload=function(e){k.set({STARTPAGE_IMAGE_USER_DEFINED:e.target.result,STARTPAGE_IMAGE:"user_defined",STARTPAGE_SHOW_IMAGE:!0})},n.readAsDataURL(t.response))},!1),t.send()};this.state.hasCreatedAddNotesMenuItem===!1&&n&&n&&n.contextMenus&&"function"==typeof n.contextMenus.create&&n.contextMenus.create({title:D("Add selection as new Note"),contexts:["selection"],onclick:i},function(){M.runtime.lastError?console.log("contextMenus.create failed: "+M.runtime.lastError):this.setState({hasCreatedAddNotesMenuItem:!0})}.bind(this)),this.state.hasCreatedSetStartpageImageMenuItem===!1&&n&&n&&n.contextMenus&&"function"==typeof n.contextMenus.create&&n.contextMenus.create({title:D("Use Image as Startpage Background"),contexts:["image"],onclick:r},function(){M.runtime.lastError?console.log("contextMenus.create failed: "+M.runtime.lastError):this.setState({hasCreatedSetStartpageImageMenuItem:!0})}.bind(this))},onActivePageZoomUpdated:function(e){this.setState({currentActivePageZoom:e.newZoomFactor}),this.refs.zoomslider.setZoomValue(e.newZoomFactor)},handleDoubleClick:function(){M.app.window.current().isFullscreen()?this.toggleFullscreen():M.app.window.current().isMaximized()?M.app.window.current().restore():"mac"===this.state.currentOS?this.toggleFullscreen():M.app.window.current().maximize()},closeImportData:function(){this.setState({importData:null})},showImportData:function(){this.setState({importData:g.findDOMNode(this.refs.webpageview)})},doActionZoomIn:function(){this.refs.zoomslider.zoomInStep()},doActionZoomOut:function(){this.refs.zoomslider.zoomOutStep()},doActionZoomHalf:function(){this.refs.zoomslider.zoomHalf()},doActionZoomDouble:function(){this.refs.zoomslider.zoomDouble()},doActionZoomReset:function(){this.refs.zoomslider.resetZoom()},panelToggle:function(){f.togglePanelVisibility()},getBrowserClasses:function(){var e,t=(e={},n(e,this.state.BROWSER_FG_COLOR,!0),n(e,"ui-tabcolor-on",this.state.USE_TABCOLOR),n(e,"ui-tabcolor-off",!this.state.USE_TABCOLOR),n(e,"hasfocus",this.state.hasFocus),n(e,"isblurred",!this.state.hasFocus),n(e,"alt",this.state.LINUX_ALT_CONTROLS),n(e,"native",this.state.initialNativeView),n(e,this.state.currentOS,!0),n(e,"win10",window.navigator.appVersion.indexOf("Windows NT 10")>0?!0:!1),e);if(t["address-"+(this.state.SHOW_ADDRESS_BAR?this.state.ADDRESS_BAR_POSITION:"off")]=!0,t["tabs-"+(this.state.SHOW_TAB_BAR?this.state.TAB_POSITION:"off")]=!0,t["stacks-"+this.state.TAB_STACKING]=!0,t[this.state.currentWindowstate]=!0,t["bookmark-bar-"+(this.state.BOOKMARK_BAR_VISIBLE?this.state.BOOKMARK_BAR_POSITION:"off")]=!0,this.state.currentPage&&this.state.currentPage.attributes&&"string"==typeof this.state.currentPage.attributes.url){var i=this.state.currentPage.attributes.url;R.isStartPage(i)?t["is-startpage"]=!0:R.isMailPage(i)&&(t["is-mail"]=!0)}return x(t)},getFooterClasses:function(){var e={footer:!0,disabled:!this.state.SHOW_VIVALDI_FOOTER};return x(e)},closeDialog:function(){this.setState({startupDlg:null})},toggleTabBar:function(){k.set({SHOW_TAB_BAR:!this.state.SHOW_TAB_BAR})},toggleAddressBar:function(){k.set({SHOW_ADDRESS_BAR:!this.state.SHOW_ADDRESS_BAR})},render:function(){var e=this.state.currentPage?"tile-"+this.state.currentPage.attributes.tiling.layout:"tile-none",t=this.getBrowserClasses(),n=this.getFooterClasses(),r=this.state.currentPage?R.isInternalPage(this.state.currentPage):!1;return g.createElement("div",{id:"browser",ref:"browser",className:t,onContextMenu:this.onContextMenu},g.createElement("div",{id:"header",onDoubleClick:this.handleDoubleClick,className:!this.state.USE_TABCOLOR||"top"===this.state.TAB_POSITION&&this.state.SHOW_TAB_BAR?null:"favicon-current-background-color"},g.createElement(b,{currentWindowstate:this.state.currentWindowstate,currentOS:this.state.currentOS,tabPosition:this.state.SHOW_TAB_BAR?this.state.TAB_POSITION:"none",onNoVisualBlur:this.noVisualBlur}),this.state.showHorizontalVivaldiMenu&&g.createElement("div",{className:"topmenu"},g.createElement(c,null)),this.state.SHOW_TAB_BAR&&"top"===this.state.TAB_POSITION&&g.createElement(E,{ref:"tabBar",tabPosition:this.state.TAB_POSITION}),!this.state.SHOW_TAB_BAR&&g.createElement(E,{ref:"tabBar",tabPosition:"none"})),g.createElement("div",{id:"main",className:this.state.PANEL_POSITION},!0&&g.createElement(C,{id:this.state.currentPage?this.state.currentPage.cid:-1,page:this.state.currentPage?this.state.currentPage:null,mainWindow:this,onUrlFieldKeyDown:this.onUrlFieldKeyDown,currentOS:this.state.currentOS}),this.state.BOOKMARK_BAR_VISIBLE===!0&&g.createElement(i,{useTabColor:this.state.USE_TABCOLOR,display:this.state.BOOKMARK_BAR_DISPLAY}),g.createElement("div",{className:"inner"},this.state.SHOW_TAB_BAR&&"left"===this.state.TAB_POSITION&&g.createElement(E,{ref:"tabbar",tabPosition:this.state.TAB_POSITION}),this.state.startupDlg&&g.createElement(v,{parentDiv:this.state.startupDlg,onClose:this.closeDialog}),this.state.importData&&g.createElement(s,{dialogParentElement:this.state.importData,onClose:this.closeImportData,ref:"import"}),g.createElement(p,{key:"panel",position:this.state.PANEL_POSITION,currentWebView:this.state.currentActiveWebView}),g.createElement("div",{ref:"webpageview",id:"webview-container"},g.createElement("div",{id:"webpage-stack",ref:"webpagestack"})),"fullscreen"==this.state.currentWindowstate&&this.state.SHOW_FULLSCREEN_BUBBLE&&"mac"!==this.state.currentOS&&g.createElement(a,{ref:"fullscreenbubble"}),this.state.SHOW_TAB_BAR&&"right"===this.state.TAB_POSITION&&g.createElement(E,{ref:"tabBar",tabPosition:this.state.TAB_POSITION})),this.state.SHOW_TAB_BAR&&"bottom"===this.state.TAB_POSITION&&g.createElement(E,{ref:"tabBar",tabPosition:this.state.TAB_POSITION})),g.createElement("div",{id:"footer",className:n},g.createElement(T,{ref:"statusinfo"}),g.createElement(O,null),g.createElement("button",{className:"paneltogglefooter button-toolbar-small",title:D("Show panel"),onClick:this.panelToggle},g.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-191 193 16 16">\n  <path d="M-175 195v12h-16v-12h16zm-10 10v-8h-4v8h4z"/>\n</svg>'}})),this.state.currentPage&&g.createElement(y,{ref:"tilingtoggle",className:e,page:this.state.currentPage}),g.createElement(_,{ref:"imagetoggle",currentWebView:this.state.currentActiveWebView,disabled:r}),g.createElement(h,{currentWebView:this.state.currentActiveWebView,disabled:r}),g.createElement("div",{id:"zoom_control"},g.createElement(N,{ref:"zoomslider",currentZoom:this.state.currentActivePageZoom,currentWebView:this.state.currentActiveWebView,disabled:r,buttonClass:"button-toolbar-small"})),g.createElement("img",{src:"#",style:{flex:0,overflow:"hidden"}})),this.state.mainDialogType&&this.state.mainDialogType.key&&g.createElement(m,{onClose:this.state.mainDialogType.func,dialog:this.state.mainDialogType.key}))}});t.exports=F},{}],377:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(130),r=e(477),o=e(363),a=e(415),s=e(358),l=i.createClass({displayName:"MainDialog",getInitialState:function(){return{shown:!0}},componentWillReceiveProps:function(){this.setState({shown:!0})},handleClick:function(){this.state.shown&&this.props.onClose(function(){this.setState({shown:!this.state.shown})}.bind(this))},getLayeredComponentRootNode:function(){return this.props.parentDiv},startImport:function(){},render:function(){return this.state.shown?i.createElement(s,{onRequestClose:this.handleClick,ignoreEscape:!0,viewMode:"float"},this.props.dialog==r.MAIN_SHOW_QUICKCOMMANDS&&i.createElement(a,n({key:r.MAIN_SHOW_QUICKCOMMANDS},this.props)),this.props.dialog==r.MAIN_SHOW_KEYBOARDS_SHORTCUTS&&i.createElement(o,n({key:r.MAIN_SHOW_QUICKCOMMANDS},this.props))):null}});t.exports=l},{}],378:[function(e,t){"use strict";var n=e(130),i=e(105),r=e(421),o=e(460),a=e(326),s=e(509),l=e(385),c=e(106),u=n.createClass({displayName:"PopupWindow",mixins:[a,l],vivaldiSettingsKeys:["LINUX_ALT_CONTROLS"],getInitialState:function(){var e=i.app.window.current();return{currentOS:"",currentWindowstate:e.isMaximized()?"maximized":"normal",hasFocus:!0,initialNativeView:!1}},componentWillMount:function(){var e=this,t=i.app.window.current();t.onMaximized.addListener(this.onMaximized),t.onFullscreened.addListener(this.onFullscreened),t.onRestored.addListener(this.onRestored),window.addEventListener("focus",this.onFocus),window.addEventListener("blur",this.onBlur),i.runtime.getPlatformInfo(function(e){this.setState({currentOS:e.os})}.bind(this)),s.get("USE_NATIVE_WINDOW_DECORATIONS",function(t){e.setState({initialNativeView:t})})},onMaximized:function(){this.setState({currentWindowstate:"maximized"})},onFullscreened:function(){this.setState({currentWindowstate:"fullscreen"})},onRestored:function(){var e=i.app.window.current();this.setState({currentWindowstate:e.isMaximized()?"maximized":"normal"})},onFocus:function(){this.setState({hasFocus:!0})},onBlur:function(){this.setState({hasFocus:!1})},componentDidMount:function(){window.addEventListener("load",function(){var e=i.app.window.current();e?e.show():console.warn("Couldn't show hidden application window because missing current window")}.bind(this))},render:function(){var e={popup:!0,"ui-light":!0,"ui-tabcolor-on":!0,hasfocus:this.state.hasFocus,isblurred:!this.state.hasFocus,"native":this.state.initialNativeView,alt:this.state.LINUX_ALT_CONTROLS,win10:window.navigator.appVersion.indexOf("Windows NT 10")>0?!0:!1};return e[this.state.currentOS]=!0,e[this.state.currentWindowstate]=!0,e["is-settingspage"]=!0,n.createElement("div",{id:"browser",className:c(e),onContextMenu:this.onContextMenu},n.createElement("div",{id:"header",onDoubleClick:this.handleDoubleClick,className:"favicon-current-background-color"},n.createElement(o,{currentWindowstate:this.state.currentWindowstate,currentOS:this.state.currentOS,tabPosition:"top",onNoVisualBlur:function(){}})),n.createElement("div",{className:"webpageview"},n.createElement("div",{className:"webpageview_content"},n.createElement(r,null))))}});t.exports=u},{}],379:[function(e,t){"use strict";var n=e(92),i=e(303),r={getInitialState:function(){return this.getBackboneState(this.props)},componentDidMount:function(){if(!i.isFunction(this.getBackboneState))throw new Error("You must provide getBackboneState(props).");this._bindBackboneEvents(this.props)},componentWillReceiveProps:function(e){this._unbindBackboneEvents(),this._bindBackboneEvents(e)},componentWillUnmount:function(){this._unbindBackboneEvents()},_updateBackboneState:function(){var e=this.getBackboneState(this.props);this.setState(e)},_bindBackboneEvents:function(e){if(i.isFunction(this.watchBackboneProps)){if(this._backboneListener)throw new Error("Listener already exists.");if(!e)throw new Error("Passed props are empty");var t=i.extend({},n.Events),r=i.partial(t.listenTo.bind(t),i,i,this._updateBackboneState);this.watchBackboneProps(e,r),this._backboneListener=t}},_unbindBackboneEvents:function(){if(i.isFunction(this.watchBackboneProps)){if(!this._backboneListener)throw new Error("Listener does not exist.");"undefined"!=typeof this._backboneListener.stopListening&&this._backboneListener.stopListening(),delete this._backboneListener}}};t.exports=r},{}],380:[function(e,t){"use strict";var n=e(105),i=e(480).session,r={openInNewTab:function(e,t){n.runtime.sendMessage({action:"openBookmark",bookmark:e,windowId:i.windowId,incurrent:!1,inbackground:t})},openInCurrentTab:function(e){n.runtime.sendMessage({action:"openBookmark",bookmark:e,windowId:i.windowId,incurrent:!0,inbackground:!1})},openInNewWindow:function(e,t){n.runtime.sendMessage({action:"openBookmark",bookmark:e,windowId:i.windowId,inNewWindow:!0,inbackground:t})},getBookmark:function(e,t){"function"==typeof t&&n.bookmarks.get(e,function(e){t(e[0])})},onDelete:function(){var e=this.state.selectionModel.selectedIds;if(-1!=e){var t=this;e.map(function(e){n.bookmarks.get(e.id,function(e){var n=e&&1===e.length?e[0]:null;t.deleteBookmarkObj(n)})})}},deleteBookmarkObj:function(e){var t=e.children&&e.children.length>0||void 0===e.url,i=this.selectNextItemAfterDelete(e.id,t);t?n.bookmarks.removeTree(e.id):n.bookmarks.remove(e.id),this.selectById(i)},isPageBookmarked:function(e,t){return e?void n.bookmarks.search({url:e},function(e){var n=e&&e.length>0?!0:!1,i={bookmarked:n};n&&(i.bookmarkObj=e[0]),t(i)}.bind(this)):void t({bookmarked:!1})}};t.exports=r},{}],381:[function(e,t){"use strict";var n="a[href], area[href], input:not([disabled]), select:not([disabled]), option:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",i=function(e){if(!e.srcElement.matches(n)){for(var t=e.target;t!==document.body;){if(t.draggable){var i=document.activeElement,r=function o(){this.removeEventListener("mouseup",o),this.removeEventListener("dragend",o),document.activeElement===document.body&&i.focus()};return t.addEventListener("mouseup",r),void t.addEventListener("dragend",r)}t=t.parentElement}e.preventDefault()}},r={componentDidMount:function(){document.body.addEventListener("mousedown",i)}};t.exports=r},{}],382:[function(e,t){"use strict";function n(e,t){return e?i(e,t):!1}var i=function o(e,t){for(var n=t.children,i=!1,r=0;r<n.length;r++){if(n[r]===e)return!0;if(o(e,n[r])){i=!0;break}}return i},r={onFocusout:function(e){var t=this.getDOMNode(),i=e.relatedTarget;i&&n(i,t)||"function"==typeof this.componentLostFocus&&this.componentLostFocus()}};t.exports=r},{}],383:[function(e,t){"use strict";var n=e(302),i={componentWillUnmount:function(){this._unrenderLayer(),this._layeredRootElement.removeChild(this._target)},componentDidUpdate:function(){this._renderLayer()},componentDidMount:function(){this._target=document.createElement("div"),this._layeredRootElement="function"==typeof this.getLayeredComponentRootNode?this.getLayeredComponentRootNode():document.body,this._layeredRootElement.appendChild(this._target),this._renderLayer()},_renderLayer:function(){n.render(this.renderLayer(),this._target)},_unrenderLayer:function(){n.unmountComponentAtNode(this._target)}};t.exports=i},{}],384:[function(e,t){"use strict";var n=e(499),i=e(509),r=e(280);t.exports={componentWillMount:function(){r("function"==typeof this.getShortcuts,"%s is using the ShortCutMixin for listening to keyboard events, but getShortcuts() method is missing or is not a function",this.constructor.displayName);var e=this.getShortcuts();Object.keys(e).forEach(function(t){i.get(t,function(r){var o=e[t];n.bind(r,o),i.addListener(t,function(e,t){n.unbind(e),n.bind(t,o)})})})},componentWillUnmount:function(){Object.keys(this.getShortcuts()).forEach(function(e){i.get(e,function(t){n.unbind(t),i.removeListener(e)})})}}},{}],385:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(509),r={getInitialState:function(){return{}},componentWillMount:function(){i.get(this.vivaldiSettingsKeys,this.setState.bind(this))},componentDidMount:function(){var e=this;this.vivaldiSettingsKeys.forEach(function(t){return i.addListener(t,e._vivaldiSettingHandler)})},componentWillUnmount:function(){var e=this;this.vivaldiSettingsKeys.forEach(function(t){return i.removeListener(t,e._vivaldiSettingHandler)})},_vivaldiSettingHandler:function(e,t,i){e!==t&&this.state[i]!==t&&this.setState(n({},i,t))}};t.exports=r},{}],386:[function(e,t){"use strict";function n(e){return"Alt"===e.keyIdentifier||"U+00A4"===e.keyIdentifier}function i(){function e(e,t){var n=Math.atan2(t,e)+w/2;0>n&&(n+=2*Math.PI);var i=Math.floor(n/(2*Math.PI)*100);S.push(y[i])}function t(e,t){var n=Math.abs(e-t);return n>4&&(n=8-n),n}function i(e,t,n){for(var i=new Array(e),r=0;e>r;r++){i[r]=new Array(t);for(var o=0;t>o;o++)i[r][o]=n}return i}function l(e,n){if(-1==e[0])return 0===n.length?0:1e5;var r,o,a=i(e.length+1,n.length+1,0),s=a.slice();for(r=1;r<=e.length;r++)for(o=1;o<n.length;o++)a[r][o]=t(e[r-1],n[o-1]);for(o=1;o<=n.length;o++)s[0][o]=1e5;for(r=1;r<=e.length;r++)s[r][0]=1e5;s[0][0]=0;var l,c,u,h=0;for(r=1;r<=e.length;r++)for(o=1;o<n.length;o++)h=a[r][o],l=s[r-1][o]+h,c=s[r][o-1]+h,u=s[r-1][o-1]+h,s[r][o]=Math.min(Math.min(l,c),u);return s[r-1][o-1]}function c(){a.get("MOUSE_GESTURES_ENABLED",function(e){e===!0||e===!1?d=e:(console.warn("MOUSE_GESTURES_ENABLED must be either 'true' or 'false'."),d=!1)}.bind(this));var e={preferenceKey:"mousegestures_enabled",preferenceValue:{"boolean":d},preferenceType:"boolean"};s.settings.setPreference(e)}function u(){s.settings.getPreference(function(e){for(var t=0;t<e.length;t++)"mousegestures_enabled"===e[t].preferenceKey&&(d=e[t].preferenceValue.boolean)})}var h,d=!1,p=!1,f=!1,m=[],g=!1,v=!1,E=!1,b=0,_=5,y=[],S=[],C=2*Math.PI/100,w=2*Math.PI/8;this.init=function(){u(),a.addListener("MOUSE_GESTURES_ENABLED",c);var e;for(e=-w/2;e<=2*Math.PI-w/2;e+=C)h=Math.floor((e+w/2)/w),y.push(h)},this.attachEvents=function(){document.addEventListener("keydown",this.onMouseDown,!0),document.addEventListener("keyup",this.onMouseUp,!0),document.addEventListener("mousedown",this.onMouseDown,!0),document.addEventListener("mouseup",this.onMouseUp,!0),document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mousewheel",this.onMouseWheel,!0),document.addEventListener("contextmenu",this.onContextMenu,!0)},this.detachEvents=function(){document.removeEventListener("keydown",this.onMouseDown),document.removeEventListener("keyup",this.onMouseUp),document.removeEventlistener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mousewheel",this.onMouseWheel),document.removeEventListener("contextmenu",this.onContextMenu)},this.init(),this.onContextMenu=function(e){(p||E)&&(e.stopPropagation(),e.preventDefault(),p=!1,E=!1)},this.onMouseDown=function(e){if(d&&!f&&(2===e.button||n(e))){var t=o.getPageFromWebView(e.target),i=t&&t.get("webPage"),r=t&&t.url();E=!1,i&&i.targetUrl&&(m.url=i.targetUrl),r&&(m.source_url=r),"mousedown"===e.type?(g=e.x,v=e.y):g=v=!1,f=!0}},this.onMouseUp=function(e){if((d||E)&&(2===e.button||n(e)))if(f=!1,E)e.preventDefault(),e.stopPropagation(),m=[],S=[],g=v=!1;else if(S.length>0){e.preventDefault(),e.stopPropagation();var t,i,o,a=1e5,s=r.getCommandsGestures();for(var c in s)s.hasOwnProperty(c)&&(i=c.split(""),o=l(i,S),a>o&&10>o&&(a=o,t=c));t&&(s[t].function(null,m),p=!0),m=[],S=[],g=v=!1}},this.onMouseMove=function(t){if(d&&f===!0){if(g===!1)return g=t.x,void(v=t.y);var n=t.x-g,i=t.y-v,r=n*n+i*i,o=_*_;r>o&&(g=t.x,v=t.y,e(n,i))}},this.onMouseWheel=function(e){if(!(e.timeStamp-b<250)){var t=!1;for(var n in e.path)if(e.path.hasOwnProperty(n)&&"tabs-container"===e.path[n].id){t=!0;break}if(2===e.buttons||e.altKey||t){e.preventDefault(),e.stopPropagation();var i=e.deltaY;if(Math.abs(i)>=25&&(i/=25),Math.abs(i)<2)return;var o,a=r.getCommands();o=2===e.buttons||e.altKey?i>0?"COMMAND_TAB_SWITCH_FORWARD_SETTING":"COMMAND_TAB_SWITCH_BACK_SETTING":i>0?"COMMAND_TAB_SWITCH_FORWARD_ORDER":"COMMAND_TAB_SWITCH_BACK_ORDER";for(var s in a)a.hasOwnProperty(s)&&a[s].name===o&&a[s].action(null,m);b=e.timeStamp,E=!0}}}}var r=e(488),o=e(489),a=e(509),s=e(105);t.exports=i},{}],387:[function(e,t){"use strict";var n=e(130),i=e(506),r=n.createClass({displayName:"AttachmentItem",onRemoveScreenshot:function(){this.props.removeScreenshot(this.props.index)},onOpenScreenshot:function(){this.props.openScreenshot(this.props.index)},render:function(){return n.createElement("div",{className:"screenshot",style:{backgroundImage:"url("+this.props.item.content+")"}},n.createElement("button",{className:"screenshot-remove",title:i("Remove screenshot"),onClick:this.onRemoveScreenshot}),n.createElement("button",{className:"screenshot-view",title:i("View screenshot"),onClick:this.onOpenScreenshot}))}});t.exports=r},{}],388:[function(e,t){"use strict";var n=e(130),i=e(480).session,r=e(105),o=e(387),a=n.createClass({displayName:"AttachmentContainer",onOpenScreenshot:function(e){i.openURL(this.props.attachments[e].content)},onRemoveScreenshot:function(e){this.props.attachments.splice(e,1);var t={attachments:this.props.attachments};r.notes.update(this.props.selectedNote.id.toString(),t,function(){r.notes.search(this.props.filter,this.props.onNotesPopulated)}.bind(this))},render:function(){if(!this.props.attachments)return null;var e=0,t=this.props.attachments.map(function(t){return n.createElement(o,{key:e,item:t,openScreenshot:this.onOpenScreenshot,removeScreenshot:this.onRemoveScreenshot,index:e++})}.bind(this));return n.createElement("div",{className:"screenshots-wrapper"},t)}});t.exports=a},{}],389:[function(e,t){"use strict";var n=e(130),i=e(129),r=e(128),o=e(480).session,a=e(510),s=n.createClass({displayName:"MarkupNote",mixins:[i],cssDocuments:["../../style/standalone.css"],handleLink:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.parentNode;t.href&&o.openURL(t.href)},componentWillMount:function(){var e=new r.Renderer;e.link=function(e,t,i){var r=a.fixLink(e);return n.createElement("a",{href:r,title:t?t:r,onClick:this.handleLink},i)}.bind(this),r.setOptions({pedantic:!1,renderer:e,gfm:!0,tables:!1,breaks:!0,sanitize:!0,smartLists:!1,smartypants:!1})},render:function(){var e=r(this.props.contentValue);return n.createElement("div",null,e)}});t.exports=s},{}],390:[function(e,t){"use strict";var n=e(130),i=e(344),r=e(341),o=e(105),a=e(480).session,s=e(509),l=e(506),c=e(303),u=e(505),h=e(389),d=e(388),p=e(510),f=e(106),m=400,g=100,v=800,E=n.createClass({displayName:"NotesPanel",mixins:[n.addons.LinkedStateMixin],getInitialState:function(){return{filter:"",notes:[],selectedNote:null,selectedFolder:null,titleValue:"",contentValue:"",urlValue:"",previousSelectedId:"-1",firstnoterequested:!1,editingNote:!1,editorHeight:m}},componentWillMount:function(){s.get(["NOTES_EDITOR_HEIGHT"],function(e){this.setState({editorHeight:e.NOTES_EDITOR_HEIGHT||m})}.bind(this)),s.addListener("NOTES_EDITOR_HEIGHT",function(e,t){t!==e&&this.setState({editorHeight:t})}.bind(this))},componentDidMount:function(){o.notes.search(this.state.filter,this.onNotesPopulated),o.notes.onCreated.addListener(this.onNoteCreated),o.notes.onRemoved.addListener(this.onNoteRemoved),o.notes.onChanged.addListener(this.onNoteChanged)},componentWillUnmount:function(){o.notes.onCreated.removeListener(this.onNoteCreated),o.notes.onRemoved.removeListener(this.onNoteRemoved),o.notes.onChanged.removeListener(this.onNoteChanged),s.removeListener("NOTES_EDITOR_HEIGHT")
},getNodeDisplayName:function(e){return""!==e.title?e.title:e.content},onNotesPopulated:function(e){this.setState({notes:e})},setPreviousSelectedId:function(){this.state.selectedNote&&this.setState({previousSelectedId:this.state.selectedNote.id}),this.state.selectedFolder&&this.setState({previousSelectedId:this.state.selectedFolder.id})},onNodeSelected:function(e){this.setPreviousSelectedId(),this.setState({selectedNote:e,selectedFolder:null,titleValue:e.title,contentValue:e.content,urlValue:e.url})},onNodeDoubleClicked:function(){this.onOpenUrl()},onFolderSelected:function(e){this.setPreviousSelectedId(),this.setState({selectedNote:null,selectedFolder:e,titleValue:e.title,contentValue:"",urlValue:""})},isFolder:function(e){return c.has(e,"children")},onNoteCreated:function(e){o.notes.search(this.state.filter,function(t){this.setState({notes:t}),this.refs.notestree.selectById(e)}.bind(this))},onNoteRemoved:function(e){var t=this.state.previousSelectedId;this.state.previousSelectedId===e&&(this.setState({previousSelectedId:"-1"}),t="-1"),this.setState({selectedNote:null,selectedFolder:null,titleValue:"",contentValue:"",urlValue:""}),o.notes.search(this.state.filter,function(e){this.setState({notes:e}),"-1"===t&&(t=e[e.length-1].id),this.refs.notestree.selectById(t)}.bind(this))},onNoteChanged:function(e,t){this.state.selectedNote&&this.state.selectedNote.id===e&&void 0!==t.url&&this.setState({urlValue:t.url})},onAddNote:function(){var e=0;this.state.selectedNote&&(e=this.state.selectedNote.parentId),this.state.selectedFolder&&(e=this.state.selectedFolder.id),this.setState({editingNote:!0}),o.notes.create({type:"note",parentId:e.toString()}),this.refs.refContent&&this.refs.refContent.getDOMNode().focus()},onAddFolder:function(){var e=0;this.state.selectedNote&&(e=this.state.selectedNote.parentId),this.state.selectedFolder&&(e=this.state.selectedFolder.id),this.setState({editingNote:!0}),o.notes.create({type:"folder",title:"untitled",parentId:e.toString()}),this.refs.refContent&&this.refs.refContent.getDOMNode().focus()},onDeleteNote:function(){this.state.selectedNote&&o.notes.remove(this.state.selectedNote.id),this.state.selectedFolder&&o.notes.remove(this.state.selectedFolder.id)},deleteNote:function(e){o.notes.remove(e.id)},addDataURLAttachment:function(e){var t=e;"object"==typeof e&&(t=e.target.result);var n=this.state.selectedNote.attachments,i={attachments:n};0===n.length&&(i.url=this.props.currentWebView.src);var r={id:"0",content:t};i.attachments.push(r),o.notes.update(this.state.selectedNote.id.toString(),i,function(){o.notes.search(this.state.filter,this.onNotesPopulated)}.bind(this))},onTakeScreenshot:function(){if(this.state.selectedNote){var e={scale:1,width:0,height:0};this.props.currentWebView&&this.props.currentWebView.getThumbnail(e,this.addDataURLAttachment)}},onAddImageFile:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=this.addDataURLAttachment,n.readAsDataURL(t)},onOpenUrl:function(){this.state.urlValue&&a.openURL(p.fixLink(this.state.urlValue))},handleTitleChange:function(e){if(this.setState({titleValue:e}),this.state.selectedNote){var t={title:e};o.notes.update(this.state.selectedNote.id.toString(),t,function(){o.notes.search(this.state.filter,this.onNotesPopulated)}.bind(this))}},handleContentChange:function(e){if(this.state.selectedFolder)return this.state.selectedFolder.title=e,void o.notes.update(this.state.selectedFolder.id.toString(),{title:e},function(){o.notes.search(this.state.filter,this.onNotesPopulated)}.bind(this));if(this.setState({contentValue:e}),this.state.firstnoterequested===!1&&0===this.state.notes.length)this.setState({firstnoterequested:!0}),o.notes.create({type:"note",content:e},function(e){this.setState({selectedNote:e}),o.notes.search(this.state.filter,function(e){this.setState({notes:e,firstnoterequested:!1})}.bind(this))}.bind(this));else if(this.state.selectedNote){var t={content:e};o.notes.update(this.state.selectedNote.id.toString(),t,function(){o.notes.search(this.state.filter,this.onNotesPopulated)}.bind(this))}},handleURLChange:function(e){if(this.setState({urlValue:e}),this.state.selectedNote){var t={url:e};o.notes.update(this.state.selectedNote.id.toString(),t,function(){o.notes.search(this.state.filter,this.onNotesPopulated)}.bind(this))}},handleFilterChange:function(e){this.setState({filter:e}),o.notes.search(e,this.onNotesPopulated)},onEditNote:function(){this.setState({editingNote:!this.state.editingNote})},onGetNodeIcon:function(e){return e.url?"/resources/linked-note@2x.png":"/resources/default-note@2x.png"},handleResize:function(e){var t=this.refs.noteEditor.getDOMNode(),n=t.getBoundingClientRect(),i=n.height+e;return i>v?i=v:g>i&&(i=g),s.set({NOTES_EDITOR_HEIGHT:i}),this.setState({editorHeight:i}),!0},render:function(){var e={name:"NOTES_PANEL_TREE",onDelete:this.onDeleteNote,nodeSelected:this.onNodeSelected,folderSelected:this.onFolderSelected,nodeDoubleClicked:this.onNodeDoubleClicked,getNodeIcon:this.onGetNodeIcon,isFolder:this.isFolder,keyAttrMap:{nodes:"children"},nodeMenuItems:[{name:l(this.state.editingNote?"Save Note":"Edit Note"),handler:this.onEditNote},{name:l("Delete Note"),handler:this.onDeleteNote}],folderMenuItems:[{name:l("Delete Folder"),handler:this.onDeleteNote}],nodeDisplayName:this.getNodeDisplayName,nodes:this.state.notes},t={value:this.state.selectedFolder?this.state.selectedFolder.title:this.state.contentValue,requestChange:this.handleContentChange},o={value:this.state.urlValue,requestChange:this.handleURLChange},a={value:this.state.filter,requestChange:this.handleFilterChange},s=this.state.selectedNote?u.dateTimeLong(this.state.selectedNote.dateAdded):"",c=f({"button-toolbar":!0,edit:!0,active:this.state.editingNote});return n.createElement("div",{className:"panel",ref:"notesPanelElement",id:"notes-panel"},n.createElement("header",null,n.createElement("h1",null,l("Notes"))),n.createElement("div",{className:"toolbar icons"},n.createElement("input",{type:"search",className:"notesearch",placeholder:l("Search..."),valueLink:a}),n.createElement("span",null,n.createElement("button",{title:l("New Note"),className:"button-toolbar note-new",onClick:this.onAddNote},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11.975 14.04H9.02v-2.036h2.955V9h2.037v3.004h2.982v2.037h-2.982v2.934h-2.037V14.04z" />\n</svg>'}})),n.createElement("button",{title:l("New Folder"),className:"button-toolbar note-folder",onClick:this.onAddFolder},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-284 407.9 26 26">\r\n  <path d="M-273.3 417.9l.6 1 .6 1h5.1v4h-8v-6h1.7m1.1-2h-3.6c-.7 0-1.2.6-1.2 1.2v7.5c0 .7.5 1.2 1.2 1.2h9.6c.7 0 1.2-.6 1.2-1.2v-5.9c0-.7-.5-.9-1.2-.9h-4.8l-1.2-1.9z"/>\r\n</svg>'}})),n.createElement("button",{title:l("Delete"),className:"button-toolbar note-delete",onClick:this.onDeleteNote},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\r\n    <path d="M9 14h8v-2H9v2z" />\r\n</svg>'}})),n.createElement("button",{title:l("verb","Edit"),className:c,onClick:this.onEditNote},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-284 407.9 26 26">\r\n  <path d="M-276 425.9h2.5l7-7-2.5-2.4-7 6.9v2.5zm11.8-9.3c.3-.3.3-.7 0-.9l-1.5-1.5c-.3-.3-.7-.3-.9 0l-1.2 1.2 2.5 2.5 1.1-1.3zm-13.8 11.3h12v-1h-12v1z"/>\r\n</svg>'}})))),n.createElement("section",null,n.createElement(i,{ref:"notestree",tree:e,onFocus:this.onFocus,onBlur:this.onBlur,onDelete:this.onDeleteNote})),n.createElement("div",{className:"notes-editor",ref:"noteEditor",style:{height:this.state.editorHeight}},n.createElement(r,{onSlidebarMove:this.handleResize,position:"bottom"}),n.createElement("div",{className:"data notes-cardwrapper cardview"},n.createElement("div",{className:"dateCreated"},n.createElement("div",{className:"meta-icon date fieldset"},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n  <circle cx="8" cy="8" r="6"/>\n  <path d="M7.5 5.5v3m0 0h3" stroke-linecap="square"/>\n</svg>'}})),n.createElement("span",{title:l("Date created")},s)),n.createElement("div",{className:"urlwrapper"},n.createElement("button",{className:"meta-icon url",onClick:this.onOpenUrl},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n      <path d="M7.766 10.18l-.893.892c-.257.257-.602.4-.972.4s-.714-.143-.972-.4c-.536-.536-.536-1.41 0-1.945l.892-.893-1.06-1.06-.892.892c-1.12 1.118-1.12 2.948 0 4.067.56.56 1.296.838 2.033.838.738 0 1.475-.28 2.034-.838l.892-.892-1.06-1.06M7.234 6.82l.893-.892c.257-.257.603-.4.972-.4.37 0 .714.143.972.4.257.258.4.603.4.973s-.143.716-.4.973l-.892.892 1.06 1.06.893-.89c1.118-1.12 1.118-2.95 0-4.068-.56-.56-1.297-.838-2.034-.838-.738 0-1.475.278-2.034.837l-.892.892 1.06 1.06"/>\n</svg>'}})),n.createElement("input",{ref:"refUrl",className:"mousetrap cardview address",placeholder:l("URL"),valueLink:o,type:"text",disabled:!this.state.selectedNote})),this.state.editingNote&&n.createElement("textarea",{ref:"refContent",className:"note editor",placeholder:l(this.state.selectedNote?"Note":"Folder"),title:l("Write a plain text note or use Markdown notation"),valueLink:t,autoFocus:!0}),!this.state.editingNote&&this.state.selectedNote&&n.createElement("div",{className:"note"},n.createElement(h,{contentValue:this.state.contentValue,onClick:this.detectClick})),!this.state.editingNote&&this.state.selectedFolder&&n.createElement("div",{className:"note shim"},this.state.titleValue),!this.state.editingNote&&!(this.state.selectedNote||this.state.selectedFolder)&&n.createElement("div",{className:"note shim",onClick:this.onAddNote},l("Click to create new note")),n.createElement("div",{className:"attachments-wrapper"},n.createElement(d,{ref:"attachmentcontainer",attachments:this.state.selectedNote?this.state.selectedNote.attachments:null,selectedNote:this.state.selectedNote,filter:this.state.filter,onNotesPopulated:this.onNotesPopulated}),n.createElement("div",{className:"add-attachments-wrapper"},n.createElement("button",{className:"add-attachments",onClick:this.addFiles}),n.createElement("div",{className:"add-attachments-callout"},n.createElement("button",{className:"add-attachment-screenshot",onClick:this.onTakeScreenshot,title:l("Add new screenshot")}),n.createElement("input",{className:"add-attachment-file",type:"file",title:l("Add new file"),accept:"image/*",onChange:this.onAddImageFile})))))))}});t.exports=E},{}],391:[function(e,t){(function(n){"use strict";var i=e(382),r=e(313),o=e(302),a=(e(494),e(506)),s=e(105),l=e(510).isInternalURL,c=e(480).session,u=e(303),h=[],d=o.createClass({displayName:"ActionItem",getInitialState:function(){return{name:null,selected:this.props.selected||!1}},onClicked:function(){this.setState({selected:!this.state.selected}),this.props.onItemClicked(this.props.index,!this.state.selected)},render:function(){return o.createElement("li",null,o.createElement("label",null,o.createElement("input",{type:"checkbox",onChange:this.onClicked,checked:this.state.selected?"checked":""}),o.createElement("span",null,this.props.name)))}}),p=o.createClass({displayName:"PageActions",mixins:[i],getInitialState:function(){return this.styles=[],{pageactionFiles:[],drawerOpen:!1,hasSelectedAction:!1,currentTarget:null}},onUrlChanged:function(){n.nextTick(function(){this.doInjectOnSelected()}.bind(this))},componentDidMount:function(){this.attachFastForwardMessageHandler(),s.runtime.getPackageDirectoryEntry(this.gotPackageDirectory),this.refs.pageactions.getDOMNode().addEventListener("focusout",this.onFocusout),c.on("change:url",this.onUrlChanged,this)},componentWillUnmount:function(){c.off("change:url",this.onUrlChanged),this.detachFastForwardMessageHandler(),this.refs.pageactions.getDOMNode().removeEventListener("focusout",this.onFocusout)},gotPackageDirectory:function(e){var t=e.createReader();t.readEntries(this.gotPackageEntries,this.fileError)},pushEntries:function(e){var t=this;this.executeWhenAllEntriesLoaded=u.after(e.length,function(){t.doInjectOnSelected()}),e.forEach(function(e){var t=function(t){this.pushNewEntry(t,e.name)}.bind(this);e.file(t)}.bind(this))},onFileRead:function(e){var t={name:e.target.filename,type:e.target.type,selected:!1,code:e.target.result};"script"===e.target.type&&this.isAutoloadScript(e.target.filename)&&(t.hidden=!0,t.selected=!0),"string"==typeof e.target.filename&&e.target.filename.length&&this.state.pageactionFiles.push(t),"function"==typeof this.executeWhenAllEntriesLoaded&&this.executeWhenAllEntriesLoaded()},pushNewEntry:function(e,t){var n=new FileReader,i=t.lastIndexOf("."),r="style";-1!==i&&("css"===t.substr(i+1)?r="style":"js"===t.substr(i+1)&&(r="script")),t=t.substr(0,i),n.type=r,n.filename=t.replace(/_/g," "),n.onload=this.onFileRead,n.readAsText(e)},gotPackageEntries:function(e){e.forEach(function(e){if("user_files"===e.name&&e.isDirectory){var t=e.createReader();t.readEntries(this.pushEntries,this.fileError)}}.bind(this))},fileError:function(){},onWebviewLoadcommit:function(e){e&&e.isTopLevel===!0&&this.doInjectOnSelected()},componentWillReceiveProps:function(e){if(e.currentWebView){var t=null!=e.currentWebView&&e.currentWebView!==this.props.currentWebView;t&&(this.props.currentWebView&&this.props.currentWebView.removeEventListener("loadcommit",this.onWebviewLoadcommit),e.currentWebView.addEventListener("loadcommit",this.onWebviewLoadcommit))}},onItemClicked:function(e,t){this.state.pageactionFiles[e].selected=t,t||this.props.currentWebView.reload(),this.doInjectOnSelected()},onToggleOpenPageActions:function(){this.setState({drawerOpen:!this.state.drawerOpen})},_doInject:function(e,t){if(e.selected){var n={code:e.code,allFrames:!0,runAt:"document_start"};"script"===e.type?t.executeScript(n):t.insertCSS(n)}},isAutoloadScript:function(e){return h.some(function(t){return t===e})},onFastForwardMessageReceived:function(e,t){"fastforwardUrlChanged"===e.action&&void 0===t.tab&&r.fastforwardChanged(e.nextUrl,t.url)},attachFastForwardMessageHandler:function(){s.runtime.onMessage.addListener(this.onFastForwardMessageReceived)},detachFastForwardMessageHandler:function(){s.runtime.onMessage.removeListener(this.onFastForwardMessageReceived)},doInjectOnSelected:function(e){var t=e||this.props.currentWebView;if(t&&!l(t.src)){for(var n=!1,i=0,r=this.state.pageactionFiles.length;r>i;i++)this._doInject(this.state.pageactionFiles[i],t),this.state.pageactionFiles[i].selected===!0&&this.state.pageactionFiles[i].hidden!==!0&&(n=!0);this.setState({hasSelectedAction:n})}},componentLostFocus:function(){this.setState({drawerOpen:!1})},render:function(){var e=-1;return this.userStylesAndScripts=this.state.pageactionFiles.map(function(t){return e+=1,"hidden"in t&&t.hidden!==!1?void 0:o.createElement(d,{index:e,key:e,selected:t.selected,name:t.name,onItemClicked:this.onItemClicked})}.bind(this)),o.createElement("span",{tabIndex:"0",className:"pageactions",title:a("Page actions"),ref:"pageactions",onBlur:this.onBlur},o.createElement("button",{className:"button-toolbar-small page-action "+(this.state.hasSelectedAction?" attention":"")+(this.props.disabled?" disabled":""),onClick:this.onToggleOpenPageActions,disabled:this.props.disabled},o.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n    <path d="M5.3 9.8L.8 6.5l4.6-3.3L6.6 5 4.2 6.4l2.3 1.7-1.2 1.6M10.7 11.8l-1.2-1.6 2.3-1.7L9.4 7 10.6 5l4.6 3.3-4.5 3.3"/>\n</svg>'}})),o.createElement("div",{className:"callout "+(this.state.drawerOpen?"":"hidden")},o.createElement("header",null,o.createElement("h1",null,a("Page actions"))),o.createElement("ul",null,this.userStylesAndScripts)))}});t.exports=p}).call(this,e(95))},{}],392:[function(e,t){"use strict";function n(){return{selectedPanel:p.getSelectedPanel(),panelWidth:p.getPanelWidth(),collapsedWidth:p.getCollapsedWidth(),panelButtonsVisible:p.getPanelButtonsVisible(),panelSwitch:p.getPanelSwitch(),panelContentVisible:p.getPanelContentVisible()}}var i=e(130),r=e(322),o=e(355),a=e(371),s=e(365),l=e(390),c=e(341),u=e(506),h=e(311),d=e(314),p=e(492),f=e(106),m=220,g=.618,v=i.createClass({displayName:"Panel",getInitialState:function(){return Object.assign({downloadItems:0,downloadProgress:0},n())},_onStoreChange:function(){this.setState(n())},componentWillMount:function(){p.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){p.removeChangeListener(this._onStoreChange)},setSelected:function(e){d.setSelectedPanel(e)},handleDoubleClick:function(){this.handlePanelSwitch()},handlePanelMove:function(e){var t=i.findDOMNode(this.refs.panelsContainer),n=t.getBoundingClientRect(),r=n.width+e,o=document.getElementById("main").offsetWidth*g;return r>o?r=o:m>r&&(r=m),d.setWidth(r),!0},handlePanelSwitch:function(){d.togglePanelVisibility()},showPanelIfHidden:function(){this.state.panelContentVisible||this.handlePanelSwitch()},showPanelSettings:function(){h.showSettings()},transfersUpdated:function(e,t){"number"!=typeof t&&(t=0),this.setState({downloadItems:e,downloadProgress:t})},render:function(){var e=f({bookmarks:!0,active:"bookmarks"===this.state.selectedPanel&&this.state.panelContentVisible===!0}),t=f({contacts:!0,active:"contacts"===this.state.selectedPanel&&this.state.panelContentVisible===!0}),n=f({mail:!0,active:"mail"===this.state.selectedPanel&&this.state.panelContentVisible===!0}),h=f({downloads:!0,"in-progress":this.state.downloadItems>0,active:"downloads"===this.state.selectedPanel&&this.state.panelContentVisible===!0}),d=f({notes:!0,active:"notes"===this.state.selectedPanel&&this.state.panelContentVisible===!0}),p={left:"left"===this.props.position,right:"right"===this.props.position,button:this.state.panelSwitch,switcher:this.state.panelWidth<="6",icons:this.state.panelWidth>"6"&&this.state.panelWidth<="40"},m=f(p),g=u("Downloads"),v=this.state.downloadItems;return v>0&&(g=g+" "+u("($1 active transfer)","($1 active transfers)",[this.state.downloadItems])),i.createElement("div",{id:"panels-container",ref:"panelsContainer",style:{width:this.state.panelWidth},className:m},i.createElement("div",{id:"panels",ref:"panelElement"},this.state.panelSwitch&&i.createElement("div",{id:"panel_switch",title:u("Toggle Panel"),ref:"panelSwitch",className:this.state.panelContentVisible?"on":"off",onClick:this.handlePanelSwitch,onDoubleClick:this.handlePanelSwitch}),i.createElement("div",{id:"switch"},i.createElement("button",{title:u("Bookmarks"),className:e,onClick:this.setSelected.bind(this,"bookmarks"),onDoubleClick:this.setSelected.bind(this,"bookmarks")},i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M8 5v16l6-2 6 2v-16h-12zm6 11.8l-4 1.2v-11h8v11l-4-1.2z"/>\n</svg>'}})),i.createElement("button",{title:u("Mail"),className:n,onClick:this.setSelected.bind(this,"mail"),onDoubleClick:this.setSelected.bind(this,"mail")},i.createElement("div",{className:"itemcounter"},"214"),i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n  <path d="M5 8v11h16V8H5zm8 8l-6-4.3V10l6 4.3 6-4.3v1.5L13 16z"/>\n</svg>'}})),i.createElement("button",{title:u("Contacts"),className:t,onClick:this.setSelected.bind(this,"contacts"),onDoubleClick:this.setSelected.bind(this,"contacts")},i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-186 188 26 26">\n  <path d="M-169.8 200.1c1.4 0 2.4-1.1 2.4-2.6s-1-2.6-2.4-2.6-2.4 1.1-2.4 2.6 1 2.6 2.4 2.6zm-6.4 0c1.4 0 2.4-1.1 2.4-2.6s-1-2.6-2.4-2.6-2.4 1.1-2.4 2.6 1 2.6 2.4 2.6zm-4.8 3.9v3h9.6v-3c-3.5-2.1-3-2.1-4.8-2.1s-1.6 0-4.8 2.1zm9.6-2.1c1 .7 1.6 1.7 1.6 2.9v2.1h4.8v-2.1c0-2-3.8-3-5.6-3-.2.1-.5.1-.8.1z"/>\n</svg>\n'}})),i.createElement("button",{title:g,className:h,onClick:this.setSelected.bind(this,"downloads"),onDoubleClick:this.setSelected.bind(this,"downloads")},i.createElement("div",{className:"progress"},i.createElement("div",{className:"loaded",style:{width:this.state.downloadProgress+"%"}})),i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-186 188 26 26">\n  <path d="M-171 199v-5h-4v5c0 .1-4 0-4 0l6 6 6-6h-4zm-9 9v2h14v-2h-14z"/>\n</svg>'}})),i.createElement("button",{title:u("Notes"),className:d,onClick:this.setSelected.bind(this,"notes")},i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-186 188 26 26">\n  <path d="M-179 208h12v-14h-12v14zm2-11h8v9h-8v-9zm1 2h6v1h-6v-1zm0 2h6v1h-6v-1zm0 2h6v1h-6v-1z"/>\n</svg>'}})),i.createElement("button",{title:u("Panel settings"),className:"preferences",onClick:this.showPanelSettings},i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-186 188 26 26">\n  <path d="M-167.6 201v.7l1.4 1.2c.1.1.2.3.1.4l-1.3 2.4c-.1.2-.3.2-.4.2l-1.6-.7c-.4.3-.8.5-1.1.7l-.3 1.9c0 .2-.2.3-.3.3h-2.7c-.2 0-.3-.1-.3-.3l-.4-1.9c-.4-.2-.8-.4-1.1-.7l-1.6.7c-.2.1-.3 0-.4-.2l-1.3-2.4c-.1-.2 0-.3.1-.4l1.4-1.2v-1.4l-1.4-1.2c-.1-.1-.2-.3-.1-.4l1.3-2.4c.1-.2.3-.2.4-.2l1.6.7 1.1-.7.3-1.9c0-.2.2-.3.3-.3h2.7c.2 0 .3.1.3.3l.3 1.9c.4.2.8.4 1.1.7l1.6-.7c.2-.1.3 0 .4.2l1.3 2.4c.1.2 0 .3-.1.4l-1.4 1.2c.1.2.1.5.1.7zm-4.9 2c1.1 0 1.9-.9 1.9-2s-.9-2-1.9-2c-1.1 0-1.9.9-1.9 2s.8 2 1.9 2z"/>\n</svg>'}}))),i.createElement("div",{className:"panel-group"},"bookmarks"===this.state.selectedPanel&&i.createElement(r,{key:"panel-bookmarks"}),"mail"===this.state.selectedPanel&&i.createElement(a,{key:"panel-mail"}),"contacts"===this.state.selectedPanel&&i.createElement(o,{key:"panel-contacts"}),i.createElement(s,{key:"panel-downloads",open:"downloads"===this.state.selectedPanel,onTransfersUpdated:this.transfersUpdated}),"notes"===this.state.selectedPanel&&i.createElement(l,{key:"panel-notes",currentWebView:this.props.currentWebView})),i.createElement(c,{onSlidebarMove:this.handlePanelMove,onDoubleClick:this.handleDoubleClick,position:this.props.position})))}});t.exports=v},{}],393:[function(e,t){"use strict";var n=e(302),i=e(106),r=3,o=300,a=100,s=10,l=n.createClass({displayName:"PageloadProgress",getInitialState:function(){return{progress:-1,loadprogressTimeoutId:0,endprogressTimeoutId:0}},componentWillUnmount:function(){clearTimeout(this.state.loadprogressTimeoutId),clearTimeout(this.state.endprogressTimeoutId)},onLoadProgressStarted:function(){this.setState({progress:0});var e=r,t=function(){clearTimeout(this.state.loadprogressTimeoutId);var n=this.state.progress;if(100>=n){var i=setTimeout(t,o);this.setState({loadprogressTimeoutId:i}),n+=parseFloat(e),e=e>0?e-=.1:.1,this.setState({progress:n})}}.bind(this,e);t()},onLoadProgressFinished:function(){var e=function(){clearTimeout(this.state.endprogressTimeoutId);var t=this.state.progress;if(100>t){var n=setTimeout(e,a);this.setState({endprogressTimeoutId:n}),t+=s,this.setState({progress:t})}}.bind(this);e()},reset:function(){clearTimeout(this.state.loadprogressTimeoutId),clearTimeout(this.state.endprogressTimeoutId),this.setState(this.getInitialState())},render:function(){var e=i({"pageload-indicator favicon-current-background-color":!0,loading:-1!==this.state.progress});return n.createElement("progress",{className:e,value:this.state.progress,max:"100",ref:"webpageview_loadprogress"})}});t.exports=l},{}],394:[function(e,t){"use strict";var n=e(302),i=n.createClass({displayName:"ProgressIndicator",getInitialState:function(){return{currentSize:0,totalSize:0,overridePercent:-1}},render:function(){var e=-1;return-1!=this.props.overridePercent?e=this.props.overridePercent:this.props.totalSize&&(e=this.props.currentSize/this.props.totalSize*100),"text"==this.props.type?n.createElement("i",null," ",e," % "):"bar"==this.props.type?-1==e?n.createElement("progress",null):n.createElement("progress",{value:e,max:"100"}):"circular"==this.props.type?n.createElement("i",null," ",e," % "):void 0}});t.exports=i},{}],395:[function(e,t){"use strict";var n=e(489),i=e(302),r=e(315),o=e(341),a=e(495),s=e(330),l=e(509),c=e(106),u=e(506),h=e(303),d=175,p=800,f=i.createClass({displayName:"SearchField",propTypes:{searchEngines:i.PropTypes.array},getInitialState:function(){return{focused:!1,searchEnabled:!0,searchWidth:d}},_onMainStoreChanged:function(e){switch(e.action){case"currentTab":this.refs.dropdown&&this.refs.dropdown.collapse()}},_onTabStoreChanged:function(e){("newTab"===e.action||"closeTab"==e.action)&&this.refs.dropdown&&this.refs.dropdown.collapse()},componentWillMount:function(){l.get("SEARCH_FIELD_WIDTH",function(e){this.setState({searchWidth:e||d})}.bind(this)),l.addListener("SEARCH_FIELD_WIDTH",function(e,t){t!==e&&this.setState({editorHeight:t})}.bind(this)),a.addChangeListener(this._onTabStoreChanged),n.addChangeListener(this._onMainStoreChanged)},componentWillUnmount:function(){l.removeListener("SEARCH_FIELD_WIDTH"),a.removeChangeListener(this._onTabStoreChanged),n.removeChangeListener(this._onMainStoreChanged)},onKeyDown:function(e){if(13===e.keyCode){var t=this.props.currentSearchEngine&&this.props.currentSearchEngine.Url;if(!t){var n=h.findWhere(this.props.searchEngines,{Id:parseInt(this.props.defaultSearchEngine)});t=n.Url}this.props.onEnterPressed(e.target.value,t)}},shouldComponentUpdate:function(e,t){var n=h.isEqual(e,this.props)&&h.isEqual(t,this.state);return!n},onSearchEngineChanged:function(e){this.refs.search.getDOMNode().select();var t=h.findWhere(this.props.searchEngines,{Id:e}),n=i.findDOMNode(this.refs.search).value;n.length>0&&this.props.onEnterPressed(n,t.Url),r.setState({searchEngine:t})},renderSearchEngines:function(){var e=this,t=h.clone(this.props.searchEngines);return parseInt(this.props.defaultSearchEngine>-1)&&t.unshift(t.splice(h.indexOf(t,h.findWhere(t,{Id:this.props.defaultSearchEngine})),1)[0]),this.props.currentSearchEngine&&this.props.currentSearchEngine.Id>=0&&t.unshift(t.splice(h.indexOf(t,h.find(t,function(t){return t===e.props.currentSearchEngine.Id})),1)[0]),i.createElement(s,{ref:"dropdown",store:t,value:null!=this.props.currentSearchEngineId?this.props.currentSearchEngineId:this.props.defaultSearchEngine,onItemClicked:this.onSearchEngineChanged,displayField:"Name",keyField:"Keyword",itemField:"Id",imageField:"Image"})},onFocus:function(){this.setState({focused:!0})},onBlur:function(){this.setState({focused:!1})},onChange:function(e){r.setState({editText:e.target.value})},handleResize:function(e){var t=this.refs.searchfield.getDOMNode(),n=t.getBoundingClientRect(),i=n.width+e;return i>p?i=p:d>i&&(i=d),l.set({SEARCH_FIELD_WIDTH:i}),this.setState({searchWidth:i}),!0},render:function(){if(!this.props.searchEngines)return null;var e=u("verb","Search");e+=this.props.currentSearchEngine&&this.props.currentSearchEngine.Id>=0?" "+this.props.currentSearchEngine.Name:" "+h.findWhere(this.props.searchEngines,{Id:parseInt(this.props.defaultSearchEngine)}).Name;var t={searchfield:!0,"iconmenu-container":!0,focused:this.state.focused};return i.createElement("div",{ref:"searchfield",className:c(t),style:{flexBasis:this.state.searchWidth+"px"}},i.createElement(o,{onSlidebarMove:this.handleResize,position:"right"}),this.renderSearchEngines(),i.createElement("input",{type:"search",ref:"search",onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,value:this.props.value,onChange:this.onChange,className:"searchfield-input",placeholder:e}))}});t.exports=f},{}],396:[function(e,t){"use strict";var n=e(302),i=e(383),r=e(358),o=e(506),a=n.createClass({displayName:"RestartBrowserDialog",mixins:[i],handleClick:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},onClose:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},getInitialState:function(){return{folderName:"",shown:!0,modalShown:!1,parentFolderId:this.props.parentFolderId}},getLayeredComponentRootNode:function(){return this.props.parentDiv},renderLayer:function(){return this.state.shown?n.createElement(r,{onRequestClose:this.handleClick},n.createElement("div",{className:"dialog-restart"},n.createElement("header",{className:"dialog-header"},n.createElement("h1",{className:"dialog-title"},o("Restart required"))),n.createElement("div",{className:"dialog-content"},n.createElement("p",null,o("Please restart the browser for this change to take effect."))),n.createElement("footer",{className:"dialog-footer"},n.createElement("input",{type:"button",className:"primary",onClick:this.onClose,value:o("Close")})))):n.createElement("span",null)},onFolderChange:function(e){this.setState({folderName:e.target.value})},keyDown:function(){13==event.keyCode?this.onCreate():27==event.keyCode&&this.onCancel()},render:function(){return n.createElement("span",null)}});t.exports=a},{}],397:[function(e,t){"use strict";var n=e(130),i=e(509),r=e(491),o=n.addons.PureRenderMixin,a=e(382),s=e(506),l=e(106),c=n.createClass({displayName:"ToggleImages",mixins:[a,o],getInitialState:function(){return{pages:r.getPages(),currentWebView:null,pageId:-1,showImages:!0,loadImagesFromCache:!1,drawerOpen:!1}},componentDidMount:function(){this.refs.imageactions.getDOMNode().addEventListener("focusout",this.onFocusout),r.addChangeListener(this.onPageStoreChange)},componentWillUnmount:function(){this.refs.imageactions.getDOMNode().removeEventListener("focusout",this.onFocusout),r.removeChangeListener(this.onPageStoreChange)},onPageStoreChange:function(){var e=this.state.pages.find(function(e){return e.get("active")}),t=r.getPages().find(function(e){return e.get("active")});e&&t&&e.get("id")!==t.get("id")&&this.state.drawerOpen&&this.setState({drawerOpen:!1}),this.setState({pages:r.getPages()})},onWebviewPageIDChanged:function(e){var t="shouldShowImages"+e;i.get(t,function(e){this.setState({showImages:void 0===e||e})}.bind(this)),t="shouldOnlyLoadImagesFromCache"+e,i.get(t,function(e){this.setState({loadImagesFromCache:void 0===e?!1:e})}.bind(this)),this.setState({pageId:e})},onActiveWebviewChanged:function(e){this.setState({currentWebView:e})},onShowAll:function(){this.updatePageImageState(!0,!1,!0),this.setState({drawerOpen:!1})},onShowCached:function(){this.updatePageImageState(!0,!0,!0),this.setState({drawerOpen:!1})},onHideAll:function(){this.updatePageImageState(!1,!1,!1),this.setState({drawerOpen:!1})},updatePageImageState:function(e,t,n){var r="shouldShowImages"+this.state.pageId,o={};o[r]=e,i.set(o),r="shouldOnlyLoadImagesFromCache"+this.state.pageId,o={},o[r]=t,i.set(o),this.setState({showImages:e,loadImagesFromCache:t}),this.state.currentWebView&&this.state.currentWebView.setShowImages(e,t,n)},componentLostFocus:function(){this.setState({drawerOpen:!1})},onToggleOpenImageActions:function(){this.setState({drawerOpen:!this.state.drawerOpen})},render:function(){var e=this.state.showImages&&!this.state.loadImagesFromCache,t=!this.state.showImages&&!this.state.loadImagesFromCache,i=this.state.showImages&&this.state.loadImagesFromCache,r=l({"button-toolbar-small":!0,"image-action":!0,disabled:this.props.disabled,noimages:t&&!this.props.disabled,cachedimages:i&&!this.props.disabled}),o=l({callout:!0,hidden:!this.state.drawerOpen});return n.createElement("span",{title:s("Toggle images"),tabIndex:"0",className:"imageactions",ref:"imageactions"},n.createElement("button",{className:r,onClick:this.onToggleOpenImageActions,disabled:this.props.disabled}),n.createElement("div",{className:o},n.createElement("form",null,n.createElement("ul",null,n.createElement("li",null,n.createElement("label",null,n.createElement("input",{type:"radio",checked:e,onChange:this.onShowAll}),s("Show Images"))),n.createElement("li",null,n.createElement("label",null,n.createElement("input",{type:"radio",checked:i,onChange:this.onShowCached}),s("Show only cached Images"))),n.createElement("li",null,n.createElement("label",null,n.createElement("input",{type:"radio",checked:t,onChange:this.onHideAll}),s("No Images")))))))
}});t.exports=c},{}],398:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(130),r=e(116),o=e(382),a=i.addons.PureRenderMixin,s=e(491),l=e(480).session,c=e(506),u=e(106),h=i.createClass({displayName:"ToggleTiling",mixins:[a,o],getInitialState:function(){return{drawerOpen:!1,pages:s.getPages(),pageSelection:s.getPageSelection()}},componentDidMount:function(){i.findDOMNode(this.refs.tilingtoggle).addEventListener("focusout",this.onFocusout),s.addChangeListener(this.onPageStoreChange)},componentWillUnmount:function(){s.removeChangeListener(this.onPageStoreChange),i.findDOMNode(this.refs.tilingtoggle).removeEventListener("focusout",this.onFocusout)},onPageStoreChange:function(){var e=this.state.pages.find(function(e){return e.get("active")}),t=s.getPages().find(function(e){return e.get("active")});e&&t&&e.get("id")!==t.get("id")&&this.state.drawerOpen&&this.setState({drawerOpen:!1}),this.setState({pages:s.getPages(),pageSelection:s.getPageSelection()})},componentLostFocus:function(){this.setState({drawerOpen:!1})},onToggleDrawer:function(){this.setState({drawerOpen:!this.state.drawerOpen})},setTiling:function(e){var t=this.props.page.attributes;if(this.state.pageSelection.size>1){var n=this.state.pageSelection.map(function(e){return l.findPageForTab(e)}).filter(Boolean).toJS();l.tileSelection(n,e)}else if(t.tiling.id){var i=l.pagesInTiling(t.tiling.id);l.tileSelection(i,e)}else if(t.group){var r=t.group;l.tileGroup(r,e)}this.onToggleDrawer()},unTile:function(){l.unTileTiling(this.props.page.attributes.tiling.id),this.onToggleDrawer()},render:function(){var e=u(n({"button-toolbar-small":!0,"tile-action":!0},this.props.className,!0)),t=u({callout:!0,hidden:!this.state.drawerOpen}),o=this.state.pages.find(function(e){return e.get("active")})||r.Map(),a=Boolean(o.get("group")||o.get("tiling")&&o.get("tiling").size>0||this.state.pageSelection.size>1),s=i.createElement("span",{tabIndex:"0",className:"tilingtoggle",ref:"tilingtoggle"},i.createElement("button",{ref:"tilingtogglebutton",className:e,onMouseDown:this.onToggleDrawer,disabled:!a,title:c("Page tiling")}),i.createElement("div",{className:t},i.createElement("button",{className:"tile-vertically",title:c("Tile vertically"),onMouseUp:this.setTiling.bind(this,"vertically")}),i.createElement("button",{className:"tile-horizontally",title:c("Tile horizontally"),onMouseUp:this.setTiling.bind(this,"horizontally")}),i.createElement("button",{className:"tile-grid",title:c("Tile to grid"),onMouseUp:this.setTiling.bind(this,"grid")}),i.createElement("button",{className:"tile-none",title:c("Untile pages"),onMouseUp:this.unTile.bind(this,"none")})));return s}});t.exports=h},{}],399:[function(e,t){"use strict";var n=e(477),i=e(506),r=function(e){switch(e){case n.CATEGORY_COMMAND_APPLICATION:return i("Window");case n.CATEGORY_COMMAND_APPEARANCE:return"MacIntel"===navigator.platform?i("mac","View"):i("win_linux","View");case n.CATEGORY_COMMAND_TAB_ACTION:return i("Tab");case n.CATEGORY_COMMAND_WEBPAGE_NAVIGATION:return i("Page");case n.CATEGORY_COMMAND_MAIL:return i("Mail");default:return"Unknown"}};t.exports=r},{}],400:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(506),o=n.createClass({displayName:"CookieExceptionItem",getInitialState:function(){return{pattern:this.props.item.pattern,behavior:this.props.item.behavior}},componentWillMount:function(){i.contentSettings.cookies.get({primaryUrl:"http://mbl.is"},function(e){this.setState({cookieSetting:e.setting})}.bind(this))},handlePatternChange:function(e){this.setState({pattern:e.target.value})},handleChange:function(){var e=this.refs.cookieSelGroup.getCheckedValue();console.log(e),i.contentSettings.cookies.set({primaryPattern:"http://mbl.is/",setting:"block"},function(e){console.log(e)})},showCookieManager:function(){this.props.showCookieManager()},render:function(){return n.createElement("div",{className:"setting-group alternate"},n.createElement("input",{type:"text",ref:"editField",className:"edit pattern",value:this.state.pattern,onChange:this.handlePatternChange,onKeyDown:this.handleKeyDown}),n.createElement("select",{onChange:this.langChange,className:"behaviour mousetrap",value:this.state.behavior},n.createElement("option",{value:"allow"},r("Allow")),n.createElement("option",{value:"session"},r("Clear on exit")),n.createElement("option",{value:"block"},r("Block"))))}});t.exports=o},{}],401:[function(e,t){"use strict";var n=e(302),i=e(400),r=e(506),o=n.createClass({displayName:"CookieExceptionsSetting",getInitialState:function(){return{cookieExceptions:[]}},showCookieManager:function(){this.props.showCookieManager()},render:function(){return n.createElement("span",null,n.createElement("div",{className:"setting-group"},n.createElement("h3",null,r("Cookie and Data Exceptions")),n.createElement("div",{className:"header-ex-cookies"},n.createElement("div",null,r("Host")),n.createElement("div",null,r("Behavior"))),n.createElement("div",{className:"content-ex-cookies"},this.state.cookieExceptions.map(function(e){return n.createElement(i,{key:e.id,item:e})}))))}});t.exports=o},{}],402:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(506),o=e(402),o=n.createClass({displayName:"CookieItem",deleteCookie:function(){var e="http"+(this.props.item.secure?"s":"")+"://"+this.props.item[0].domain+this.props.item[0].path,t={url:e,name:this.props.item[0].name};i.cookies.remove(t,function(e){this.props.onCookieDelete(e)}.bind(this))},isDate:function(e){return"[object Date]"===Object.prototype.toString.call(e)?isNaN(e.getTime())?!1:!0:!1},render:function(){var e=this.props.item[0],t=this.props.item[1],i=this.props.item[2],o="";return i.forEach(function(e){o=o+"["+e+"]"}),n.createElement("tr",null,n.createElement("td",{className:"setting-cookie-domain"},e.domain),n.createElement("td",{className:"setting-cookie-count"},t),n.createElement("td",{className:""},n.createElement("input",{type:"button",onClick:this.deleteCookie,value:r("Delete")})))}});t.exports=o},{}],403:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(402),o=e(506),a=e(411),s=n.createClass({displayName:"CookieManager",getInitialState:function(){return{cookieData:[],cookieFilter:""}},componentWillMount:function(){this.getAllCookies()},getAllCookies:function(){i.cookies.getAll({},function(e){function t(e,t,n){for(var i={},r=n.x;r<e.length;r++)if(e[r].domain==t)return i.x=n.x,i.name=e[r].name,i;return i.x=-1,i}for(var n,i,r=0,o={},a=[];r<e.length;){for(n=1,i=e[r],o.x=r+1;o.x<e.length&&-1!=(o=t(e,i.domain,o)).x;)n+=1,a.push(o.name),e.splice(o.x,1);e[r]=new Array(e[r],n,a),a=[],++r}this.setState({cookieData:e})}.bind(this))},render:function(){var e=this,t=n.createElement("span",null,n.createElement("h2",null,o("Cookies")),n.createElement("div",{className:"setting-group setting-cookies unlimited"},n.createElement("h3",null,o("Cookie overview")),n.createElement("div",{className:"setting-subgroup"},n.createElement("div",{className:"setting-single"},n.createElement("input",{className:"mousetrap",type:"search",placeholder:o("Filter by domain"),onChange:this.onSettingsFilter})),n.createElement("div",{className:"setting-single"},n.createElement("table",null,n.createElement("tr",null,n.createElement("th",{className:"setting-cookie-domain"},o("Domain")),n.createElement("th",{className:"setting-cookie-count"},o("Count")),n.createElement("th",null)),this.state.cookieData.filter(function(t){return t[0].domain.indexOf(e.state.cookieFilter)>-1}).map(function(e,t){return n.createElement(r,{key:t,item:e,onCookieDelete:this.deleteCookie})}.bind(this),this))),n.createElement("div",{className:"setting-single"},n.createElement("input",{type:"button",className:"danger",onClick:this.deleteAllCookies,value:o("Delete All Cookies")})))));return a(t,this.props.filter)},deleteAllCookies:function(){var e=0;i.cookies.getAll({},function(n){e=n.length;for(var r=0;r<n.length;r++)i.cookies.remove({url:this.getCookieUrl(n[r]),name:n[r].name},t)}.bind(this));var t=function(){e--,0===e&&this.setState({cookieData:[]})}.bind(this)},getCookieUrl:function(e){return"http"+(e.secure?"s":"")+"://"+e.domain+e.path},deleteCookie:function(){this.getAllCookies()},onSettingsFilter:function(){this.setState({cookieFilter:event.target.value})},close:function(){this.props.onClose&&this.props.onClose()}});t.exports=s},{}],404:[function(e,t){"use strict";var n=e(302),i=e(403),r=e(358),o=n.createClass({displayName:"CookieManagerDialog",handleClick:function(){var e={dialogText:this.state.value};this.state.shown&&this.props.onCloseBM(e),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",shown:!0,modalShown:!1}},getLayeredComponentRootNode:function(){return this.props.parentDiv},componentWillReceiveProps:function(){this.setState({shown:!0})},render:function(){return n.createElement(r,{onRequestClose:this.handleClick,dialogWidth:600},n.createElement(i,{onClose:this.handleClick}))}});t.exports=o},{}],405:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(338),o=e(506),a=e(401),s=e(411),l=n.createClass({displayName:"CookieSettings",getInitialState:function(){return{cookieSetting:"",blockThirdParty:!1}},componentWillMount:function(){i.importData.getDefaultContentSettings("cookies",function(e){this.setState({cookieSetting:e})}.bind(this)),i.importData.getBlockThirdPartyCookies(function(e){this.setState({blockThirdParty:e})}.bind(this))},render:function(){var e=n.createElement("span",null,n.createElement("h2",null,o("Cookie Control")),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,o("Accept Cookies")),n.createElement(r,{className:"cookieSelection",ref:"cookieSelGroup",value:this.state.cookieSetting,onChange:this.handleChange},n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"allow",className:"mousetrap"}),n.createElement("span",null,o("All")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"session",className:"mousetrap"}),n.createElement("span",null,o("Session Only")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"block",className:"mousetrap"}),n.createElement("span",null,o("Never")))))),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,o("Third-Party Cookies")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",title:o("Block Third-Party Cookies"),checked:this.state.blockThirdParty,onChange:this.checkChange}),n.createElement("span",null,o("Block Third-Party Cookies"))))),n.createElement(a,null));return s(e,this.props.filter)},checkChange:function(){i.importData.setBlockThirdPartyCookies(!this.state.blockThirdParty,function(){}.bind(this)),this.setState({blockThirdParty:!this.state.blockThirdParty})},handleChange:function(){var e=this.refs.cookieSelGroup.getCheckedValue();this.setState({cookieSetting:e}),i.importData.setDefaultContentSettings("cookies",e,function(){})},showCookieManager:function(){this.props.showCookieManager()}});t.exports=l},{}],406:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(506),o=e(411),a=e(509),s=e(385),l=n.createClass({displayName:"DownloadSettings",mixins:[s],vivaldiSettingsKeys:["AUTOMATICALLY_DOWNLOAD_FILES","SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS"],getInitialState:function(){return{"download.default_directory":""}},componentWillMount:function(){function e(e){n.setState(e)}function t(e,t){for(var n={},i=0;i<e.length;i++)"download.default_directory"===e[i].preferenceKey&&(n["download.default_directory"]=e[i].preferenceValue.string);t(n)}var n=this;i.settings.getPreference(function(n){t(n,e)})},handleDownloadDirectoryChange:function(e){this.setState({"download.default_directory":e});var t={preferenceKey:"download.default_directory",preferenceValue:{string:e},preferenceType:"string"};i.settings.setPreference(t)},handleAutoDownloadChange:function(e){a.set({AUTOMATICALLY_DOWNLOAD_FILES:e})},handleShowDownloadPanelChange:function(e){a.set({SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS:e})},render:function(){var e={value:this.state["download.default_directory"],requestChange:this.handleDownloadDirectoryChange},t={value:this.state.AUTOMATICALLY_DOWNLOAD_FILES,requestChange:this.handleAutoDownloadChange},i={value:this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS,requestChange:this.handleShowDownloadPanelChange},a=n.createElement("div",{className:"setting-group unlimited"},n.createElement("h2",null,r("Downloads")),n.createElement("div",{className:"setting-subgroup"},n.createElement("h3",null,r("Download Location")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"text",className:"mousetrap",valueLink:e}))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",checkedLink:t}),n.createElement("span",null,r("Always Save Files to Default Download Location")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",checkedLink:i}),n.createElement("span",null,r("Open Download Panel Automatically"))))));return o(a,this.props.filter)}});t.exports=l},{}],407:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(302),r=e(509),o=e(385),a=e(508),s=e(499),l=e(106),c=e(506),u=i.createClass({displayName:"ShortCutEditSetting",mixins:[o],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS"],getInitialState:function(){return{keyValue:this.props.command.shortcut,gestures:this.props.command.gestures,showInQC:this.props.command.showInQC,selectedCombo:"",active:!1,focused:!1,duplicateCombo:"",singleKeyWarning:!1}},restoreDefault:function(){var e=r.getDefault(this.props.command.name);this.setState({keyValue:e.shortcut},this.save)},clearCombo:function(){this.setState({keyValue:[]},this.save)},checkChangeQC:function(){this.setState({showInQC:!this.state.showInQC},this.save)},handleKeyEvent:function(e){var t=["shift+tab","tab","space","backspace","enter","esc","left","right","up","down"],n=s.keyComboFromEvent(e.nativeEvent);if(this.state.DISABLE_SINGLE_KEY_SHORTCUTS&&n&&1===n.length)this.setState({duplicateCombo:"",singleKeyWarning:!0});else if(n&&-1!==this.props.existingCombos.indexOf(n))this.setState({duplicateCombo:a(n),singleKeyWarning:!1});else if(n&&-1===t.indexOf(n)){var i=this.state.keyValue;void 0===i&&(i=[]),i.push(n),this.setState({keyValue:i,duplicateCombo:"",singleKeyWarning:!1},this.save)}else if(n&&"backspace"===n){e.stopPropagation();var i=this.state.keyValue;i.pop(),this.setState({keyValue:i,duplicateCombo:"",singleKeyWarning:!1},this.save)}},save:function(){var e={name:this.props.command.name,shortcut:this.state.keyValue,gestures:this.state.gestures,showInQC:this.state.showInQC};r.set(n({},this.props.command.name,e))},keyUpListener:function(e){if(e.stopPropagation(),e.preventDefault(),8===e.keyCode||46===e.keyCode){var t=this.state.keyValue,n=t.indexOf(e.target.dataset.raw);t.splice(n,1),i.findDOMNode(e.target.parentNode).querySelector("input").focus(),this.setState({keyValue:t},this.save)}},onTextFocus:function(){this.setState({active:!0,focused:!0})},onTextBlur:function(e){e.preventDefault(),e.stopPropagation(),this.setState({active:!1,focused:!1,duplicateCombo:"",singleKeyWarning:!1}),this.save()},onButtonFocus:function(){this.setState({active:!0})},onButtonBlur:function(e){e.preventDefault(),e.stopPropagation(),this.setState({active:!1,duplicateCombo:"",singleKeyWarning:!1}),this.save()},onComboFocus:function(e){this.setState({selectedCombo:e.target.value,focused:!0,active:!0}),document.addEventListener("keyup",this.keyUpListener)},onComboBlur:function(){this.setState({selectedCombo:"",focused:!1,active:!1}),document.removeEventListener("keyup",this.keyUpListener)},renderCombos:function(){var e=this;return this.props.command.shortcut?this.props.command.shortcut.map(function(t){return[i.createElement("span",{className:t.length>1?"item":"item single",tabIndex:"0","data-raw":t,onFocus:e.onComboFocus,onBlur:e.onComboBlur},a(t))]}):void 0},render:function(){return i.createElement("div",{className:l({controls:!0,active:this.state.active,focused:this.state.focused})},i.createElement("div",{className:"multiinput"},i.createElement("div",{className:"wrapper"},this.renderCombos(),i.createElement("input",{type:"text",id:this.props.id,value:"",className:"keyShortcutStop",onChange:this.onChange,onKeyPress:this.handleKeyEvent,onKeyDown:this.handleKeyEvent,onCancel:this.cancel,onFocus:this.onTextFocus,onBlur:this.onTextBlur}))),i.createElement("input",{type:"button",className:"restorekey",title:c("Restore default shortcut"),onClick:this.restoreDefault,onFocus:this.onButtonFocus,onBlur:this.onButtonBlur}),i.createElement("input",{type:"button",className:"clearkey",title:c("Clear shortcut"),onClick:this.clearCombo,onFocus:this.onButtonFocus,onBlur:this.onButtonBlur}),this.state.duplicateCombo&&i.createElement("p",{className:"info"},c("Shortcut $1 is already assigned",[this.state.duplicateCombo.toUpperCase()])),this.state.singleKeyWarning&&i.createElement("p",{className:"info"},c("Single Key Shortcuts are currently disabled")))}});t.exports=u},{}],408:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(302),r=e(506),o=e(411),a=e(509),s=e(385),l=i.createClass({displayName:"ConfigureSingleKeyShortcut",mixins:[s],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS"],saveVivaldiSettingFromEvent:function(e,t,i){a.set(n({},e,i.target[t]))},render:function(){var e=i.createElement("div",{className:"setting-single pad-top"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.DISABLE_SINGLE_KEY_SHORTCUTS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"DISABLE_SINGLE_KEY_SHORTCUTS","checked")}),i.createElement("span",null,r("Disable Single Key Shortcuts"))));return o(e,this.props.filter)}});t.exports=l},{}],409:[function(e,t){"use strict";var n=e(302),i=e(407),r=e(488),o=e(508),a=e(411),s=e(399),l="CATEGORY_COMMAND_APPLICATION",c=n.createClass({displayName:"ShortcutKeyList",getInitialState:function(){return{commandArray:r.getAllCommands(),openCategories:[l]}},_onStoreChange:function(){this.setState({commandArray:r.getAllCommands()})},componentWillMount:function(){r.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){r.removeChangeListener(this._onStoreChange)},switchCategory:function(e){var t=this.state.openCategories;t=t.includes(e)?[]:[e],this.setState({openCategories:t})},renderCategories:function(e){var t=e.reduce(function(e,t){return e[t.category]=(e[t.category]||[]).concat(t),e},{}),i=Object.keys(t).map(function(e){return this.renderCategory(e,t[e])}.bind(this));return n.createElement("div",null,i)},renderCategory:function(e,t){var i=this,r=s(e),o=this.props.filter||this.state.openCategories.includes(e)?"show":"hide";return n.createElement("div",{className:"category "+o,key:e},n.createElement("button",{onClick:this.switchCategory.bind(this,e)},r),n.createElement("div",{className:"list"},t.map(function(e){return i.renderCommandKeys(e)})))},renderCommandKeys:function(e){for(var t=this.state.commandArray.map(function(e){return e.shortcut?e.shortcut:null}),r=t.reduce(function(e,t){return e.concat(t)}),a=[],s=0;s<r.length;s++)r[s]&&a.push(r[s]);if("mac"===this.props.platform&&"COMMAND_TOGGLE_MENU_POSITION"===e.name)return null;if("read-only"===this.props.view)return n.createElement("div",{className:"keycombo"},n.createElement("label",null,e.label),e.shortcut&&e.shortcut.map(function(e){return[n.createElement("span",{className:e.length>1?"item":"item single"},o(e))]}));var l="key-"+e.action.name;return n.createElement("div",{className:"keycombo"},n.createElement("label",{htmlFor:l},e.label),n.createElement(i,{id:l,onSelect:this.onChange,onExecute:this.onChange,key:e.name,onSave:this.saveKey,existingCombos:a,command:e}))},render:function(){var e,t=this;e=this.state.commandArray.filter("read-only"===this.props.view?function(e){return Boolean(e.shortcut&&e.shortcut.length>0)}:function(e){return!Boolean(e.notEditable)});var n=this.renderCategories([]);return a(n,this.props.filter)?this.renderCategories(e):(e=e.filter(function(e){return e.label.toLowerCase().indexOf(t.props.filter.toLowerCase())>-1||(e.shortcut||[]).some(function(e){return e.toLowerCase().indexOf(this.props.filter.toLowerCase())>-1}.bind(t))}),e.length>0?this.renderCategories(e):null)}});t.exports=c},{}],410:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(302),r=e(506),o=e(385),a=e(408),s=e(409),l=e(309),c=i.createClass({displayName:"ShortcutKeys",mixins:[o],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS"],restoreKeys:function(){l.restoreCommandShortcutKeys()},render:function(){return i.createElement("div",{className:this.state.DISABLE_SINGLE_KEY_SHORTCUTS?"setting-group unlimited singlekeydisabled":"setting-group unlimited"},i.createElement("h2",null,r("Keyboard")),i.createElement(a,this.props),i.createElement("h3",null,r("Keyboard Shortcuts")),i.createElement("div",{className:"keystrokes "},i.createElement(s,n({},this.props,{view:"editable"}))),i.createElement("div",{className:"setting-single"},i.createElement("input",{type:"button",className:"mousetrap",onClick:this.restoreKeys,value:r("Restore Default Keys")})))}});t.exports=c},{}],411:[function(e,t){"use strict";var n=e(302),i=function r(e,t){if("string"==typeof e)return-1!==e.toLowerCase().indexOf(t);if(e&&"input"===e.type)return-1!==(e.props.value||"").toLowerCase().indexOf(t);if(e&&e.props&&e.props.children){var i=!1;return n.Children.forEach(e.props.children,function(e){i||(i=r(e,t))}),i}return!1};t.exports=function(e,t){return t?i(e,t)?e:null:e}},{}],412:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(509),o=e(506),a=e(411),s=n.createClass({displayName:"LanguageSetting",getInitialState:function(){return{language:"en-US"}},componentWillMount:function(){i.i18n.getAcceptLanguages(function(){}),r.get("BROWSER_LANGUAGE",function(e){this.setState({language:e})}.bind(this)),this.locales=[{key:"ar",value:o("Arabic")+" - "},{key:"be",value:o("Belarusian")+" - "},{key:"bg",value:o("Bulgarian")+" - "},{key:"cs",value:o("Czech")+" - etina"},{key:"da",value:o("Danish")+" - Dansk"},{key:"de",value:o("German")+" - Deutsch"},{key:"el",value:o("Greek")+" - "},{key:"en-US",value:o("English")+" - English"},{key:"es",value:o("Spanish")+" - Espaol"},{key:"et",value:o("Estonian")+" - Eesti keel"},{key:"fa",value:o("Persian")+" - "},{key:"fr",value:o("French")+" - Franais"},{key:"gl",value:o("Galician")+" - Galego"},{key:"hu",value:o("Hungarian")+" - Magyar"},{key:"hr",value:o("Croatian")+" - Hrvatski"},{key:"hy",value:o("Armenian")+" - "},{key:"id",value:o("Indonesian")+" - Bahasa Indonesia"},{key:"io",value:o("Ido")+" - Ido"},{key:"is",value:o("Icelandic")+" - slenska"},{key:"it",value:o("Italian")+" - Italiano"},{key:"ja",value:o("Japanese")+" - "},{key:"jbo",value:o("Lojban")+" - lo banjubu'o"},{key:"ko",value:o("Korean")+" - "},{key:"lt",value:o("Lithuanian")+" - Lietuvi"},{key:"lv",value:o("Latvian")+" - Latvieu"},{key:"mk",value:o("Macedonian")+" - "},{key:"nb",value:o("Norwegian (Bokml)")+" - Norsk (bokml)"},{key:"nn",value:o("Norwegian (Nynorsk)")+" - Norsk (nynorsk)"},{key:"nl",value:o("Dutch")+" - Nederlands"},{key:"pl",value:o("Polish")+" - Polski"},{key:"pt_BR",value:o("Portuguese (Brazil)")+" - Portugus (Brasil)"},{key:"pt_PT",value:o("Portuguese (Portugal)")+" - Portugus (Europeu)"},{key:"ro",value:o("Romanian")+" - Romn"},{key:"ru",value:o("Russian")+" - "},{key:"sk",value:o("Slovak")+" - Slovenina"},{key:"sl",value:o("Slovenian")+" - Slovenski"},{key:"sr",value:o("Serbian")+" - "},{key:"sv",value:o("Swedish")+" - Svenska"},{key:"tr",value:o("Turkish")+" - Trke"},{key:"uk",value:o("Ukrainian")+" - "},{key:"vi",value:o("Vietnamese")+" - Ting Vit"},{key:"zh_CN",value:o("Chinese (China)")+" - "},{key:"zh_TW",value:o("Chinese (Taiwan)")+" - "}],this.locales.sort(function(e,t){return e.value>t.value?1:e.value<t.value?-1:0})},render:function(){var e=n.createElement("span",null,n.createElement("h2",null,o("Language")),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,o("Select interface language")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("select",{onChange:this.langChanged,className:"mousetrap",value:this.state.language},this.locales.map(function(e){return n.createElement("option",{key:e.key,value:e.key},e.value)})),n.createElement("span",null,o("Browser Language")))),n.createElement("div",{className:"setting-single"},n.createElement("input",{type:"button",className:"primary",onClick:this.saveLanguage,value:o("Save Language")}))));return a(e,this.props.filter)},langChanged:function(e){console.log(e.target.value),this.setState({language:e.target.value})},saveLanguage:function(){r.set({BROWSER_LANGUAGE:this.state.language}),i.importData.setVivaldiLanguage(this.state.language,function(){this.props.restartBrowserDlg()}.bind(this))}});t.exports=s},{}],413:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(506),o=e(411),a=e(509),s=n.createClass({displayName:"Privacy",getInitialState:function(){return{"alternate_error_pages.enabled":!1,"safebrowsing.enabled":!1,"safebrowsing.extended_reporting_enabled":!1,enable_do_not_track:!1,"search.suggest_enabled":!1,URLBAR_SEARCH_DISABLED:!1}},componentWillMount:function(){function e(e){r.setState(e)}function t(e,t){for(var n={},i=0;i<e.length;i++)"alternate_error_pages.enabled"===e[i].preferenceKey&&(n["alternate_error_pages.enabled"]=e[i].preferenceValue.boolean),"safebrowsing.extended_reporting_enabled"===e[i].preferenceKey&&(n["safebrowsing.extended_reporting_enabled"]=e[i].preferenceValue.boolean),"safebrowsing.enabled"===e[i].preferenceKey&&(n["safebrowsing.enabled"]=e[i].preferenceValue.boolean),"search.suggest_enabled"===e[i].preferenceKey&&(n["search.suggest_enabled"]=e[i].preferenceValue.boolean),"enable_do_not_track"===e[i].preferenceKey&&r.setState({enable_do_not_track:e[i].preferenceValue.boolean});t(n)}var n=this,r=this;i.settings.getPreference(function(n){t(n,e)}),a.get("URLBAR_SEARCH_DISABLED",function(e){console.log("loaded search pref",e),n.setState({URLBAR_SEARCH_DISABLED:e})})},handleVivaldiSettingsChanged:function(){var e=!this.state.URLBAR_SEARCH_DISABLED;this.setState({URLBAR_SEARCH_DISABLED:e}),a.set({URLBAR_SEARCH_DISABLED:e})},handleSettingsChange:function(e){i.settings.togglePreference(e,function(t){var n={};n[e]=t,this.setState(n)}.bind(this))},render:function(){var e=n.createElement("span",null,n.createElement("h2",null,r("Privacy")),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,r("Third Party Services")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",checked:this.state["safebrowsing.enabled"],onChange:this.handleSettingsChange.bind(this,"safebrowsing.enabled")}),n.createElement("span",null,r("Enable Google Phishing and Malware Protection")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",checked:this.state["safebrowsing.extended_reporting_enabled"],onChange:this.handleSettingsChange.bind(this,"safebrowsing.extended_reporting_enabled")}),n.createElement("span",null,r("Report Safe Browsing Incidents to Google")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",checked:this.state.URLBAR_SEARCH_DISABLED,onChange:this.handleVivaldiSettingsChanged}),n.createElement("span",null,r("Disable Search in Address Field"))))),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,r("Do Not Track")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",checked:this.state.enable_do_not_track,onChange:this.handleSettingsChange.bind(this,"enable_do_not_track")}),n.createElement("span",null,r("Ask Websites Not to Track Me"))))));return o(e,this.props.filter)}});t.exports=s},{}],414:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(407),o=e(508),a=e(106),s=n.createClass({displayName:"QuickCommandItem",getInitialState:function(){return{keyValue:this.props.commandObj.command.shortcut}},render:function(){return"command"===this.props.commandObj.type?n.createElement("li",{"data-selected":this.props.selected?"":null,className:a({editing:this.props.editing})+" quick-command",onClick:this.handleClick,onMouseOver:this.mouseOver},n.createElement("span",{className:"quick-command-title"},this.props.commandObj.name),n.createElement("span",{className:"view quick-command-meta",onClick:this.handleEdit},o(this.state.keyValue)),this.props.editing?n.createElement(r,{setFocus:!0,command:this.props.commandObj,editing:this.props.editing,onCancel:this.cancel,onSave:this.saveKey,key:this.props.commandObj.key}):null):n.createElement("li",{"data-selected":this.props.selected?"":null,className:a({editing:this.props.editing})+" quick-command",onClick:this.handleClick,onMouseOver:this.mouseOver},n.createElement("img",{className:"quick-command-favicon",src:this.props.commandObj.imageUrl}),n.createElement("span",{className:"quick-command-title"},this.props.commandObj.name),n.createElement("span",{className:"quick-command-meta"},this.props.commandObj.name2))},cancel:function(){this.props.onCancel()},saveKey:function(e,t){var n={};n[e]=t,this.setState({keyValue:t}),i.set(n),this.props.onCancel()},handleClick:function(e){this.props.editing||this.props.onExecute(e,this.props.commandObj.id),e.stopPropagation(),e.preventDefault()},mouseOver:function(e){this.props.onMouseOver(e,this.props.commandObj.id),e.stopPropagation(),e.preventDefault()},handleEdit:function(){}});t.exports=s},{}],415:[function(e,t){"use strict";var n=e(302),i=e(339),r=e(335),o=e(333),a=e(414),s=e(506),l=e(309),c=e(317),u=e(488),h=e(480).session,d=e(105),p=n.addons.CSSTransitionGroup,f=e(482).urls,m=e(509),g=e(117),v=n.createClass({displayName:"QuickCommandSearch",mixins:[r,i],mouseX:0,mouseY:0,getInitialState:function(){return{quickCommandSearchValue:"",selected:"",editingCommandId:null,bookmarkNicks:[],bookmarkFolders:[],historyArr:[],searchEngines:[],currentSearchEngine:null,defaultSearchEngine:null}},componentWillMount:function(){m.get(["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],function(e){this.setState({searchEngines:e.SEARCH_ENGINES,defaultSearchEngine:e.DEFAULT_SEARCH_ENGINE})}.bind(this)),this.setMultiSelectInMixin(!1)},componentDidUpdate:function(e,t){if(t.quickCommandSearchValue!==this.state.quickCommandSearchValue&&"/."===this.state.quickCommandSearchValue)return c.newTab("http://slashdot.org/"),void this.props.onClose();if(t.quickCommandSearchValue){var n=this.getActions();this.refs.quickCommandHint.getDOMNode().value="";var i=this.SelectionMixinGetSelected();if(i)for(var r=0;r<n.length;r++)if(i.id===n[r].key){if("bookmarkNick"===n[r].type&&t.quickCommandSearchValue===n[r].command.nickname)return void this.executeCommand(n[r]);if(0===n[r].name.toLowerCase().indexOf(t.quickCommandSearchValue.toLowerCase())){var o=n[r].name.substring(t.quickCommandSearchValue.length,n[r].name.length),a=t.quickCommandSearchValue+o;this.refs.quickCommandHint.getDOMNode().value=a;break}}}},componentWillUpdate:function(){this.state.navigationModel.clear()
},onCancel:function(){this.setState({editingCommandId:null}),this.KeyboardNavigationMixinOnFocus(),this.refs.quickCommand.getDOMNode().focus()},onQuickCommandSearchKeyDown:function(e){e.keyCode==o.KEY_ESCAPE&&(e.stopPropagation(),e.preventDefault())},onQuickCommandSearchKeyUp:function(e){if(this.refs.quickCommandHint.getDOMNode().value="",this.setState({editingCommandId:null}),e.keyCode===o.KEY_SHIFT||e.keyCode===o.KEY_CONTROL||e.keyCode===o.KEY_UP||e.keyCode===o.KEY_DOWN||e.keyCode===o.KEY_LEFT||e.keyCode===o.KEY_RIGHT){var t=this.refs.selected?this.refs.selected.getDOMNode():null;if(t){var n=this.refs.quickCommands.getDOMNode();n.scrollTop=t.offsetTop>245?t.offsetTop-200:0}e.stopPropagation(),e.preventDefault()}else if(e.keyCode==o.KEY_ESCAPE)this.state.quickCommandSearchValue.length>0?this.setState({quickCommandSearchValue:"",typeAheadHint:""}):this.props.onClose(),e.stopPropagation(),e.preventDefault();else if(e.keyCode===o.KEY_RETURN){var i=this.SelectionMixinGetSelected();this.executeCommand(this.getCommandByStringId(i))}else this.resetSelectionModel()},getCommandByStringId:function(e){for(var t=this.getActions(),n=t.length,i=0;n>i;i++)if(t[i].id===e)return t[i]},executeCommand:function(e){this.props.onClose(),e&&e.hasOwnProperty("type")&&("openTab"===e.type?h.openPage(e.command):"bookmarkNick"===e.type?c.newTab(e.command.url):"url"===e.type?c.newTab(e.name):"search"===e.type?c.newTab(e.value):"command"===e.type?l.executeActions(e.id):"history"===e.type?c.newTab(e.command.url):"bookmarkFolders"===e.type&&d.bookmarks.getSubTree(e.command.id,function(e){for(var t=0;t<e[0].children.length;t++)e[0].children[t].url&&c.newTab(e[0].children[t].url)}))},hintChange:function(){},searchChange:function(e){var t=null,n=e.target.value;if(n.length>0&&n.indexOf(" ")>=1)for(var i=n.substring(0,n.indexOf(" ")),r=0;r<this.state.searchEngines.length;r++)if(this.state.searchEngines[r].Keyword===i){t=this.state.searchEngines[r];break}d.history.search({text:n,maxResults:10},function(e){this.setState({historyArr:e})}.bind(this)),n.length>=1&&d.bookmarks.search(n,function(e){this.setState({bookmarkNicks:e,bookmarkFolders:e.filter(function(e){return!e.url})})}.bind(this)),this.setState({quickCommandSearchValue:n,currentSearchEngine:t})},selectById:function(e){this.SelectionMixinSelectItem(e)},onEdit:function(e,t){this.SelectionMixinSelectItem(e.id,t.ctrlKey,t.shiftKey,2==t.button),this.setState({editingCommandId:e.id})},select:function(e,t,n){this.SelectionMixinSelectItem(n,t.ctrlKey,t.shiftKey,2==t.button),this.SelectionMixinIsSelected(n)&&e.key!==this.state.editingCommandId&&this.setState({editingCommandId:null})},over:function(e,t,n){(this.mouseX!==t.pageX||this.mouseY!==t.pageY)&&(this.mouseX=t.pageX,this.mouseY=t.pageY,this.SelectionMixinSelectItem(n))},renderActions:function(e){return e.map(function(e){this.KeyboardNavigationMixinAddToNavigationList(e.id);var t=this.SelectionMixinIsSelected(e.id);return n.createElement(a,{ref:t?"selected":"",key:e.id,commandObj:e,selected:t,onSave:this.saveKey,onSelect:this.select.bind(this,e),onExecute:this.executeCommand.bind(this,e),onEdit:this.onEdit.bind(this,e),editing:this.state.editingCommandId===e.id,onCancel:this.onCancel,onMouseOver:this.over.bind(this,e)})}.bind(this))},getCommands:function(){for(var e=u.getQuickCommands(),t=e.length,n=[],i=0;t>i;i++)e[i].label.toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&n.push({id:e[i].name,name:e[i].label,type:"command",faviconurl:"",command:e[i],searchString:e[i].label});return n},getOpenPages:function(){for(var e=h.openPages(),t=[],n=0;n<e.length;n++)(e[n].attributes.title+e[n].attributes.url).toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&t.push({id:e[n].attributes.id,name:e[n].attributes.title,name2:f.isInternalUrl(e[n].attributes.url)?"":e[n].attributes.url,type:"openTab",imageUrl:e[n].attributes.faviconurl,searchString:e[n].attributes.title+e[n].attributes.url,command:e[n]});return t},getActions:function(){return this.getBookmarkNicks().concat(this.getCommands().concat(this.getHistory().concat(this.getOpenPages().concat(this.getUrl().concat(this.getSearch().concat(this.getBookmarkFolders().concat(this.getDefaultSearch())))))))},getHistory:function(){for(var e=this.state.historyArr.length,t=[],n=0;e>n;n++)(this.state.historyArr[n].title+this.state.historyArr[n].url).toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&t.push({id:this.state.historyArr[n].id,name:this.state.historyArr[n].title,name2:f.isInternalUrl(this.state.historyArr[n].url)?"":this.state.historyArr[n].url,type:"history",imageUrl:"chrome://favicon/"+this.state.historyArr[n].url,searchString:this.state.historyArr[n].title+this.state.historyArr[n].url,command:this.state.historyArr[n]});return t},getBookmarkNicks:function(){for(var e=this.state.bookmarkNicks.length,t=[],n=0;e>n;n++)this.state.bookmarkNicks[n].url&&(this.state.bookmarkNicks[n].nickname+this.state.bookmarkNicks[n].url+this.state.bookmarkNicks[n].title).toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&t.push({id:this.state.bookmarkNicks[n].id,name:this.state.bookmarkNicks[n].url,name2:this.state.bookmarkNicks[n].nickname,name3:this.state.bookmarkNicks[n].title,type:"bookmarkNick",imageUrl:"chrome://favicon/"+this.state.bookmarkNicks[n].url,searchString:this.state.bookmarkNicks[n].nickname+this.state.bookmarkNicks[n].url+this.state.bookmarkNicks[n].title,command:this.state.bookmarkNicks[n]});return t},getBookmarkFolders:function(){for(var e=this.state.bookmarkFolders.length,t=[],n=0;e>n;n++)t.push({id:this.state.bookmarkFolders[n].id,name:this.state.bookmarkFolders[n].title,name2:"",name3:"",type:"bookmarkFolders",imageUrl:"/resources/folder@2x.png",searchString:this.state.bookmarkFolders[n].nickname+this.state.bookmarkFolders[n].title,command:this.state.bookmarkFolders[n]});return t},getUrl:function(){var e=[];return this.state.quickCommandSearchValue&&-1===this.state.quickCommandSearchValue.indexOf(" ")&&e.push({id:this.state.quickCommandSearchValue,name:"http://"+this.state.quickCommandSearchValue,name2:s("Address"),name3:"",type:"url",imageUrl:"chrome://favicon/"+this.state.quickCommandSearchValue,searchString:this.state.quickCommandSearchValue,command:"fixed"}),e},getSearch:function(){var e=[];if(this.state.currentSearchEngine){var t=this.state.quickCommandSearchValue,n=t.substring(t.indexOf(" "),t.length),i=this.state.currentSearchEngine.Url,r=i.replace("%s",n.replace(" ","+"));e.push({id:this.state.currentSearchEngine.Name,name:s("Search: ")+n,name2:this.state.currentSearchEngine.Name,name3:"",type:"search",imageUrl:this.state.currentSearchEngine.Image,searchString:this.state.quickCommandSearchValue,command:"fixed",value:r})}return e},getDefaultSearch:function(){var e=[];if(this.state.quickCommandSearchValue&&this.state.defaultSearchEngine&&!this.state.currentSearchEngine){var t=this.state.searchEngines[this.state.defaultSearchEngine],n=this.state.quickCommandSearchValue,i=t.Url,r=i.replace("%s",n.replace(" ","+"));e.push({id:t.Name,name:s("Default Search: ")+this.state.quickCommandSearchValue,name2:t.Name,name3:"",type:"search",imageUrl:t.Image,searchString:this.state.quickCommandSearchValue,command:"fixed",value:r})}return e},renderBookmarkNicks:function(){return this.getBookmarkNicks().length>0?n.createElement("span",null,n.createElement("div",{className:"quick-command-sectionheader"},s("Bookmarks")),n.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getBookmarkNicks()))):null},renderBookmarkFolders:function(){return this.getBookmarkFolders().length>0?n.createElement("span",null,n.createElement("div",{className:"quick-command-sectionheader"},s("Open all bookmarks in folder")),n.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getBookmarkFolders()))):null},renderUrl:function(){return this.getUrl().length>0&&g(this.state.quickCommandSearchValue)?n.createElement("span",null,n.createElement("div",{className:"quick-command-sectionheader"},s("Address")),n.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getUrl()))):null},renderSearch:function(){return this.getSearch().length>0?n.createElement("span",null,n.createElement("div",{className:"quick-command-sectionheader"},s("verb","Search")),n.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getSearch()))):null},renderDefaultSearch:function(){return this.getDefaultSearch().length>0?n.createElement("span",null,n.createElement("div",{className:"quick-command-sectionheader"},s("Default search")),n.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getDefaultSearch()))):null},renderOpenTabs:function(){return this.getOpenPages().length>0?n.createElement("span",null,n.createElement("div",{className:"quick-command-sectionheader"},s("Tabs")),n.createElement("ul",{className:"quick-commands-tabs"},this.renderActions(this.getOpenPages()))):null},renderHistory:function(){return this.getHistory().length>0?n.createElement("span",null,n.createElement("div",{className:"quick-command-sectionheader"},s("History")),n.createElement("ul",{className:"quick-commands-history"},this.renderActions(this.getHistory()))):null},renderCommands:function(){return this.getCommands().length>0?n.createElement("span",null,n.createElement("div",{className:"quick-command-sectionheader"},s("Commands")),n.createElement("ul",{className:"quick-commands-actions"},this.renderActions(this.getCommands()))):null},render:function(){return n.createElement(p,{transitionName:"fipanimate"},n.createElement("div",{className:"quick-command-container",onFocus:this.KeyboardNavigationMixinOnFocus,onBlur:this.KeyboardNavigationMixinOnBlur},n.createElement("input",{tabIndex:"-1",readOnly:!0,ref:"quickCommandHint",className:"quick-command-search-hint",value:this.state.typeAheadHint,onChange:this.hintChange}),n.createElement("input",{autoFocus:!0,ref:"quickCommand",className:"mousetrap quick-command-search",placeholder:s("Filter Quick Commands"),onKeyDown:this.onQuickCommandSearchKeyDown,onKeyUp:this.onQuickCommandSearchKeyUp,value:this.state.quickCommandSearchValue,onChange:this.searchChange}),n.createElement("div",{className:"quick-commands",ref:"quickCommands"},this.renderUrl(),this.renderSearch(),this.renderDefaultSearch(),this.renderOpenTabs(),this.renderCommands(),this.renderBookmarkNicks(),this.renderBookmarkFolders(),this.renderHistory())))}});t.exports=v},{}],416:[function(e,t){"use strict";var n=e(302),i=e(506),r=n.createClass({displayName:"SavedPasswordItem",render:function(){return n.createElement("span",null,n.createElement("div",{className:"setting-subgroup"},n.createElement("div",{className:"setting-single"},n.createElement("dl",null,n.createElement("dt",null,i("Website")),n.createElement("dd",null,this.props.savedPassword.origin)),n.createElement("dl",null,n.createElement("dt",null,i("Username")),n.createElement("dd",null,this.props.savedPassword.username))),n.createElement("div",{className:"setting-single"},n.createElement("input",{className:"danger",type:"button",onClick:this.props.onDelete,value:i("Delete")}))))}});t.exports=r},{}],417:[function(e,t){"use strict";var n=e(302),i=e(416),r=e(506),o=e(105),a=e(411),s=n.createClass({displayName:"SavedPasswords",getInitialState:function(){return{savedPasswordsData:[]}},componentWillMount:function(){this.getSavedPassords()},deleteSavedPassword:function(e){o.savedpasswords.remove(e.id,function(){this.getSavedPassords()}.bind(this))},getSavedPassords:function(){o.savedpasswords.getList(function(e){this.setState({savedPasswordsData:e})}.bind(this))},render:function(){var e=n.createElement("div",{className:"setting-group unlimited"},n.createElement("h2",null,r("Passwords")),this.state.savedPasswordsData.length>0?n.createElement("span",null,this.state.savedPasswordsData.map(function(e){return n.createElement(i,{key:e.id,savedPassword:e,onDelete:this.deleteSavedPassword.bind(this,e)})}.bind(this))):n.createElement("p",null,r("No saved passwords found.")));return a(e,this.props.filter)}});t.exports=s},{}],418:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(385),o=e(506),a=13,s=n.createClass({displayName:"CreateSearchEngine",mixins:[r],vivaldiSettingsKeys:["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],getInitialState:function(){return{name:this.props.name,url:this.props.url?this.props.url.replace("{searchTerms}","%s"):"","default":!1}},newSearchKeyDown:function(e){e.which===a&&this.create()},create:function(){var e=n.findDOMNode(this.refs.newName).value.trim(),t=n.findDOMNode(this.refs.newKeyword).value.trim(),i=n.findDOMNode(this.refs.newURL).value.trim();e&&i&&(this.createSearchEngine({name:e,keyword:t,url:i}),"function"==typeof this.props.onClose&&this.props.onClose())},nameChange:function(e){this.setState({name:e.target.value})},defaultChange:function(e){this.setState({"default":e.target.checked})},urlChange:function(e){this.setState({url:e.target.value})},createSearchEngine:function(e){var t=this.state.SEARCH_ENGINES,n=Math.max.apply(Math,t.map(function(e){return e.Id}));n=isNaN(n)?0:n+1,t.push({Id:Number(n),Name:e.name,Keyword:e.keyword,Url:e.url}),i.set({SEARCH_ENGINES:t}),this.state.default&&i.set({DEFAULT_SEARCH_ENGINE:n})},render:function(){return n.createElement("div",{className:this.props.showAsDlg?null:"setting-section unlimited search-engine-add"},this.props.showAsDlg&&n.createElement("header",{className:"dialog-header"},n.createElement("h1",{className:"dialog-title"},o("Add Search Engine"))),!this.props.showAsDlg&&n.createElement("div",null,n.createElement("h3",null,o("Add Search Engine")),n.createElement("p",{className:"info"},o("Substitute search keyword in address with %s"))),n.createElement("div",{className:this.props.showAsDlg?"dialog-content":"setting-subgroup"},n.createElement("div",{className:this.props.showAsDlg?"fieldset":"setting-flexgroup"},n.createElement("input",{className:"searchengine_url setting-single-flex",type:"text",ref:"newURL",onKeyDown:this.newSearchKeyDown,placeholder:o("URL"),value:this.state.url,onChange:this.urlChange})),n.createElement("div",{className:this.props.showAsDlg?"fieldset":"setting-flexgroup"},n.createElement("input",{className:"setting-single-flex",type:"text",ref:"newName",onKeyDown:this.newSearchKeyDown,value:this.state.name,placeholder:o("Description"),onChange:this.nameChange}),n.createElement("input",{className:"searchengine_keyword setting-single-noflex",type:"text",ref:"newKeyword",placeholder:o("Nickname"),onKeyDown:this.newSearchKeyDown})),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:this.state.default,onChange:this.defaultChange}),n.createElement("span",null,o("Set as Default"))))),n.createElement("footer",{className:this.props.showAsDlg?"dialog-footer":"setting-section pad-top"},n.createElement("input",{type:"button",className:this.props.showAsDlg?"primary":"setting-single-noflex primary",onClick:this.create,value:o("Add")}),n.createElement("input",{type:"button",className:this.props.showAsDlg?null:"setting-single-noflex",onClick:this.props.onClose,value:o("Cancel")})))}});t.exports=s},{}],419:[function(e,t){"use strict";var n=e(302),i=e(418),r=e(358),o=n.createClass({displayName:"CreateSearchEngineDlg",handleClick:function(){console.log("handleclick");var e={dialogText:this.state.value};this.state.shown&&this.props.onClose(e),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",shown:!0,modalShown:!1}},getLayeredComponentRootNode:function(){return this.props.parentDiv},componentWillReceiveProps:function(){this.setState({shown:!0})},render:function(){return this.state.shown?n.createElement(r,{onRequestClose:this.handleClick},n.createElement("div",{className:"dialog-addsearch"},n.createElement(i,{showAsDlg:!0,onClose:this.handleClick,name:this.props.name,url:this.props.url}))):n.createElement("div",null)},startImport:function(){}});t.exports=o},{}],420:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(385),o=e(418),a=e(506),s=e(303),l=e(100),c=e(106),u=e(411),h=n.createClass({displayName:"SearchEngines",mixins:[r],vivaldiSettingsKeys:["SEARCH_FIELD_ENABLED","SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],getInitialState:function(){return{SEARCH_ENGINES:[],editing:null,adding:!1,defaultSearchEngineId:-1,selectedSearchEngineId:-1,foundSearchEngine:!1}},componentWillReceiveProps:function(e){if(this.state.SEARCH_ENGINES.length>0&&e.filter.length>0){for(var t=this.state.SEARCH_ENGINES,n=0;n<t.length;n++)if((t[n].Keyword+t[n].Url+t[n].Name).toLowerCase().indexOf(e.filter.toLowerCase())>-1)return void this.setState({foundSearchEngine:!0});this.setState({foundSearchEngine:!1})}},onSearchEngineChanged:function(){var e=this;i.set({SEARCH_ENGINES:this.state.SEARCH_ENGINES.map(function(t){return e.state.selectedSearchEngineId===t.Id&&(t.Url=n.findDOMNode(e.refs.urlInput).value,t.Keyword=n.findDOMNode(e.refs.keywordInput).value),t})}),this.setState({editing:null,adding:!1})},deleteSearchEngine:function(e){var t=s.reject(s.map(this.state.SEARCH_ENGINES,function(e){return delete e._Text,e}),function(t){return t.Id===e});i.set({SEARCH_ENGINES:t}),this.setState({editing:null,selectedSearchEngineId:-1})},cancel:function(){this.setState({adding:!1,editing:null,selectedSearchEngineId:-1})},createSearchEngine:function(e){var t,n=s.map(this.state.SEARCH_ENGINES,function(e){return delete e._Text,e}),r=Math.max.apply(Math,n.map(function(e){return e.Id}));t={Id:r?r+1:0,Name:e.name,Keyword:e.keyword,Url:e.url},n.push(t),this.setState({adding:!1}),i.set({SEARCH_ENGINES:n})},restoreSearchEngines:function(){var e=i.getDefault("SEARCH_ENGINES"),t=i.getDefault("DEFAULT_SEARCH_ENGINE");i.set({DEFAULT_SEARCH_ENGINE:t,SEARCH_ENGINES:e}),this.setState({editing:null,selectedSearchEngineId:-1,adding:!1})},addNewSearchEngine:function(){this.setState({adding:!this.state.adding,selectedSearchEngineId:-1})},edit:function(e,t){this.setState({adding:!1,editing:e},function(){t()})},onSearchEngineSelected:function(e){this.setState(this.state.selectedSearchEngineId===e?{selectedSearchEngineId:-1}:{selectedSearchEngineId:e})},setSearchEnabled:function(e){var t=e.target.checked;i.set({SEARCH_FIELD_ENABLED:t})},setDefault:function(e){i.set({DEFAULT_SEARCH_ENGINE:e.toString()}),this.setState({editing:null,selectedSearchEngineId:-1,adding:!1})},renderList:function(){var e=this;return this.state.SEARCH_ENGINES.map(function(t){var i=t.Id==e.state.DEFAULT_SEARCH_ENGINE,r=l.parse(t.Url),o=r.protocol,s=r.host,c="/resources/page-web@2x.png";return t.FaviconUrl?c=t.FaviconUrl:"https:"===o&&(c="https://"+s+"/favicon.ico"),n.createElement("li",{onDoubleClick:e.onSearchEngineSelected.bind(e,t.Id)},n.createElement("span",{className:"favicon"},n.createElement("img",{src:c,alt:"",width:"16",height:"16"})),n.createElement("span",{className:"name"},t.Name),n.createElement("span",{className:"keyword",title:a("Keyboard Shortcut")},t.Keyword),n.createElement("span",{className:"controls"},n.createElement("input",{type:"button",disabled:i,className:"defaultkey",title:a(i?"Default Search Engine":"Set as Default"),onClick:e.setDefault.bind(e,t.Id)}),n.createElement("input",{type:"button",className:"editkey",title:a("Edit Search Engine"),onClick:e.onSearchEngineSelected.bind(e,t.Id)}),n.createElement("input",{type:"button",disabled:i,className:"clearkey",title:a("Remove Search Engine"),onClick:e.deleteSearchEngine.bind(e,t.Id)})))})},render:function(){if(!this.state.SEARCH_ENGINES||!this.state.DEFAULT_SEARCH_ENGINE)return null;var e=null;parseInt(this.state.selectedSearchEngineId)>-1&&(e=s.findWhere(this.state.SEARCH_ENGINES,{Id:parseInt(this.state.selectedSearchEngineId)}));var t=n.createElement("div",null,n.createElement("h2",null,a("noun","Search")),n.createElement("div",{className:"setting-group unlimited pad-top"},n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",checked:this.state.SEARCH_FIELD_ENABLED,onChange:this.setSearchEnabled}),n.createElement("span",null,a("Display Search Field in Address Bar"))))),n.createElement("div",{className:c({"setting-group":!0,unlimited:!0,"setting-search-engine":!0,"default":this.props.default,editing:this.props.editing})},n.createElement("h3",null,a("Search Engines")),n.createElement("div",{className:"setting-subgroup"},n.createElement("ul",{className:"se-list"},this.renderList()),parseInt(this.state.selectedSearchEngineId)>-1&&n.createElement("div",{className:"setting-group unlimited search-engine-create"},n.createElement("h3",null,a("Edit Search Engine")),n.createElement("div",{className:"setting-flexgroup"},n.createElement("input",{ref:"urlInput",className:"searchengine_url setting-single-flex",type:"text",title:a("Search Engine Address"),placeholder:a("URL"),value:null!=e&&e.Url,onChange:this.onSearchEngineChanged})),n.createElement("div",{className:"setting-flexgroup"},n.createElement("input",{className:"setting-single-flex",type:"text",ref:"nameInput",onKeyDown:this.newSearchKeyDown,placeholder:a("Description"),value:null!=e&&e.Name,onChange:this.onSearchEngineChanged}),n.createElement("input",{ref:"keywordInput",className:"searchengine_keyword setting-single-noflex",type:"text",title:a("Shortcut for Search Engine"),placeholder:a("Nickname"),value:null!=e&&e.Keyword,onChange:this.onSearchEngineChanged}),n.createElement("input",{type:"button",className:"setting-single-noflex primary",onClick:this.cancel,value:a("OK")}))),this.state.adding&&n.createElement(o,{onClose:this.cancel,onCreate:this.createSearchEngine}),n.createElement("div",{className:"setting-single pad-top"},!this.state.adding&&n.createElement("input",{type:"button",onClick:this.addNewSearchEngine,value:a("Add New Search Engine")}),n.createElement("input",{type:"button",onClick:this.restoreSearchEngines,value:a("Restore Defaults")})))));return this.state.foundSearchEngine?t:u(t,this.props.filter)}});t.exports=h},{}],421:[function(e,t){"use strict";var n=e(130),i=e(438),r=e(426),o=e(424),a=e(442),s=e(410),l=e(423),c=e(432),u=e(428),h=e(425),d=e(427),p=e(430),f=e(412),m=(e(372),e(372),e(431)),g=e(396),v=e(405),E=e(403),b=e(404),_=e(420),y=e(417),S=e(413),C=e(443),w=e(105),k=e(506),A=e(99),I=e(482).urls,N=e(303),T=e(406),O="session",D=n.createClass({displayName:"Settings",mixins:[e(381)],categoryMap:{session:["session"],ui:["ui"],startpage:["startpage"],tabs:["tab"],panel:["panel"],keyboard:["keyboard"],mouse:["mouse"],search:["search"],privacy:["privacy","cookies"],downloads:["downloads"],network:["network"],mail:["mail"],all:[]},categoryTitleMap:{session:k("Startup"),ui:k("Appearance"),startpage:k("Start Page"),tabs:k("Tabs"),panel:k("Panel"),keyboard:k("Keyboard"),mouse:k("Mouse"),search:k("noun","Search"),privacy:k("Privacy"),sync:k("Sync"),network:k("Network"),downloads:k("Downloads"),history:k("History"),mail:k("Mail"),calendar:k("Calendar"),contacts:k("Contacts"),all:k("Display All")},getInitialState:function(){return{filterSetting:"",categoryTitle:O,filterCategory:this.categoryMap[O],restartDialogDiv:null,cookieManagerDiv:null,currentOS:""}},componentWillMount:function(){w.runtime.getPlatformInfo(function(e){this.setState({currentOS:e.os})}.bind(this))},componentWillReceiveProps:function(e){if(e.page&&e.page.get("url")){var t=this._parseUrl(e.page.get("url"),"query"),n=t?"all":this._parseUrl(e.page.get("url"),"path"),i=this.categoryMap[n]?this.categoryMap[n]:[],r=n?n:O;this.setState({filterSetting:t,categoryTitle:r,filterCategory:i})}},_selectedCategoryContains:function(e){return this.state.filterCategory?0===this.state.filterCategory.length||N.intersection(this.state.filterCategory,e).length>0:void 0},onClear:function(){this._onClickHelper("vivaldi://settings/",O)},setStateFromPath:function(e){this.setState({categoryTitle:e,filterCategory:this.categoryMap[e]||[]})},_onClickHelper:function(e,t,i,r){this.setState({filterSetting:""}),void 0!==this.props.page&&this.state.categoryTitle!==t?(this.props.page.set("url",I.getUrl(e)),this.props.page.set("title",i?i:k("Settings")),this.props.page.set("faviconurl",r?r:w.extension.getURL("/resources/favicon_settings.png"))):this.setStateFromPath(t),n.findDOMNode(this.refs.content).scrollTop=0},onCategoryClick:function(e){this._onClickHelper("vivaldi://settings/"+e+"/",e)},showCookieManager:function(){this.setState({cookieManagerDiv:n.findDOMNode(this.refs.setting)})},onSettingsFilter:function(){var e=n.findDOMNode(this.refs.filter);this.setState({filterCategory:[],categoryTitle:"all",filterSetting:e.value.toLowerCase()})},showRestartDialog:function(){this.setState({restartDialogDiv:n.findDOMNode(this.refs.setting)})},closeCookieManager:function(){this.setState({cookieManagerDiv:null})},closeDialog:function(){this.setState({restartDialogDiv:null})},_parseUrl:function(e,t){var n=e.split("?"),i=n&&n.length>1?A.parse(n[1])[t]:null;return i},renderButtons:function(){var e=this;return Object.keys(this.categoryMap).map(function(t){return"network"===t&&"linux"===e.state.currentOS||"mail"===t?null:n.createElement("button",{key:t.id,onClick:e.onCategoryClick.bind(e,t),className:e.state.categoryTitle===t?t+" on":t+" off"},n.createElement("span",null,e.categoryTitleMap[t]))})},render:function(){var e="vivaldi-settings";return""===this.state.categoryTitle&&(e+=" initial"),n.createElement("div",{className:e,ref:"setting"},n.createElement("header",{className:"settings-header"},n.createElement("h1",null,k("Vivaldi Settings"),this.state.categoryTitle&&": "+this.categoryTitleMap[this.state.categoryTitle])),n.createElement("nav",{ref:"categories",className:"settings-navigation"},n.createElement("header",{className:"settings-navigation-header"},n.createElement("input",{className:"settings-search",ref:"filter",value:this.state.filterSetting,type:"search",placeholder:k("Search..."),onChange:this.onSettingsFilter,autoFocus:""===this.state.categoryTitle})),n.createElement("section",null,this.renderButtons())),this.state.categoryTitle.length>0&&n.createElement("div",{className:"settings-content",ref:"content"},this._selectedCategoryContains(["session"])&&n.createElement("section",{className:"setting-section"},n.createElement(i,{filter:this.state.filterSetting})),this._selectedCategoryContains(["session"])&&"linux"!==this.state.currentOS&&"mac"!==this.state.currentOS&&n.createElement("section",{className:"setting-section"},n.createElement(f,{restartBrowserDlg:this.showRestartDialog,filter:this.state.filterSetting})),this._selectedCategoryContains(["ui"])&&n.createElement("section",{className:"setting-section"},n.createElement(r,{filter:this.state.filterSetting,platform:this.state.currentOS})),this._selectedCategoryContains(["ui"])&&"mac"!==this.state.currentOS&&n.createElement("section",{className:"setting-section"},n.createElement(p,{filter:this.state.filterSetting})),this._selectedCategoryContains(["ui"])&&"mac"!==this.state.currentOS&&n.createElement("section",{className:"setting-section"},n.createElement(u,{filter:this.state.filterSetting})),this._selectedCategoryContains(["ui","addresbar"])&&n.createElement("section",{className:"setting-section"},n.createElement(h,{filter:this.state.filterSetting})),this._selectedCategoryContains(["ui","bookmarks"])&&n.createElement("section",{className:"setting-section"},n.createElement(d,{filter:this.state.filterSetting})),this._selectedCategoryContains(["startpage"])&&n.createElement("section",{className:"setting-section"},n.createElement(o,{filter:this.state.filterSetting})),this._selectedCategoryContains(["tab"])&&n.createElement("section",{className:"setting-section"},n.createElement(a,{filter:this.state.filterSetting})),this._selectedCategoryContains(["panel"])&&n.createElement("section",{className:"setting-section"},n.createElement(c,{filter:this.state.filterSetting})),this._selectedCategoryContains(["keyboard"])&&n.createElement("section",{className:"setting-section"},n.createElement(s,{filter:this.state.filterSetting,platform:this.state.currentOS})),this._selectedCategoryContains(["mouse"])&&n.createElement("section",{className:"setting-section"},n.createElement(l,{filter:this.state.filterSetting,platform:this.state.currentOS})),this._selectedCategoryContains(["search"])&&n.createElement("section",{className:"setting-section"},n.createElement(_,{filter:this.state.filterSetting,showAsDlg:!1})),null,this._selectedCategoryContains(["privacy"])&&n.createElement("section",{className:"setting-section"},n.createElement(S,{filter:this.state.filterSetting,platform:this.state.currentOS})),this._selectedCategoryContains(["privacy"])&&n.createElement("section",{className:"setting-section"},n.createElement(y,{filter:this.state.filterSetting})),this._selectedCategoryContains(["cookies"])&&n.createElement("section",{className:"setting-section"},n.createElement(v,{showCookieManager:this.showCookieManager,filter:this.state.filterSetting})),this._selectedCategoryContains(["cookies"])&&n.createElement("section",{className:"setting-section"},n.createElement(E,{filter:this.state.filterSetting})),this._selectedCategoryContains(["downloads"])&&n.createElement("section",{className:"setting-section"},n.createElement(T,{filter:this.state.filterSetting,platform:this.state.currentOS})),this._selectedCategoryContains(["sync"])&&!1&&n.createElement("section",{className:"setting-section"},n.createElement(C,{filter:this.state.filterSetting})),this._selectedCategoryContains(["network"])&&"linux"!==this.state.currentOS&&n.createElement("section",{className:"setting-section"},n.createElement(m,{filter:this.state.filterSetting})),this.state.restartDialogDiv&&n.createElement(g,{parentDiv:this.state.restartDialogDiv,onClose:this.closeDialog}),this.state.cookieManagerDiv&&n.createElement(b,{parentDiv:this.state.cookieManagerDiv,onCloseBM:this.closeCookieManager})))}});t.exports=D},{}],422:[function(e,t){"use strict";function n(e){function t(e){var t,r=0,o=0,a=0,s=0,l=0,c=0;for(t=0;t<e.length;t++)"0"===e[t]?l+=1:"4"===e[t]&&(l-=1),l>r&&(r=l),o>l&&(o=l);for(t=0;t<e.length;t++)"2"===e[t]?c-=1:"6"===e[t]&&(c+=1),c>a&&(a=c),s>c&&(s=c);return o>0&&(o=0),s>0&&(s=0),(i-2*n)/Math.max(Math.abs(r-o),Math.abs(a-s))}var n=40,i=200,r=5,o="black",a=50,s=3,l=3;this.points=[],this.points_buffer=[],this.stopped=!0,this.canvas=e,this.init_points=function(){this.points=[],this.points_buffer=[];var e={x:n,y:n};this.points.push(e);var o,a=t(this.sequence);for(o=0;o<this.sequence.length;o++){var s={};"0"===this.sequence[o]?(s.x=this.points[o].x+a,s.y=this.points[o].y):"2"===this.sequence[o]?(s.x=this.points[o].x,s.y=this.points[o].y+a):"4"===this.sequence[o]?(s.x=this.points[o].x-a,s.y=this.points[o].y):"6"===this.sequence[o]&&(s.x=this.points[o].x,s.y=this.points[o].y-a),this.points.push(s)}var l=this.points[0].x,c=this.points[0].y,u=this.points[0].x,h=this.points[0].y;for(o=1;o<this.points.length;o++)this.points[o].x<l&&(l=this.points[o].x),this.points[o].x>u&&(u=this.points[o].x),this.points[o].y<c&&(c=this.points[o].y),this.points[o].y>h&&(h=this.points[o].y);if(n>l){for(o=0;o<this.points.length;o++)this.points[o].x+=-(l-n);u+=-(l-n)}if(n>c){for(o=0;o<this.points.length;o++)this.points[o].y+=-(c-n);h+=-(c-n)}for(o=0;o<this.points.length;o++)this.points[o].x+=(i-n-u)/2,this.points[o].y+=(i-n-h-r)/2;for(o=0;o<this.points.length;o++){var d={x:this.points[o].x,y:this.points[o].y};this.points_buffer.push(d)}},this.reset_points=function(){var e;for(e=0;e<this.points_buffer.length;e++)this.points[e].x=this.points_buffer[e].x,this.points[e].y=this.points_buffer[e].y},this.draw_point=function(e){this.ctx.beginPath(),this.ctx.arc(e.x,e.y,r,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fillStyle=o,this.ctx.fill()},this.idx=0,this.timeout=0,this.draw_segment=function(){if(!this.stopped){if(this.idx>=this.points.length)return this.timeout>=a?(this.timeout=0,this.idx=0,this.reset_points(),void(this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this)))):(this.ctx.fillStyle="rgba(255,255,255,0.15)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.timeout++,void(this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this))));
this.timeout=0,this.ctx.fillStyle="rgba(255,255,255,0.1)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.draw_point(this.points[this.idx]),!this.points[this.idx+1]||this.points[this.idx].x===this.points[this.idx+1].x&&this.points[this.idx].y===this.points[this.idx+1].y?(this.idx++,this.draw_segment()):(this.points[this.idx].x<this.points[this.idx+1].x?this.points[this.idx].x+=s:this.points[this.idx].x>this.points[this.idx+1].x&&(this.points[this.idx].x-=s),this.points[this.idx].y<this.points[this.idx+1].y?this.points[this.idx].y+=l:this.points[this.idx].y>this.points[this.idx+1].y&&(this.points[this.idx].y-=l),this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this)))}},this.clear_canvas=function(){this.ctx.fillStyle="rgb(255,255,255)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)},this.start=function(e){this.sequence=e,this.ctx=this.canvas.getContext("2d"),this.ctx.lineWidth=3,this.clear_canvas(),this.init_points(),this.stopped&&(this.stopped=!1,this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this)))},this.stop=function(){this.stopped=!0,this.current_point_index=0,this.timeout=0,this.idx=0,window.cancelAnimationFrame(this.requestId)}}t.exports=n},{}],423:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(302),r=e(422),o=e(488),a=e(506),s=e(411),l=e(509),c=e(385),u=i.createClass({displayName:"MouseGestures",mixins:[c],vivaldiSettingsKeys:["MOUSE_GESTURES_ENABLED"],selected:void 0,getInitialState:function(){return{commandArray:o.getAllCommands(),assignedArray:o.getCommandsGestures()}},getDefaultProps:function(){return{filter:""}},saveVivaldiSettingFromEvent:function(e,t,i){l.set(n({},e,i.target[t]))},renderGesture:function(){return i.createElement("canvas",{id:"canvas",ref:"gestureCanvas",width:"200",height:"200"})},animation:void 0,renderCommands:function(){var e=this,t=this.state.commandArray.filter(function(e){return Boolean(e.gestures)});return t.map(function(t){return i.createElement("li",{tabIndex:"0",onFocus:function(){t.gestures?(this.selected=t.gestures[0],this.animation||(this.animation=new r(i.findDOMNode(this.refs.gestureCanvas))),this.animation.stop(),this.animation.start(t.gestures[0])):this.selected=void 0}.bind(e)},t.label)})},render:function(){var e=i.createElement("div",{className:"setting-group unlimited"},i.createElement("h2",null,a("Mouse")),i.createElement("div",{className:"setting-single"},i.createElement("h3",null,a("Mouse Gestures")),i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.MOUSE_GESTURES_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"MOUSE_GESTURES_ENABLED","checked")}),i.createElement("span",null,a("Use Mouse Gestures")))),i.createElement("div",{className:"setting-single"},i.createElement("h3",null,a("Gesture Mapping")),i.createElement("div",{className:"gesture-map"},i.createElement("div",{className:"list"},i.createElement("ul",null,this.renderCommands())),i.createElement("div",{className:"gesture"},this.renderGesture()))));return s(e,this.props.filter)}});t.exports=u},{}],424:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(302),r=e(509),o=e(385),a=e(338),s=e(411),l=e(506),c=i.createClass({displayName:"Appearance",mixins:[o],vivaldiSettingsKeys:["STARTPAGE_SHOW_IMAGE","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_IMAGE_STRETCH","STARTPAGE_IMAGE_REPEAT","STARTPAGE_BG_COLOR","STARTPAGE_BG_COLOR_USER_DEFINED","STARTPAGE_FG_COLOR","SPEEDDIAL_TITLES_VISIBLE","SPEEDDIAL_ADDBUTTON_VISIBLE","SPEEDDIAL_COLS","BROWSER_FG_COLOR","USE_TABCOLOR"],saveVivaldiSettingFromEvent:function(e,t,i){r.set(n({},e,i.target[t]))},setStartpageImageStretch:function(e){var t=e.target.checked;this.setState({STARTPAGE_IMAGE_STRETCH:t,STARTPAGE_IMAGE_REPEAT:t?!1:this.state.STARTPAGE_IMAGE_REPEAT}),r.set({STARTPAGE_IMAGE_STRETCH:t,STARTPAGE_IMAGE_REPEAT:t?!1:this.state.STARTPAGE_IMAGE_REPEAT})},setStartpageImageRepeat:function(e){var t=e.target.checked;this.setState({STARTPAGE_IMAGE_REPEAT:t,STARTPAGE_IMAGE_STRETCH:t?!1:this.state.STARTPAGE_IMAGE_STRETCH}),r.set({STARTPAGE_IMAGE_REPEAT:t,STARTPAGE_IMAGE_STRETCH:t?!1:this.state.STARTPAGE_IMAGE_STRETCH})},setStartpageShowImage:function(e){var t=e.target.checked;this.setState({STARTPAGE_SHOW_IMAGE:t}),r.set({STARTPAGE_SHOW_IMAGE:t})},setStartpageUserDefinedBgColor:function(e){var t=e.target.value;this.setState({STARTPAGE_BG_COLOR_USER_DEFINED:t}),r.set({STARTPAGE_BG_COLOR_USER_DEFINED:t})},setStartpageUserDefinedImage:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){this.setState({STARTPAGE_IMAGE_USER_DEFINED:e.target.result}),r.set({STARTPAGE_IMAGE_USER_DEFINED:e.target.result})}.bind(this),n.readAsDataURL(t)},handleColorClick:function(){i.findDOMNode(this.refs.bgColorPicker).click()},handleImageClick:function(){i.findDOMNode(this.refs.bgImagePicker).click()},render:function(){var e=i.createElement("div",null,i.createElement("h2",null,l("Start Page")),i.createElement("div",{className:"setting-group unlimited"},i.createElement("h3",null,l("Background Color")),i.createElement(a,{name:"BGColor",className:"group",value:this.state.STARTPAGE_BG_COLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTPAGE_BG_COLOR","value")},i.createElement("div",{className:"setting-single image-radio"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"#cccccc",style:{backgroundColor:"#cccccc"}}),i.createElement("span",null,l("Default")))),i.createElement("div",{className:"setting-single image-radio"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"#BDD1DE",style:{backgroundColor:"#BDD1DE"}}),i.createElement("span",null,l("Blue")))),i.createElement("div",{className:"setting-single image-radio"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"#313B41",style:{backgroundColor:"#313B41"}}),i.createElement("span",null,l("Pro")))),i.createElement("div",{className:"setting-single image-radio has-secondlevel"},i.createElement("label",null,i.createElement("input",{type:"radio",className:"colorpicker",value:"user_defined",style:{backgroundColor:this.state.STARTPAGE_BG_COLOR_USER_DEFINED}}),i.createElement("span",null,l("Custom")),i.createElement("button",{onClick:this.handleColorClick,title:l("Change the Background Color"),className:"secondlevel"},l("Change")))))),i.createElement("input",{ref:"bgColorPicker",type:"color",value:this.state.STARTPAGE_BG_COLOR_USER_DEFINED,onChange:this.setStartpageUserDefinedBgColor,style:{position:"absolute",visibility:"hidden"}}),i.createElement("div",{className:"setting-group unlimited"},i.createElement("h3",null,l("Background Image")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.STARTPAGE_SHOW_IMAGE,onChange:this.setStartpageShowImage}),i.createElement("span",null,l("Show Background Image")))),i.createElement(a,{name:"startpageImage",value:this.state.STARTPAGE_IMAGE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTPAGE_IMAGE","value")},i.createElement("div",{className:"setting-single image-radio"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"../resources/bg.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg.jpg)"}}),i.createElement("span",null,l("Default")))),i.createElement("div",{className:"setting-single image-radio"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"../resources/bg_alt_1.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_1.jpg)"}}),i.createElement("span",null,l("Jellyfish")))),i.createElement("div",{className:"setting-single image-radio"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"../resources/bg_alt_2.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_2.jpg)"}}),i.createElement("span",null,l("Desert")))),i.createElement("div",{className:"setting-single image-radio has-secondlevel"},i.createElement("label",null,i.createElement("input",{type:"radio",className:"addfile",value:"user_defined",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url("+this.state.STARTPAGE_IMAGE_USER_DEFINED+")",backgroundRepeat:this.state.STARTPAGE_IMAGE_REPEAT?"repeat":"no-repeat",backgroundSize:this.state.STARTPAGE_IMAGE_REPEAT?"auto":"cover"}}),i.createElement("span",null,l("Custom")),i.createElement("button",{className:"secondlevel",disabled:!this.state.STARTPAGE_SHOW_IMAGE,title:l("Change the Background Image"),onClick:this.handleImageClick},l("Change"))))),i.createElement("input",{type:"file",disabled:!this.state.STARTPAGE_SHOW_IMAGE,ref:"bgImagePicker",onChange:this.setStartpageUserDefinedImage,style:{position:"absolute",visibility:"hidden"}})),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,l("Background Image Options")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",disabled:!this.state.STARTPAGE_SHOW_IMAGE,checked:this.state.STARTPAGE_IMAGE_STRETCH,onChange:this.setStartpageImageStretch}),i.createElement("span",null,l("Stretch to Fill")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",disabled:!this.state.STARTPAGE_SHOW_IMAGE,checked:this.state.STARTPAGE_IMAGE_REPEAT,onChange:this.setStartpageImageRepeat}),i.createElement("span",null,l("Repeat"))))),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,l("Interface Color")),i.createElement(a,{value:this.state.STARTPAGE_FG_COLOR,name:"FGColor",onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTPAGE_FG_COLOR","value")},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"ui-light"}),i.createElement("span",null,l("Light")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"ui-dark"}),i.createElement("span",null,l("Dark")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:""}),i.createElement("span",null,l("Inherit from Window Appearance")))))),i.createElement("h2",null,l("Speed Dial")),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,l("Show Speed Dial Titles")),i.createElement(a,{name:"SpeedDialTitles",className:"group",value:this.state.SPEEDDIAL_TITLES_VISIBLE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SPEEDDIAL_TITLES_VISIBLE","value")},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"always"}),i.createElement("span",null,l("Always")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"hover"}),i.createElement("span",null,l("On hover and focus")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"never"}),i.createElement("span",null,l("Never")))))),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,l("Speed Dial Layout")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.SPEEDDIAL_ADDBUTTON_VISIBLE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SPEEDDIAL_ADDBUTTON_VISIBLE","checked")}),i.createElement("span",null,l("Show + Button"))))),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,l("Maximum Columns")),i.createElement("select",{className:"bookmark-folders",value:this.state.SPEEDDIAL_COLS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SPEEDDIAL_COLS","value"),title:l("Number of Speed Dial columns")},i.createElement("option",{value:"1"},"1"),i.createElement("option",{value:"2"},"2"),i.createElement("option",{value:"3"},"3"),i.createElement("option",{value:"4"},"4"),i.createElement("option",{value:"5"},"5"),i.createElement("option",{value:"6"},"6"))));return s(e,this.props.filter)}});t.exports=c},{}],425:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(385),o=e(338),a=e(506),s=e(411),l=n.createClass({displayName:"AddressBar",mixins:[r],vivaldiSettingsKeys:["ADDRESS_BAR_POSITION","SHOW_ADDRESS_BAR"],handleChangeShowAddressBar:function(){console.log("Toggling address bars"),i.set({SHOW_ADDRESS_BAR:!this.state.SHOW_ADDRESS_BAR})},handleChangeAddressBarPosition:function(){var e=this.refs.addressPositionGroup.getCheckedValue();this.setState({ADDRESS_BAR_POSITION:e}),i.set({ADDRESS_BAR_POSITION:e})},render:function(){var e=n.createElement("span",null,n.createElement("h2",null,a("Address Bar")),n.createElement("div",{className:"setting-group"},n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:this.state.SHOW_ADDRESS_BAR,onChange:this.handleChangeShowAddressBar}),n.createElement("span",null,a("Show Address Bar")))),n.createElement("h3",null,a("Address Bar Position")),n.createElement(o,{name:"addressbar-position",value:this.state.ADDRESS_BAR_POSITION,ref:"addressPositionGroup",onChange:this.handleChangeAddressBarPosition,className:"group"},n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"top",className:"mousetrap"}),n.createElement("span",null,a("Top")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"bottom",className:"mousetrap"}),n.createElement("span",null,a("Bottom")))))));return s(e,this.props.filter)}});t.exports=l},{}],426:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(302),r=e(509),o=e(385),a=e(338),s=e(411),l=e(476),c=e(506),u=i.createClass({displayName:"Appearance",mixins:[o],vivaldiSettingsKeys:["LINUX_ALT_CONTROLS","USE_NATIVE_WINDOW_DECORATIONS","BROWSER_FG_COLOR","SHOW_VIVALDI_FOOTER","USE_TABCOLOR"],handleNativeSwitch:function(){r.set({USE_NATIVE_WINDOW_DECORATIONS:!this.state.USE_NATIVE_WINDOW_DECORATIONS})},handleStatusBarToggleVisibility:function(){r.set({SHOW_VIVALDI_FOOTER:!this.state.SHOW_VIVALDI_FOOTER})},linuxAltControlsChange:function(){var e=this.refs.linuxAltControls.getCheckedValue();r.set({LINUX_ALT_CONTROLS:"true"===e?!0:!1})},saveVivaldiSettingFromEvent:function(e,t,i){r.set(n({},e,i.target[t]))},setStartpageImageStretch:function(e){var t=e.target.checked;this.setState({STARTPAGE_IMAGE_STRETCH:t,STARTPAGE_IMAGE_REPEAT:t?!1:this.state.STARTPAGE_IMAGE_REPEAT}),r.set({STARTPAGE_IMAGE_STRETCH:t,STARTPAGE_IMAGE_REPEAT:t?!1:this.state.STARTPAGE_IMAGE_REPEAT})},setStartpageImageRepeat:function(e){var t=e.target.checked;this.setState({STARTPAGE_IMAGE_REPEAT:t,STARTPAGE_IMAGE_STRETCH:t?!1:this.state.STARTPAGE_IMAGE_STRETCH}),r.set({STARTPAGE_IMAGE_REPEAT:t,STARTPAGE_IMAGE_STRETCH:t?!1:this.state.STARTPAGE_IMAGE_STRETCH})},setStartpageShowImage:function(e){var t=e.target.checked;this.setState({STARTPAGE_SHOW_IMAGE:t}),r.set({STARTPAGE_SHOW_IMAGE:t})},setStartpageUserDefinedBgColor:function(e){var t=e.target.value;this.setState({STARTPAGE_BG_COLOR_USER_DEFINED:t}),r.set({STARTPAGE_BG_COLOR_USER_DEFINED:t})},setStartpageUserDefinedImage:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){this.setState({STARTPAGE_IMAGE_USER_DEFINED:e.target.result}),r.set({STARTPAGE_IMAGE_USER_DEFINED:e.target.result})}.bind(this),n.readAsDataURL(t)},handleColorClick:function(){i.findDOMNode(this.refs.bgColorPicker).click()},handleImageClick:function(){i.findDOMNode(this.refs.bgImagePicker).click()},render:function(){var e=i.createElement("div",null,i.createElement("div",{className:"setting-group unlimited"},i.createElement("div",{className:"setting-group unlimited"},i.createElement("h2",null,c("Window Appearance"))),"linux"===this.props.platform&&i.createElement("div",{className:"setting-group"},i.createElement("h3",null,c("Window Controls Position")),i.createElement(a,{className:"linuxAltControls",ref:"linuxAltControls",name:"linuxAltControls",value:this.state.LINUX_ALT_CONTROLS,onChange:this.linuxAltControlsChange},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"false",checked:!this.state.LINUX_ALT_CONTROLS}),i.createElement("span",null,c("Right Side")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"true",checked:this.state.LINUX_ALT_CONTROLS}),i.createElement("span",null,c("Left Side")))))),i.createElement("div",{className:"setting-group unlimited pad-top"},i.createElement("div",{className:"setting-single pad-top"},i.createElement("p",{className:"info"},c("This setting requires a restart to take full effect.")),i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.USE_NATIVE_WINDOW_DECORATIONS,onChange:this.handleNativeSwitch}),i.createElement("span",null,c("Use Native Window"))))),i.createElement("div",{className:"setting-group"},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.SHOW_VIVALDI_FOOTER,onChange:this.handleStatusBarToggleVisibility}),i.createElement("span",null,c("Show Status Bar"))))),i.createElement("div",{className:"setting-group unlimited pad-top"},i.createElement("h3",null,c("User Interface Scale")),i.createElement("div",{className:"setting-single pad-top"},i.createElement("div",{id:"zoom_control"},i.createElement(l,{ref:"zoomslider",buttonClass:"secondlevel"}))))),i.createElement("h3",null,c("Interface Color")),i.createElement(a,{name:"BrowserBGColor",className:"group",value:this.state.BROWSER_FG_COLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"BROWSER_FG_COLOR","value")},i.createElement("div",{className:"setting-single image-radio"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"ui-light",style:{backgroundColor:"#f6f6f6"}}),i.createElement("span",null,c("Light")))),i.createElement("div",{className:"setting-single image-radio"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"ui-dark",style:{backgroundColor:"#333"}}),i.createElement("span",null,c("Dark"))))),i.createElement("div",{className:"setting-group unlimited pad-top"},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.USE_TABCOLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TABCOLOR","checked")}),i.createElement("span",null,c("Use Page Theme Color in User Interface"))))));return s(e,this.props.filter)}});t.exports=u},{}],427:[function(e,t){"use strict";var n=e(302),i=e(338),r=e(509),o=e(506),a=e(411),s=e(325),l=e(307),c=n.createClass({displayName:"BookmarkBar",getInitialState:function(){return{bookmarkBarPosition:"top",bookmarkBarVisible:!1,bookmarkBarDisplay:"default",selectedItem:5}},componentWillMount:function(){r.get(["BOOKMARK_BAR_POSITION","BOOKMARK_BAR_VISIBLE","BOOKMARK_BAR_DISPLAY","BOOKMARKS_BAR_FOLDER_IDS"],function(e){this.setState({bookmarkBarPosition:e.BOOKMARK_BAR_POSITION,bookmarkBarVisible:e.BOOKMARK_BAR_VISIBLE,bookmarkBarDisplay:e.BOOKMARK_BAR_DISPLAY,selectedItem:e.BOOKMARKS_BAR_FOLDER_IDS[0]})}.bind(this)),r.addListener("BOOKMARKS_BAR_FOLDER_IDS",function(e,t){this.setState({selectedItem:t})}.bind(this)),r.addListener("BOOKMARK_BAR_VISIBLE",function(e,t){this.setState({bookmarkBarVisible:t})}.bind(this)),r.addListener("BOOKMARK_BAR_POSITION",function(e,t){this.setState({bookmarkBarPosition:t})}.bind(this)),r.addListener("BOOKMARK_BAR_DISPLAY",function(e,t){this.setState({bookmarkBarDisplay:t})}.bind(this))},componentWillUnmount:function(){r.removeListener("BOOKMARKS_BAR_FOLDER_IDS"),r.removeListener("BOOKMARK_BAR_VISIBLE"),r.removeListener("BOOKMARK_BAR_POSITION"),r.removeListener("BOOKMARK_BAR_DISPLAY")},handlePositionChange:function(e){var t=e.target.value;this.setState({bookmarkBarPosition:t,bookmarkBarVisible:!0}),r.set({BOOKMARK_BAR_POSITION:t}),r.set({BOOKMARK_BAR_VISIBLE:!0})},handleBarSwitch:function(){this.setState({bookmarkBarVisible:!1}),r.set({BOOKMARK_BAR_VISIBLE:!1})},handleBarDisplay:function(e){this.setState({bookmarkBarDisplay:e.target.value}),r.set({BOOKMARK_BAR_DISPLAY:e.target.value})},onFolderChange:function(e){l.setBookmarkBarFolder(e.target.value)},render:function(){var e=n.createElement("div",null,n.createElement("h2",null,o("Bookmark Bar")),n.createElement("div",{className:"setting-single"},n.createElement("h3",null,o("Select Bookmark Bar Folder")),n.createElement("div",{className:"setting-single"},n.createElement(s,{onChange:this.onFolderChange,selectedItemID:this.state.selectedItem}))),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,o("Bookmark Bar Position")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"top",className:"mousetrap",checked:"top"===this.state.bookmarkBarPosition&&this.state.bookmarkBarVisible,onChange:this.handlePositionChange}),n.createElement("span",null,o("Top")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"bottom",className:"mousetrap",checked:"bottom"===this.state.bookmarkBarPosition&&this.state.bookmarkBarVisible,onChange:this.handlePositionChange}),n.createElement("span",null,o("Bottom")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"top",className:"mousetrap",checked:!this.state.bookmarkBarVisible,onChange:this.handleBarSwitch}),n.createElement("span",null,o("Off"))))),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,o("Bookmark Bar Display")),n.createElement(i,{name:"bookmark_bar_display",ref:"bookmark_bar_display",value:this.state.bookmarkBarDisplay,onChange:this.handleBarDisplay,className:"group"},n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"default"}),n.createElement("span",null,o("Text and Icon")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"text"}),n.createElement("span",null,o("Text Only")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"icon"}),n.createElement("span",null,o("Icon Only")))))));return a(e,this.props.filter)}});t.exports=c},{}],428:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(302),r=e(509),o=e(385),a=e(506),s=e(411),l=i.createClass({displayName:"FullscreenSettings",mixins:[o],vivaldiSettingsKeys:["SHOW_FULLSCREEN_BUBBLE"],saveVivaldiSettingFromEvent:function(e,t,i){r.set(n({},e,i.target[t]))},render:function(){var e=i.createElement("span",null,i.createElement("div",{className:"setting-group"},i.createElement("h3",null,a("Fullscreen")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.SHOW_FULLSCREEN_BUBBLE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_FULLSCREEN_BUBBLE","checked")}),i.createElement("span",null,a("Show Fullscreen Reminder"))))));return s(e,this.props.filter)}});t.exports=l},{}],429:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(385),o=e(411),a=e(506),s=n.createClass({displayName:"HomePageSetting",mixins:[r],vivaldiSettingsKeys:["DEFAULT_HOME"],saveHomePage:function(){this.state.DEFAULT_HOME.match(/^[a-zA-Z]+:\/\//)||(this.state.DEFAULT_HOME="http://"+this.state.DEFAULT_HOME),i.set({DEFAULT_HOME:this.state.DEFAULT_HOME})},startPageChange:function(e){this.setState({DEFAULT_HOME:e.target.value})},render:function(){var e=n.createElement("div",{className:"setting-group"},n.createElement("h3",null,a("Homepage")),n.createElement("div",{className:"setting-single"},n.createElement("input",{type:"text",value:this.state.DEFAULT_HOME,onChange:this.startPageChange,onBlur:this.saveHomePage})));return o(e,this.props.filter)}});t.exports=s},{}],430:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(338),o=e(506),a=e(411),s=n.createClass({displayName:"MenuType",getInitialState:function(){return{SHOW_HORIZONTAL_MENU:"top"}},componentWillMount:function(){i.get(["VIVALDI_MENU_POSITION"],function(e){this.setState({SHOW_HORIZONTAL_MENU:e.VIVALDI_MENU_POSITION})}.bind(this))},handleMenuPosition:function(){var e=this.refs.menuPositionGroup.getCheckedValue();console.log("selected pos: %s",e),this.setState({SHOW_HORIZONTAL_MENU:e}),i.set({VIVALDI_MENU_POSITION:e})},render:function(){var e=n.createElement("span",null,n.createElement("h2",null,o("Menus")),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,o("Main menu type")),n.createElement(r,{name:"menuPosition",ref:"menuPositionGroup",value:this.state.SHOW_HORIZONTAL_MENU,onChange:this.handleMenuPosition,className:"group"},n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"top",className:"mousetrap"}),n.createElement("span",null,o("Horizontal Menu")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"vivaldi",className:"mousetrap"}),n.createElement("span",null,o("Vivaldi Button")))))));return a(e,this.props.filter)}});t.exports=s},{}],431:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(506),o=e(411),a=n.createClass({displayName:"NetworkSettings",render:function(){var e=n.createElement("span",null,n.createElement("h2",null,r("Network")),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,r("Proxies")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"button",value:r("Proxy Settings"),onClick:this.onClick})))));return o(e,this.props.filter)},onClick:function(){i.importData.launchNetworkSettings(function(){})}});t.exports=a},{}],432:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(338),o=e(506),a=e(411),s=n.createClass({displayName:"Panels",getInitialState:function(){return{PANEL_POSITION:"left",SHOW_PANEL_SWITCH:!0}},componentWillMount:function(){i.get(["SHOW_PANEL_SWITCH","PANEL_POSITION"],function(e){this.setState({PANEL_POSITION:e.PANEL_POSITION,SHOW_PANEL_SWITCH:e.SHOW_PANEL_SWITCH})}.bind(this))},handlePanelSwitch:function(){this.setState({SHOW_PANEL_SWITCH:!this.state.SHOW_PANEL_SWITCH}),i.set({SHOW_PANEL_SWITCH:!this.state.SHOW_PANEL_SWITCH})},handlePanelPosition:function(){var e=this.refs.panelPositionGroup.getCheckedValue();this.setState({PANEL_POSITION:e}),i.set({PANEL_POSITION:e})},render:function(){var e=n.createElement("span",null,n.createElement("h2",null,o("Panels")),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,o("Panel Position")),n.createElement(r,{name:"panelPosition",ref:"panelPositionGroup",value:this.state.PANEL_POSITION,onChange:this.handlePanelPosition,className:"group"},n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"left",className:"mousetrap"}),n.createElement("span",null,o("Left Side")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"right",className:"mousetrap"}),n.createElement("span",null,o("Right Side")))))),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,o("Panel Options")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",title:o("Display a panel toggle button along the side"),checked:this.state.SHOW_PANEL_SWITCH,onChange:this.handlePanelSwitch}),n.createElement("span",null,o("Show Panel Toggle"))))));return a(e,this.props.filter)}});t.exports=s},{}],433:[function(e,t){"use strict";var n=e(302),i=e(434),r=e(358),o=e(506),a=n.createClass({displayName:"SetVivaldiDefaultBrowserDlg",handleClick:function(){var e={dialogText:this.state.value};this.state.shown&&this.props.onClose(e),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",shown:!0,modalShown:!1}},getLayeredComponentRootNode:function(){return this.props.parentDiv},componentWillReceiveProps:function(){this.setState({shown:!0})},render:function(){return this.state.shown?n.createElement(r,{onRequestClose:this.handleClick,viewMode:"default-browser slide"},n.createElement("header",{className:"dialog-header"},n.createElement("h1",{className:"dialog-title"},o("Default browser"))),n.createElement("div",{className:"dialog-content"},n.createElement(i,{onClose:this.handleClick,startup:!0})),n.createElement("footer",{className:"dialog-footer"},n.createElement("input",{type:"button",className:"primary",value:"Close",onClick:this.handleClick}))):null},startImport:function(){}});t.exports=a},{}],434:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(509),o=e(506),a=e(411),s=n.createClass({displayName:"VivaldiDefaultBrowser",getInitialState:function(){return{isVivaldiDefault:!0,checkIfVivaldiIsDefaultBrowserStartup:!1}},componentWillMount:function(){i.importData.isVivaldiDefaultBrowser(function(e){this.setState({isVivaldiDefault:e&&e.toString?"true"===e.toString():!1})}.bind(this)),r.get("CHECK_DEFAULT_BROWSER_STARTUP",function(e){this.setState({checkIfVivaldiIsDefaultBrowserStartup:e})}.bind(this))},render:function(){var e=n.createElement("div",{className:"setting-group"},n.createElement("h3",null,o("Set Vivaldi as Default Browser")),n.createElement("div",{className:"setting-single"},this.state.isVivaldiDefault?n.createElement("p",null,o("Vivaldi is your default browser")):n.createElement("span",null,n.createElement("input",{type:"button",className:"primary",onClick:this.setVivaldiDefault,value:o("Set as Default")}),this.props.showNotNow?n.createElement("input",{type:"button",onClick:this.onClose,value:o("Not Now")}):null)),n.createElement("div",{className:"setting-single pad-top"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",title:o("Check if Vivaldi is default browser on startup"),checked:this.state.checkIfVivaldiIsDefaultBrowserStartup,onChange:this.checkChange}),n.createElement("span",null,o("Check on Startup")))));return a(e,this.props.filter)},setVivaldiDefault:function(){i.importData.setVivaldiAsDefaultBrowser(function(e){this.setState({isVivaldiDefault:e&&e.toString?"true"===e.toString():!1})}.bind(this)),this.props.onClose&&this.props.onClose()},checkChange:function(){r.set({CHECK_DEFAULT_BROWSER_STARTUP:!this.state.checkIfVivaldiIsDefaultBrowserStartup}),this.setState({checkIfVivaldiIsDefaultBrowserStartup:!this.state.checkIfVivaldiIsDefaultBrowserStartup})},onClose:function(){this.props.onClose&&this.props.onClose()}});t.exports=s},{}],435:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(302),r=e(411),o=e(436),a=e(333),s=e(509),l=e(385),c=e(506),u=i.createClass({displayName:"SpecificSession",mixins:[l],getInitialState:function(){return{STARTUP_SESSION_URLS:[],hasUrlInInput:!1}},vivaldiSettingsKeys:["STARTUP_SESSION_URLS"],handleInputChange:function(e){if(this.setState(e.target.value.length>2?{hasUrlInInput:!0}:{hasUrlInInput:!1}),e.keyCode===a.KEY_ESCAPE)e.target.value="",this.setState({hasUrlInInput:!1});
else{if(e.keyCode!==a.KEY_RETURN&&e.keyCode!==a.KEY_ENTER)return;e.target.value.length>2&&this.addUrl()}},addUrl:function(){var e=this.refs.createUrlField.getDOMNode().value.trim();-1===e.indexOf("://")&&(e="http://"+e),this.refs.createUrlField.getDOMNode().value="",this.setState({hasUrlInInput:!1});var t=Math.max.apply(Math,this.state.STARTUP_SESSION_URLS.map(function(e){return e.id?e.id:0}));this.state.STARTUP_SESSION_URLS.push({url:e,id:void 0!==t?t+1:0}),s.set({STARTUP_SESSION_URLS:this.state.STARTUP_SESSION_URLS})},save:function(e){for(var t=this.state.STARTUP_SESSION_URLS,n=0;n<t.length;n++)if(t[n].id===e.id){var i=e.url;-1===i.indexOf(":")&&(i="http://"+i),t[n].url=i;break}this.setState({STARTUP_SESSION_URLS:t},function(){s.set({STARTUP_SESSION_URLS:this.state.STARTUP_SESSION_URLS})}.bind(this))},deleteUrl:function(e){for(var t=this.state.STARTUP_SESSION_URLS,n=0;n<t.length;n++)if(t[n].url===e.url){t.splice(n,1);break}this.setState({STARTUP_SESSION_URLS:t},function(){s.set({STARTUP_SESSION_URLS:this.state.STARTUP_SESSION_URLS})}.bind(this))},render:function(){var e=this.state.STARTUP_SESSION_URLS.map(function(e){return i.createElement(o,n({urlItem:e,key:e.id,onDelete:this.deleteUrl.bind(this,e),onSave:this.save},this.props))}.bind(this)),t=i.createElement("div",{className:"setting-group setting-startup-specific-pages"},i.createElement("h3",null,c("Startup Pages")),e,i.createElement("div",{className:"setting-flexgroup"},i.createElement("input",{className:"setting-single-flex",type:"text",ref:"createUrlField",value:this.props.url,onKeyUp:this.handleInputChange,placeholder:c("Enter page URL")}),i.createElement("input",{className:"setting-single-noflex",type:"button",onClick:this.addUrl,disabled:!this.state.hasUrlInInput,value:c("Add")})));return r(t,this.props.filter)}});t.exports=u},{}],436:[function(e,t){"use strict";var n=e(302),i=e(411),r=e(506),o=n.createClass({displayName:"SpecificSessionItem",handleUrlChange:function(e){var t=this.props.urlItem;t.url=e.target.value,this.props.onSave(t)},render:function(){var e=n.createElement("div",{className:"setting-single"},n.createElement("input",{className:"edit",type:"text",ref:"editField",value:this.props.urlItem.url,onChange:this.handleUrlChange}),n.createElement("input",{type:"button",tabIndex:"-1",className:"clearkey",onClick:this.props.onDelete,title:r("Remove page")}));return i(e,this.props.filter)}});t.exports=o},{}],437:[function(e,t){"use strict";var n=e(302),i=e(411),r=e(338),o=e(435),a=e(105),s=e(506),l=n.createClass({displayName:"StartupSetting",getInitialState:function(){return{STARTUP_OPTIONS:"last"}},componentWillMount:function(){a.importData.getStartupAction(function(e){this.setState({STARTUP_OPTIONS:e})}.bind(this))},saveVivaldiSettingFromEvent:function(e,t,n){a.importData.setStartupAction(n.target[t],function(e){this.setState({STARTUP_OPTIONS:e})}.bind(this))},render:function(){var e="specificsession"===this.state.STARTUP_OPTIONS?n.createElement(o,this.props):null,t=n.createElement("div",{className:"setting-group unlimited pad-top"},n.createElement(r,{name:"startupSettings",ref:"startupSettingsGroup",className:"setting-group",value:this.state.STARTUP_OPTIONS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTUP_OPTIONS","value")},n.createElement("h3",null,s("Startup with")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"last"}),n.createElement("span",null,s("Last Session")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"homepage"}),n.createElement("span",null,s("Homepage")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"speeddial"}),n.createElement("span",null,s("Start Page")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"specificsession"}),n.createElement("span",null,s("Specific Pages"))))),e);return i(t,this.props.filter)}});t.exports=l},{}],438:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(302),r=e(506),o=e(437),a=e(434),s=e(429),l=i.createClass({displayName:"StartupSettingSection",componentDidUpdate:function(){this.refs.startUp.getDOMNode().style.display=this.refs.defaultBrowser.getDOMNode()||this.refs.homepageSettings.getDOMNode()||this.refs.startupSettings.getDOMNode()?"inline":"none"},render:function(){return i.createElement("span",{ref:"startUp"},i.createElement("h2",null,r("Startup")),i.createElement(a,n({},this.props,{ref:"defaultBrowser"})),i.createElement(s,n({},this.props,{ref:"homepageSettings"})),i.createElement(o,n({},this.props,{ref:"startupSettings"})))}});t.exports=l},{}],439:[function(e,t){"use strict";var n=e(302),i=e(338),r=e(509),o=e(506),a=e(411),s=n.createClass({displayName:"TabCyclingOrder",getInitialState:function(){return{tabCyclingOrderSetting:"recently used"}},componentWillMount:function(){r.get("TAB_CYCLING_ORDER",function(e){this.setState({tabCyclingOrderSetting:e})}.bind(this))},handleChange:function(){var e=this.refs.tabSelGroup.getCheckedValue();this.setState({tabCyclingOrderSetting:e}),r.set({TAB_CYCLING_ORDER:e})},render:function(){var e=n.createElement("span",null,n.createElement("div",{className:"setting-group"},n.createElement("h3",{htmlFor:"tabSelection"},o("Tab Cycling Order")),n.createElement(i,{name:"tabCyclingOrder",ref:"tabSelGroup",value:this.state.tabCyclingOrderSetting,onChange:this.handleChange},n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"recently used",className:"mousetrap"}),n.createElement("span",null,o("Recently Used")))),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"radio",value:"tab order",className:"mousetrap"}),n.createElement("span",null,o("Tab Order")))))));return a(e,this.props.filter)}});t.exports=s},{}],440:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var i=e(302),r=e(338),o=e(509),a=e(385),s=e(506),l=e(411),c=i.createClass({displayName:"TabPosition",mixins:[a],vivaldiSettingsKeys:["TAB_POSITION","USE_TOOLTIP","USE_TAB_TRANSPARENT_TABS","USE_TAB_CLOSE_ON_DOUBLECLICK","TAB_THUMBNAILS_ENABLED","USE_TABCOLOR","SHOW_TAB_BAR"],saveVivaldiSettingFromEvent:function(e,t,i){o.set(n({},e,i.target[t]))},render:function(){var e=i.createElement("div",null,i.createElement("div",{className:"setting-group"},i.createElement("div",{className:"setting-single"},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.SHOW_TAB_BAR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_TAB_BAR","checked")}),i.createElement("span",null,s("Show Tab Bar")))),i.createElement("h3",null,s("Tabs Position")),i.createElement(r,{name:"tabPosition",ref:"tabPosGroup",value:this.state.TAB_POSITION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_POSITION","value"),className:"group"},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"top"}),i.createElement("span",null,s("Top")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"left"}),i.createElement("span",null,s("Left Side")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"right"}),i.createElement("span",null,s("Right Side")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"bottom"}),i.createElement("span",null,s("Bottom"))))))),i.createElement("div",{className:"setting-group"},i.createElement("div",{className:"setting-single"},i.createElement("h3",null,s("Tab Options")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.USE_TOOLTIP,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TOOLTIP","checked")}),i.createElement("span",null,s("Show Popup Thumbnails")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.TAB_THUMBNAILS_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_THUMBNAILS_ENABLED","checked")}),i.createElement("span",null,s("Show Tab Thumbnails")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.USE_TAB_CLOSE_ON_DOUBLECLICK,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TAB_CLOSE_ON_DOUBLECLICK","checked")}),i.createElement("span",null,s("Close Tab on Double Click")))))),i.createElement("div",{className:"setting-group"},i.createElement("div",{className:"setting-single"},i.createElement("h3",null,s("Tab Colors")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.USE_TABCOLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TABCOLOR","checked")}),i.createElement("span",null,s("Use Page Theme Color")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.USE_TAB_TRANSPARENT_TABS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TAB_TRANSPARENT_TABS","checked")}),i.createElement("span",null,s("Transparent Background Tabs")))))));return l(e,this.props.filter)}});t.exports=c},{}],441:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(506),o=e(411),a=n.createClass({displayName:"TabStacking",getInitialState:function(){return{tabStackingSetting:null}},componentWillMount:function(){i.get("TAB_STACKING",function(e){this.setState("on"===e?{tabStackingSetting:"on"}:{tabStackingSetting:"off"})}.bind(this))},handleChange:function(e){var t=e.target.checked?"on":"off";this.setState({tabStackingSetting:t}),i.set({TAB_STACKING:t})},render:function(){var e=n.createElement("div",{className:"setting-group"},n.createElement("h3",null,r("Tab Stacking")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",className:"mousetrap",checked:"on"===this.state.tabStackingSetting,onChange:this.handleChange}),n.createElement("span",null,r("Enable Tab Stacking"))),("win"===this.props.platform||"linux"===this.props.platform)&&n.createElement("p",{className:"info"},r("Prevents tabs from stretching to the edge of maximized windows."))));return o(e,this.props.filter)}});t.exports=a},{}],442:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(302),r=e(506),o=e(439),a=e(440),s=e(441),l=i.createClass({displayName:"TabsSettingSection",componentDidUpdate:function(){this.refs.start.getDOMNode().style.display=i.findDOMNode(this.refs.tabposition)||i.findDOMNode(this.refs.taboptions)||i.findDOMNode(this.refs.tabcyclingorder)||i.findDOMNode(this.refs.tabstacking)?"inline":"none"},render:function(){return i.createElement("span",{ref:"start"},i.createElement("h2",null,r("Tabs")),i.createElement(a,n({},this.props,{ref:"tabposition"})),i.createElement(o,n({},this.props,{ref:"tabcyclingorder"})),i.createElement(s,n({},this.props,{ref:"tabstacking"})))}});t.exports=l},{}],443:[function(e,t){"use strict";var n=e(302),i=e(506),r=e(509),o=e(411),a=n.createClass({displayName:"Sync",getInitialState:function(){return{syncServices:[]}},changeSelection:function(e){var t=this.state.syncServices.map(function(t){return{id:t.id,name:t.name,selected:t.id===e?!t.selected:t.selected}});this.setState({syncServices:t},function(){r.set({SYNC_SETTINGS:t})})},componentWillMount:function(){r.get(["SYNC_SETTINGS"],function(e){this.setState({syncServices:e.SYNC_SETTINGS})}.bind(this))},render:function(){var e=this.state.syncServices.map(function(e){return n.createElement("div",{key:e.id,className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",checked:e.selected,onChange:this.changeSelection.bind(this,e.id)}),n.createElement("span",null,e.name)))}.bind(this)),t=n.createElement("span",null,n.createElement("h2",null,i("Sync settings")),n.createElement("div",{className:"setting-group"},n.createElement("h3",null,i("Sync data across devices")),n.createElement("div",{className:"setting-single"},n.createElement("label",null,n.createElement("input",{type:"checkbox",ref:"selectAllRef",onChange:this.selectAll}),n.createElement("span",null,i("All")))),e));return o(t,this.props.filter)},selectAll:function(){var e=this.refs.selectAllRef.getDOMNode().checked,t=this.state.syncServices.map(function(t){return{id:t.id,selected:e,name:t.name}});this.setState({syncServices:t},function(){r.set({SYNC_SETTINGS:t})})}});t.exports=a},{}],444:[function(e,t){"use strict";var n=e(130),i=e(106),r=n.createClass({displayName:"SpeedDialAddButton",render:function(){return n.createElement("div",{tabIndex:"0",className:i({dial:!0,add:!0,active:this.props.drawerIsOpen})},n.createElement("div",{ref:"openAddSpeedDial",className:"dial-image",onClick:this.props.toggleStartpageDrawer}))}});t.exports=r},{}],445:[function(e,t){"use strict";var n=e(130),i=e(471),r=e(446),o=e(510).ensureURLProtocol,a=e(510).isValidURL,s=e(105),l=e(506),c=n.createClass({displayName:"SpeedDialDrawer",getInitialState:function(){return{addSpeedDialTitle:"",isSpeedDialURLValid:!1}},componentDidMount:function(){this.refs.urlField.getDOMNode().focus()},addSpeedDialFolder:function(){var e={parentId:this.props.node.id,title:"New Folder"};s.bookmarks.create(e,function(e){s.runtime.lastError&&console.warn("The computer tried to create a speed dial folder, but The Bookmark API said no. ",s.runtime.lastError.message),this.props.setSpeedDialAwaitingEdit(e.id),this.toggleStartpageDrawer(!1)}.bind(this))},toggleStartpageDrawer:function(){this.props.toggleStartpageDrawer(!1)},drawerSubmitHandler:function(e){e.stopPropagation(),e.preventDefault();var t=this.refs.urlField.getDOMNode().value.trim();this.refs.urlField.getDOMNode().value="",this.addSpeedDial(t,t)},addSpeedDial:function(e,t){var n={parentId:this.props.node.id,title:e,thumbnail:"chrome://thumb/"+t,url:o(t)};s.bookmarks.create(n,function(e){s.runtime.lastError&&console.warn("The computer tried to create a speed dial, but The Bookmark API said no. ",s.runtime.lastError.message),e&&s.runtime.sendMessage({action:"updateBookmarkThumbnail",bookmark:e})}),this.toggleStartpageDrawer(!1)},isSpeedDialURLValid:function(){var e=this.refs.urlField&&this.refs.urlField.getDOMNode()&&this.refs.urlField.getDOMNode().value.trim();return a(e)},onURLChange:function(){this.setState({isSpeedDialURLValid:this.isSpeedDialURLValid()})},render:function(){return n.createElement("aside",{key:"drawer",className:"startpage-drawer"},n.createElement("section",{className:"drawer-adddial"},n.createElement("header",null,n.createElement("h2",null,l("Add Bookmark"))),n.createElement("form",{className:"drawer-addform",onSubmit:this.drawerSubmitHandler},n.createElement(i,{ref:"urlField",url:"",onChange:this.onURLChange,title:l("Enter page address"),hideDropdown:function(){}}),n.createElement("input",{className:"add-dial-submit primary",type:"submit",disabled:!this.state.isSpeedDialURLValid,value:l("Add")})),n.createElement("div",{className:"toolbar icons"},n.createElement("button",{className:"button-toolbar folder",onClick:this.addSpeedDialFolder,title:l("Add new folder")},l("New Folder...")))),n.createElement(r,{toggleStartpageDrawer:this.toggleStartpageDrawer,node:this.props.node}))}});t.exports=c},{}],446:[function(e,t){"use strict";var n=e(130),i=e(105),r=e(510).ensureURLProtocol,o=e(510).isInternalURL,a=e(510).isIgnoredURL,s=e(506),l=n.createClass({displayName:"SpeedDialAddContent",getInitialState:function(){return{suggestions:[]}},propTypes:{node:n.PropTypes.object.isRequired},componentWillMount:function(){this.updateSuggestions()},updateSuggestions:function(){i.topSites.get(function(e){this.setState({suggestions:e.filter(function(e){return!(o(e.url)||a(e.url))})})}.bind(this))},addSpeedDial:function(e,t){var n={parentId:this.props.node.id,title:e,thumbnail:"chrome://thumb/"+t,url:r(t)};i.bookmarks.create(n,function(e){i.runtime.lastError&&console.warn("The computer tried to create a speed dial, but The Bookmark API said no. ",i.runtime.lastError.message),e&&i.runtime.sendMessage({action:"updateBookmarkThumbnail",bookmark:e})}),this.toggleStartpageDrawer(!1)},toggleStartpageDrawer:function(e){this.props.toggleStartpageDrawer(e)},render:function(){return n.createElement("section",{className:"drawer-suggestions"},n.createElement("header",null,n.createElement("h2",null,s("Suggestions")),n.createElement("button",{className:"close",tabIndex:"-1",onClick:this.toggleStartpageDrawer.bind(this,!1)})),n.createElement("div",{className:"dials dial-suggestions"},this.state.suggestions&&this.state.suggestions.length?this.state.suggestions.map(function(e,t){return n.createElement("div",{key:t,className:"dial",title:e.title,onClick:this.addSpeedDial.bind(this,e.title,e.url),"data-dialurl":e.url},n.createElement("div",{className:"dial-image",style:{backgroundImage:"url(chrome://thumb/"+e.url+")"}}),n.createElement("div",{className:"dial-title"},e.title))},this):n.createElement("p",null,s("No history to choose from yet."))))}});t.exports=l},{}],447:[function(e,t){"use strict";var n=e(130),i=e(105),r=e(500),o=e(506),a=e(106),s=n.createClass({displayName:"EditableSpeedDialTitle",getInitialState:function(){return{isEditing:!1,title:this.props.bookmark.title}},getDefaultProps:function(){return{howToEdit:"click"}},componentDidMount:function(){this.props.needsInitialEdit&&this.enableEditing()},componentDidUpdate:function(e,t){t.isEditing===!1&&this.state.isEditing===!0&&this.refs.input&&this.refs.input.getDOMNode().value&&(this.refs.input.getDOMNode().setSelectionRange(0,this.refs.input.getDOMNode().value.length),this.refs.input.getDOMNode().focus())},_documentClickHandler:function(e){this.getDOMNode().contains(e.target)||this.refs.input.getDOMNode().blur()},enableEditing:function(){this.state.isEditing===!1&&(document.addEventListener("click",this._documentClickHandler),this.setState({isEditing:!0,fallbackTitle:this.state.title}))},handleClick:function(){this.props.onSelect&&(this.props.onSelect(),this.getDOMNode().focus()),"click"===this.props.howToEdit&&this.enableEditing()},handleDoubleClick:function(){"doubleClick"===this.props.howToEdit&&this.enableEditing()},handleBlur:function(){this.state.title||this.cancelEdit(),this.setState({isEditing:!1}),this.props.needsInitialEdit&&"function"==typeof this.props.setSpeedDialAwaitingEdit&&this.props.setSpeedDialAwaitingEdit(null),document.removeEventListener("click",this._documentClickHandler)},handleChange:function(e){var t=e.target.value;this.setState({title:t}),this.saveTitle(t)},handleKeyDown:function(e){var t=e.keyCode;if(13===t)this.refs.input.getDOMNode().blur();else{if(27!==t)return;this.cancelEdit(),this.refs.input.getDOMNode().blur()}e.preventDefault()},deleteBookmark:function(){i.bookmarks.remove(this.props.bookmark.id,function(){i.runtime.lastError&&console.warn("The computer tried to update a bookmark, but The Bookmark API said no: ",i.runtime.lastError.message)})},removeSpeedDial:function(){i.bookmarks.update(this.props.bookmark.id,{speeddial:!1},function(){i.runtime.lastError&&console.warn("The computer tried to update a speeddial, but The Bookmark API said no: ",i.runtime.lastError.message)})},cancelEdit:function(){this.props.needsInitialEdit?this.deleteBookmark():(this.setState({title:this.state.fallbackTitle}),this.saveTitle(this.state.fallbackTitle))},saveTitle:function(e){i.bookmarks.update(this.props.bookmark.id,{title:e},function(){i.runtime.lastError&&console.warn("The computer tried to update a bookmark, but The Bookmark API said no: ",i.runtime.lastError.message)})},render:function(){var e=a({"editable-title-container":!0,edit:this.state.isEditing}),t=[{name:o("Remove"),handler:this.removeSpeedDial}];return n.createElement("span",{className:e,onContextMenu:r(t)},n.createElement("button",{className:this.props.className,tabIndex:"button-title"===this.props.className?-1:null,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick},this.state.title),this.state.isEditing&&n.createElement("input",{type:"text",ref:"input",value:this.state.title,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onChange:this.handleChange}))}});t.exports=s},{}],448:[function(e,t){(function(n){"use strict";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var r=e(130),o=e(449),a=e(444),s=e(506),l=e(106),c=e(105),u=e(385),h=null,d=r.createClass({displayName:"SpeedDialView",mixins:[r.addons.LinkedStateMixin,u],vivaldiSettingsKeys:["SPEEDDIAL_TITLES_VISIBLE","SPEEDDIAL_ADDBUTTON_VISIBLE","SPEEDDIAL_COLS"],propTypes:{openSpeedDialNode:r.PropTypes.func,speedDialNode:r.PropTypes.object,speedDialSetNode:r.PropTypes.object,drawerIsOpen:r.PropTypes.bool,isAnimating:r.PropTypes.bool,isActive:r.PropTypes.bool,columnBas:r.PropTypes.number,open:r.PropTypes.bool,toggleStartpageDrawer:r.PropTypes.func.isRequired,awaitingInitialEditId:r.PropTypes.string},getInitialState:function(){return{animateAppear:!0,showDialOverlay:!1}},shouldComponentUpdate:function(e){return e.isAnimating!==!0},componentDidMount:function(){this.state.animateAppear&&this.animateAppear()},componentDidUpdate:function(){var e=function(t){"transform"===t.propertyName&&this._temporaryAnimationEl&&(this._temporaryAnimationEl.removeEventListener("webkitTransitionEnd",e),r.unmountComponentAtNode(this._temporaryAnimationEl),this._temporaryAnimationEl.parentNode.removeChild(this._temporaryAnimationEl),this._temporaryAnimationEl=null,this._animateBackward=!1)}.bind(this);this.state.animateAppear&&this.animateAppear(),this._temporaryAnimationEl&&(this._temporaryAnimationEl.addEventListener("webkitTransitionEnd",e),this._animateBackward===!0?this.getDOMNode().classList.add("pause-animations","animateFront"):this.getDOMNode().classList.add("pause-animations","animateBack"),setTimeout(function(){this._temporaryAnimationEl&&(this._animateBackward===!0?(this.getDOMNode().classList.remove("pause-animations","animateFront"),this._temporaryAnimationEl.firstChild.classList.add("animateBack")):(this.getDOMNode().classList.remove("pause-animations","animateBack"),this._temporaryAnimationEl.firstChild.classList.add("animateFront")))}.bind(this),0))},_temporaryAnimationEl:null,_animateBackward:!1,componentWillReceiveProps:function(e){var t=this;this.props.speedDialSetNode&&this.props.speedDialNode&&e.speedDialSetNode&&e.speedDialNode&&this.props.speedDialSetNode.id===e.speedDialSetNode.id&&this.props.speedDialNode.id!==e.speedDialNode.id&&(this.props.speedDialNode.id===e.speedDialNode.parentId?this._saveCloneForAnimation():e.speedDialNode.children&&e.speedDialNode.children.find(function(e){return e.id===t.props.speedDialNode.id})&&(this._saveCloneForAnimation(),this._animateBackward=!0))},_saveCloneForAnimation:function(){if(this.getDOMNode()&&(h&&!this.refs.rootElement&&(this.refs.rootElement=h),this.refs.rootElement)){var e=this.refs.rootElement._reactInternalInstance._currentElement;e&&h!==e&&(h=this.refs.rootElement);var t=r.cloneElement(e,e.props);this._temporaryAnimationEl=document.createElement("div"),r.render(t,this._temporaryAnimationEl),this.getDOMNode().parentNode.appendChild(this._temporaryAnimationEl)}},onDragOverHandler:function(e){e.preventDefault(),e.stopPropagation()},animateAppear:function(){var e=this.getDOMNode();e&&e.classList.contains("animateAppear")&&n.nextTick(function(){e.classList.remove("animateAppear")}),this.setState({animateAppear:!1})},createSpeedDial:function(){c.bookmarks.create({parentId:this.state.node.id,url:this.state.addDialogURL,title:"Placeholder Title"})},openSpeedDialNode:function(e,t){this.props.openSpeedDialNode(e,t)},openParentNode:function(){c.bookmarks.getSubTree(this.props.speedDialNode.parentId,function(e){if(c.runtime.lastError)return void console.warn("Error Removing: The bookmark for speed dial `"+this.props.title+"` does not exist!");var t=e[0];t&&this.openSpeedDialNode(t)}.bind(this))},isTopLevel:function(){return!this.props.speedDialNode||!this.props.speedDialSetNode||this.props.speedDialNode.id===this.props.speedDialSetNode.id},renderNavigation:function(){return this.isTopLevel()?null:r.createElement("nav",{className:"startpage-folder-navigation"},r.createElement("button",{onClick:this.openParentNode,title:s("Show Parent Folder"),"data-name":"up-button",className:"button-startpage up"}),r.createElement("button",{className:"button-startpage disabled",disabled:!0},this.props.speedDialNode.title))},getSpeedDialColumns:function(){return this.props.columnBase>=1600&&this.state.SPEEDDIAL_COLS>5?"cols6":this.props.columnBase>=1350&&this.state.SPEEDDIAL_COLS>4?"cols5":this.props.columnBase>=1100&&this.state.SPEEDDIAL_COLS>3?"cols4":this.props.columnBase>=850&&this.state.SPEEDDIAL_COLS>2?"cols3":this.props.columnBase>=600&&this.state.SPEEDDIAL_COLS>1?"cols2":"cols1"},render:function(){var e;if(this.props.open===!1||void 0===this.state.SPEEDDIAL_COLS)return null;var t=this.props.speedDialNode&&this.props.speedDialNode.children||[],n=t.map(function(e,t){return r.createElement(o,{key:t+"-"+e.id+"-"+(e.dateGroupModified||""),node:e,openSpeedDialNode:this.props.openSpeedDialNode,awaitingInitialEditId:this.props.awaitingInitialEditId,setSpeedDialAwaitingEdit:this.props.setSpeedDialAwaitingEdit})},this),s=l((e={dials:!0,"sd-titles-onhover":"hover"===this.state.SPEEDDIAL_TITLES_VISIBLE,speeddial:!0},i(e,this.getSpeedDialColumns(),!0),i(e,"animateAppear",this.state.animateAppear===!0),i(e,"animate",this.state.animateAppear===!0),e));return r.createElement("div",{className:s,ref:"rootElement"},this.renderNavigation(),n,(this.state.SPEEDDIAL_ADDBUTTON_VISIBLE||0===n.length)&&r.createElement(a,{drawerIsOpen:this.props.drawerIsOpen,toggleStartpageDrawer:this.props.toggleStartpageDrawer}))}});t.exports=d}).call(this,e(95))},{}],449:[function(e,t){"use strict";var n=e(130),i=e(447),r=e(366),o=e(105),a=e(500),s=e(506),l=e(480).session,c=e(458),u=e(459),h=e(106),d=e(385),p=n.createClass({displayName:"SpeedDial",mixins:[d],vivaldiSettingsKeys:["SPEEDDIAL_TITLES_VISIBLE"],propTypes:{openSpeedDialNode:n.PropTypes.func.isRequired,node:n.PropTypes.object.isRequired},getInitialState:function(){return{updating:u.isBookmarkThumbnailCapture(this.props.node.id),mouseIsDown:!1}},componentWillMount:function(){l.on("backgroundTasks",this.onBackgroundTasks)},componentWillUnmount:function(){l.off("backgroundTasks",this.onBackgroundTasks)},isFolder:function(){return!this.props.node.url},isBookmark:function(){return!this.isFolder()},handleRemoveDial:function(e){e&&e.stopPropagation(),this.props.node.title&&this.props.node.url?o.bookmarks.remove(this.props.node.id,function(){o.runtime.lastError&&console.warn("Error Removing: The bookmark for speed dial `"+this.props.title+"` does not exist!")}.bind(this)):o.bookmarks.removeTree(this.props.node.id,function(){o.runtime.lastError&&console.warn("Error removing bookmark folder: "+this.props.node.id)}.bind(this))},handleUpdateThumbnail:function(e){e&&e.stopPropagation(),o.runtime.sendMessage({action:"updateBookmarkThumbnail",bookmark:this.props.node})},onBackgroundTasks:function(e){if("thumbnailCapture"===e&&this.isMounted()){var t=u.isBookmarkThumbnailCapture(this.props.node.id);this.state.updating!==t&&this.setState({updating:t})}},openSpeedDialNodeHandler:function(e,t){var n=1==t.button;this.openSpeedDialNode(e,{openInBackground:n})},openSpeedDialNode:function(e,t){this.props.openSpeedDialNode(e,t)},draggableMoveHandler:function(e,t,n){n=n||{},n.isOver||o.bookmarks.get(t,function(i){o.bookmarks.getChildren(i[0].parentId,function(i){var r;for(r=0;r<i.length&&i[r].id!==t;r++);n.isLeftOf||r++,o.bookmarks.move(e,{index:r},function(){o.runtime.lastError&&console.warn("Error moving bookmark: ",o.runtime.lastError)}.bind(this))})})},mouseDownHandler:function(){this.setState({mouseIsDown:!0})},mouseUpHandler:function(){this.setState({mouseIsDown:!1})},render:function(){var e=this.props.node,t=[{name:s("Open in New Tab"),handler:this.openSpeedDialNode.bind(this,e,{openInBackground:!0}),visible:this.isBookmark()},{name:s("Open in New Window"),handler:this.openSpeedDialNode.bind(this,e,{openInNewWindow:!0}),visible:this.isBookmark()},{name:s("Open all Speed Dials"),handler:this.openSpeedDialNode.bind(this,e,{openInBackground:!0}),visible:this.isFolder()},{name:"---"},{name:s("Delete"),handler:this.handleRemoveDial},{name:s("Reload"),handler:this.handleUpdateThumbnail,visible:this.isBookmark()}];return n.createElement(r,{tabIndex:"0",ref:"draggable",dragId:this.props.node.id,onDraggableMove:this.draggableMoveHandler,onContextMenu:a(t),dragImageSrc:"/resources/drag-and-drop.png",className:h({draggable:!0,dial:!0,clicked:this.state.mouseIsDown,folder:Boolean(this.props.node.children)})},n.createElement("div",{ref:"thumbnail",className:"dial-image",onMouseDown:this.mouseDownHandler,onMouseUp:this.mouseUpHandler,onClick:this.openSpeedDialNodeHandler.bind(this,e)},Boolean(this.props.node.children)?n.createElement("div",{className:"dial-folder-icon"},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 100 78" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <defs>\n        <linearGradient x1="10%" y1="97.0075821%" x2="92.9990234%" y2="50%" id="folder-gradient1">\n            <stop class="stop1" stop-color="#F7F7F7" offset="0%"></stop>\n            <stop class="stop2" stop-color="#F6F6F6" offset="81.6814603%"></stop>\n            <stop class="stop3" stop-color="#F2F2F2 " offset="82.958745%"></stop>\n            <stop class="stop4" stop-color="#F1F1F1" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g id="folder-sd" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="folder-sd-2" sketch:type="MSArtboardGroup" transform="translate(-10.000000, -80.000000)">\n            <g id="folder_speeddial" sketch:type="MSLayerGroup" transform="translate(10.000000, 80.000000)">\n                <rect class="folderoutline" id="folder-rectangle-217" stroke="#EAEAEA" fill="url(#folder-gradient1)" sketch:type="MSShapeGroup" x="0" y="7" width="100" height="71"></rect>\n                <path d="M38.6720289,5 L36.9424825,1.21795571 C36.9424825,0.548270972 35.9175293,5.95079541e-14 35.0623779,5.95079541e-14 C35.0623779,5.95079541e-14 0.052124022,9.57149737e-09 0.052124022,5.95079541e-14 L0.052124022,8.01788998 L40.052124,8.01789026 L40.0439427,8 L100,8 L100,5 L38.6720289,5 Z" id="folder-tab-color" fill="#505050" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'}})):null,n.createElement(c,{key:e.id,src:e.thumbnail,altSrc:""})),"never"!=this.state.SPEEDDIAL_TITLES_VISIBLE?n.createElement(i,{howToEdit:"click",className:"button-title",setSpeedDialAwaitingEdit:this.props.setSpeedDialAwaitingEdit,needsInitialEdit:this.props.awaitingInitialEditId===this.props.node.id,bookmark:this.props.node}):null,e.url&&n.createElement("button",{tabIndex:"-1",onClick:this.handleUpdateThumbnail,className:h({"update-thumbnail":!0,updating:this.state.updating}),disabled:!!this.state.updating},s("Update thumbnail")),n.createElement("button",{tabIndex:"-1",onClick:this.handleRemoveDial,title:s("Delete"),className:"close"}))
}});t.exports=p},{}],450:[function(e,t){"use strict";var n=e(451),i=e(105),r={};r[n.SpeedDial]=i.extension.getURL("resources/favicon-speeddials@2x.png"),r[n.Bookmarks]=i.extension.getURL("resources/favicon-bookmarks@2x.png"),r[n.History]=i.extension.getURL("resources/favicon_history@2x.png"),t.exports=r},{}],451:[function(e,t){"use strict";var n=Object.freeze({SpeedDial:"Speed Dial",Bookmarks:"Bookmarks",History:"History"});t.exports=n},{}],452:[function(e,t){"use strict";var n=e(130),i=e(105),r=e(447),o=e(451),a=e(506),s="1",l="New Folder",c=e(106),u=n.createClass({displayName:"StartPageTopMenu",getInitialState:function(){return{}},propTypes:{openMenuItem:n.PropTypes.func,section:n.PropTypes.string,speedDialSet:n.PropTypes.array,speedDialSetNode:n.PropTypes.object,speedDialNode:n.PropTypes.object},createSpeedDialSet:function(){i.bookmarks.create({parentId:s,title:l},function(e){i.bookmarks.update(e.id,{speeddial:!0},function(e){this.setState({initialEditSpeedDialSet:e.id}),this.openMenuItem(o.SpeedDial,e)}.bind(this))}.bind(this))},openMenuItem:function(e,t,n){this.props.openMenuItem(e,t,n)},render:function(){return n.createElement("nav",{className:"startpage-navigation"},n.createElement("div",{className:"startpage-navigation-group"},this.props.speedDialSet.map(function(e,t){var i=this.props.speedDialSetNode&&this.props.speedDialSetNode.id===e.id;return n.createElement(r,{className:c({active:i,"button-startpage":!0}),key:t,tabIndex:"0",bookmark:e,howToEdit:"doubleClick",onSelect:this.openMenuItem.bind(this,o.SpeedDial,e),needsInitialEdit:this.state.initialEditSpeedDialSet===e.id})},this),n.createElement("button",{onClick:this.createSpeedDialSet,className:"button-startpage add-set",title:a("New Folder")},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg id="smallplus" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <linearGradient x1="28.555%" y1="34.555%" x2="109.241%" y2="129.681%" id="add-sd1">\n      <stop stop-color="#0084FF" offset="0%"/>\n      <stop stop-color="#8EFFF6" offset="100%"/>\n    </linearGradient>\n    <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="add-sd2">\n      <feOffset dy="1" in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur stdDeviation="1" in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.21 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n  </defs>\n  <path d="M210 8h-8v2h8v8h2v-8h8V8h-8V0h-2v8z" transform="translate(-202)" filter="url(#add-sd2)" fill="url(#add-sd1)" fill-rule="evenodd"/>\n</svg>'}}))),n.createElement("div",{className:"startpage-navigation-group"},n.createElement("button",{onClick:this.openMenuItem.bind(this,o.Bookmarks,null),className:c({"button-startpage":!0,active:this.props.section===o.Bookmarks})},a("Bookmarks"))),n.createElement("div",{className:"startpage-navigation-group"},n.createElement("button",{onClick:this.openMenuItem.bind(this,o.History,null),className:c({"button-startpage":!0,active:this.props.section===o.History})},a("History"))))}});t.exports=u},{}],453:[function(e,t){"use strict";var n=e(130),i=n.addons.CSSTransitionGroup,r=e(125),o=e(105),a=e(480).session,s=e(451),l=e(450),c=e(452),u=e(448),h=e(445),d=e(321),p=e(368),f=e(481).SpeedDialCache,m=e(459),g=e(385),v=e(106),E=e(500),b=e(506),_=e(509);e(121);var y=1200,S=n.createClass({displayName:"StartPage",mixins:[n.addons.LinkedStateMixin,g],vivaldiSettingsKeys:["STARTPAGE_BG_COLOR","STARTPAGE_BG_COLOR_USER_DEFINED","STARTPAGE_FG_COLOR","STARTPAGE_SHOW_IMAGE","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_IMAGE_STRETCH","STARTPAGE_IMAGE_REPEAT"],_animateSpeedDial:null,getInitialState:function(){return{section:s.SpeedDial,speedDialSet:[],speedDialSetNode:null,speedDialNode:null,drawerIsOpen:!1,awaitingInitialEditId:null,contentIsScrolled:!1,uiresize:y,resumeScrollPosition:null}},updateFromSpeedDialStore:function(e){var t=this;if(this.isMounted()){if(!e)return void this.setState({speedDialSet:e,speedDialNode:null,speedDialSetNode:null});if(!this.state.speedDialSetNode)return void this.setState({speedDialSet:e,speedDialNode:e[0],speedDialSetNode:e[0]});var n=e.find(function(e){return e.id===t.state.speedDialSetNode.id});if(!n)return void this.setState({speedDialSet:e,speedDialNode:e[0],speedDialSetNode:e[0]});var i=e.find(function(e){return e.id===t.state.speedDialNode.id});i?this.setState({speedDialSet:e,speedDialNode:i,speedDialSetNode:n}):o.bookmarks.getSubTree(this.state.speedDialNode.id,function(t){i=t?t[0]:e,this.setState({speedDialSet:e,speedDialNode:i,speedDialSetNode:n})}.bind(this))}},componentWillMount:function(){this.speedDialCache=new f(this.updateFromSpeedDialStore,this),this.props.page&&this.props.page.on("page:reload",this.updatePageThumbs)},onResize:function(e){this.setState({uiresize:Math.floor(e.width)})},componentDidMount:function(){a.setPageFaviconUrl(this.props.page,l[this.state.section]),a.setPageTitle(this.props.page,this.state.section),document.addEventListener("keydown",this.closeDrawerOnEsc,!0)},closeDrawerOnEsc:function(e){27===e.keyCode&&this.state.drawerIsOpen&&(this.toggleStartpageDrawer(!1),e.preventDefault(),e.stopPropagation())},componentWillUnmount:function(){this.speedDialCache.teardownListeners(),this.props.page&&this.props.page.off("page:reload",this.updatePageThumbs)},onScrollHandler:function(){if(this.refs["SpeedDialView-0"]&&this.refs.startpageContent){var e=3,t=this.refs.startpageContent.getDOMNode().scrollTop+e>this.refs["SpeedDialView-0"].getDOMNode().getBoundingClientRect().top-this.refs.sdWrapper.getDOMNode().getBoundingClientRect().top;this.setState({contentIsScrolled:t,resumeScrollPosition:this.refs.startpageContent.getDOMNode().scrollTop})}},componentDidUpdate:function(e){this._animateSpeedDial&&this.animateSpeedDialSwitch(),e.open===!1&&this.props.open===!0&&this.resumeOpen(e)},resumeOpen:function(){this.state.resumeScrollPosition&&this.refs.startpageContent&&(this.refs.startpageContent.getDOMNode().scrollTop=this.state.resumeScrollPosition),this.state.section&&(a.setPageFaviconUrl(this.props.page,l[this.state.section]),a.setPageTitle(this.props.page,this.state.section))},animateSwitch:function(e){var t=this;if(this.state.speedDialSetNode&&e&&e!=this.state.speedDialSetNode){var n=this.state.speedDialSet.findIndex(function(e){return e.id===t.state.speedDialSetNode.id}),i=this.state.speedDialSet.findIndex(function(t){return t.id===e.id});-1!=n&&-1!=i&&(this._animateSpeedDial={fromIndex:n,toIndex:i})}},animateSpeedDialSwitch:function(){var e=this._animateSpeedDial.toIndex-this._animateSpeedDial.fromIndex,t=this.refs["SpeedDialView-"+this._animateSpeedDial.fromIndex].getDOMNode(),n=this.refs["SpeedDialView-"+this._animateSpeedDial.toIndex].getDOMNode();Math.abs(e)>1&&(n.classList.add("turbo"),t.classList.add("turbo"));var i=function(e){"transform"===e.propertyName&&null!==this._animateSpeedDial&&(n.removeEventListener("webkitTransitionEnd",i),this._animateSpeedDial=null,t.classList.remove("animateOut","turbo"),n.classList.remove("animateIn","turbo"),this.forceUpdate())}.bind(this);t.classList.add("animateOut"),n.classList.add("animateIn"),n.addEventListener("webkitTransitionEnd",i,!1);var r=0>e?"left":"right";"right"===r?(t.classList.add("animateLeft"),n.classList.add("animateRight","pause-animations")):"left"===r&&(t.classList.add("animateRight"),n.classList.add("animateLeft","pause-animations")),setTimeout(function(){"right"===r?n.classList.remove("pause-animations","animateRight"):"left"===r&&n.classList.remove("pause-animations","animateLeft")},5)},toggleStartpageDrawer:function(e){var t=e===!0||e===!1?e:!this.state.drawerIsOpen;this.setState({drawerIsOpen:t})},openMenuItem:function(e,t){a.setPageFaviconUrl(this.props.page,l[e]),m.updatePageThumbnail(this.props.page,1e3),this.setState({section:e,speedDialSetNode:t}),t?(this.animateSwitch(t),this.openSpeedDialNode(t)):(a.setPageTitle(this.props.page,e?e:"Startpage"),this.setState({section:e,speedDialNode:null}))},isFolder:function(e){return!e.url},openSpeedDialNode:function(e,t){t=t||{},this.isFolder(e)?this.openFolder(e,t):o.runtime.sendMessage({action:"openBookmark",bookmark:e,windowId:a.windowId,incurrent:!t.openInBackground,inbackground:t.openInBackground,inNewWindow:t.openInNewWindow})},openFolder:function(e,t){t=t||{},t.openInBackground===!0?o.bookmarks.getChildren(e.id,function(e){e.forEach(function(e){o.runtime.sendMessage({action:"openBookmark",bookmark:e,windowId:a.windowId,incurrent:!1,inbackground:!0})})}):(a.setPageTitle(this.props.page,e.title),this.setState({speedDialNode:e}))},updatePageThumbs:function(){if(this.props.open){var e=this.state.speedDialNode&&this.state.speedDialNode.children||[];e.forEach(function(e){this.isFolder(e)||o.runtime.sendMessage({action:"updateBookmarkThumbnail",bookmark:e})}.bind(this))}},setSpeedDialAwaitingEdit:function(e){this.setState({awaitingInitialEditId:e})},renderSpeedDial:function(){return this.state.speedDialSet.map(function(e,t){var i=null!==this._animateSpeedDial&&this._animateSpeedDial.fromIndex===t,r=this.state.speedDialSetNode.id===e.id;return n.createElement(u,{key:t+"-"+e.id,ref:"SpeedDialView-"+t,speedDialNode:this.state.speedDialNode,speedDialSetNode:this.state.speedDialSetNode,toggleStartpageDrawer:this.toggleStartpageDrawer,drawerIsOpen:this.state.drawerIsOpen,isAnimating:i,isActive:r,columnBase:this.state.uiresize,open:r||i,openSpeedDialNode:this.openSpeedDialNode,setSpeedDialAwaitingEdit:this.setSpeedDialAwaitingEdit,awaitingInitialEditId:this.state.awaitingInitialEditId})},this)},renderSection:function(){return this.state.section===s.Bookmarks?n.createElement(d,null):this.state.section===s.History?n.createElement(p,{page:this.props.page}):this.state.section===s.SpeedDial?this.renderSpeedDial():(console.warn("Unknown Startpage Section: ",this.state.section),null)},getStartpageStyle:function(){var e={bgColor:this.state.STARTPAGE_BG_COLOR,bgColorUser:this.state.STARTPAGE_BG_COLOR_USER_DEFINED,imageStretch:this.state.STARTPAGE_IMAGE_STRETCH,imageRepeat:this.state.STARTPAGE_IMAGE_REPEAT,showImage:this.state.STARTPAGE_SHOW_IMAGE,imageUrl:this.state.STARTPAGE_IMAGE,imageUrlUser:this.state.STARTPAGE_IMAGE_USER_DEFINED};void 0===e.bgColor&&_.get(["STARTPAGE_BG_COLOR","STARTPAGE_BG_COLOR_USER_DEFINED","STARTPAGE_IMAGE_STRETCH","STARTPAGE_IMAGE_REPEAT","STARTPAGE_SHOW_IMAGE","STARTPAGE_IMAGE_USER_DEFINED"],function(t){e.bgColor=t.STARTPAGE_BG_COLOR,e.bgColorUser=t.STARTPAGE_BG_COLOR_USER_DEFINED,e.imageStretch=t.STARTPAGE_IMAGE_STRETCH,e.imageRepeat=t.STARTPAGE_IMAGE_REPEAT,e.showImage=t.STARTPAGE_SHOW_IMAGE,e.imageUrl=t.STARTPAGE_IMAGE});var t="user_defined"===e.bgColor?e.bgColorUser:e.bgColor,n=e.imageStretch?"cover":"auto",i=e.imageRepeat?"repeat":"no-repeat",r="url(data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=)";return e.showImage&&"user_defined"===e.imageUrl?r="url("+e.imageUrlUser+")":e.showImage&&(r="url("+e.imageUrl+")"),{backgroundColor:t,backgroundImage:r,backgroundSize:n,backgroundRepeat:i}},render:function(){if(!this.props.open)return null;var e=[{name:b("Add to Speed Dial"),handler:this.toggleStartpageDrawer,visible:!this.state.drawerIsOpen}];return n.createElement("div",{key:this.props.id,ref:"startpage",style:this.getStartpageStyle(),className:v(this.state.STARTPAGE_FG_COLOR,{startpage:!0,scrolled:this.state.contentIsScrolled})},n.createElement(c,{openMenuItem:this.openMenuItem,section:this.state.section,speedDialSet:this.state.speedDialSet,speedDialSetNode:this.state.speedDialSetNode,speedDialNode:this.state.speedDialNode,initialEditSpeedDialSet:this.state.initialEditSpeedDialSet}),n.createElement("div",{ref:"startpageContent",onScroll:this.onScrollHandler,className:"startpage-content"},n.createElement(r,{onContextMenu:this.state.section===s.SpeedDial?E(e):null,onDoubleClick:this.state.section===s.SpeedDial?this.toggleStartpageDrawer:null,onResize:this.onResize,className:"sdwrapper",ref:"sdWrapper"},this.renderSection())),n.createElement(i,{transitionName:"startpage-drawer-transition",component:"div",className:"startpage-drawer-wrapper"},this.state.drawerIsOpen?n.createElement(h,{node:this.state.speedDialNode,addSpeedDialFolder:this.addSpeedDialFolder,setSpeedDialAwaitingEdit:this.setSpeedDialAwaitingEdit,toggleStartpageDrawer:this.toggleStartpageDrawer}):null))}});t.exports=S},{}],454:[function(e,t){"use strict";var n=e(130),i=1,r=300,o=100,a=10,s=n.createClass({displayName:"TabProgressIndicator",getInitialState:function(){return{progress:0}},componentWillMount:function(){this.loadprogressTimeoutId=-1,this.endprogressTimeoutId=-1,this.props.loading&&this.start()},componentWillUnmount:function(){clearTimeout(this.loadprogressTimeoutId),clearTimeout(this.endprogressTimeoutId)},componentWillReceiveProps:function(e){this.props.loading===!0&&e.loading===!1?this.stop():this.props.loading===!1&&e.loading===!0&&this.start()},start:function(){var e=this;this.setState({progress:0});var t=i,n=function o(){clearTimeout(e.loadprogressTimeoutId);var n=e.state.progress;100>n&&(e.loadprogressTimeoutId=setTimeout(o,r),n+=parseFloat(t),t=t>0?t-=.1:.1,e.setState({progress:n}))};n()},stop:function(){var e=this,t=function n(){clearTimeout(e.endprogressTimeoutId);var t=e.state.progress;if(100>t){var i=setTimeout(n,o);e.endprogressTimeoutId=i,t+=a,e.setState({progress:t})}};t()},render:function(){return this.state.progress<100?n.createElement("span",{className:"progress-indicator",style:{transform:"scaleX("+(this.state.progress/100).toFixed(2)+")"}}):null}});t.exports=s},{}],455:[function(e,t){(function(n){"use strict";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}var r=e(130),o=e(116),a=e(456),s=e(457),l=e(500),c=e(385),u=r.addons.PureRenderMixin,h=e(461),d=e(318),p=e(341),f=e(509),m=e(480).session,g=e(491),v=e(312),E=e(495),b=e(458),_=e(507),y=_.modifierUpListener,S=_.hasModifier,C=e(106),w=e(506),k=30,A=150,I=180,N=100,T=260,O=200,D="text/x-vivaldi-tab",M=r.createClass({displayName:"TabBar",mixins:[c,u],vivaldiSettingsKeys:["KEY_NEXT_TAB","KEY_PREVIOUS_TAB","TAB_CYCLING_ORDER","TAB_STACKING","USE_TABCOLOR","USE_TAB_TRANSPARENT_TABS","USE_TOOLTIP","USE_TAB_CLOSE_ON_DOUBLECLICK","TAB_THUMBNAILS_ENABLED","TAB_POSITION","TABS_HEIGHT","TABBAR_WIDTH","CLOSABLE_PINNED_TABS"],getInitialState:function(){return{pages:g.getPages(),pageSelection:g.getPageSelection(),tabsHeight:k,tabsWidth:N,tooltipHeight:400,tooltipWidth:600}},componentWillMount:function(){var e=this;f.get(["TABS_HEIGHT","TABBAR_WIDTH"],function(t){return e.setState({tabsHeight:t.TABS_HEIGHT||k,tabsWidth:t.TABBAR_WIDTH||N})})},componentDidMount:function(){E.addChangeListener(this.onTabStoreChange),g.addChangeListener(this.onPageStoreChange)},componentWillUnmount:function(){E.removeChangeListener(this.onTabStoreChange),g.removeChangeListener(this.onPageStoreChange),window.removeEventListener("mouseout",this.windowMouseOut)},onPageStoreChange:function(){this.setState({pages:g.getPages(),pageSelection:g.getPageSelection()})},onTabStoreChange:function(e){var t=this;"newTab"===e.action?m.openURL(e.url):"newBackgroundTab"===e.action?m.openURL(e.url,{inBackground:!0}):"closeTab"===e.action?n.nextTick(function(){return t.closeTab(t.state.pages.find(function(e){return e.get("active")}))}):"switchTabBackBySetting"===e.action?this.switchBackBySetting(e.maybeEvent):"switchTabForwardBySetting"===e.action?this.switchForwardBySetting(e.maybeEvent):"switchTabBackByHistory"===e.action?this.switchBackByHistory(e.maybeEvent):"switchTabForwardByHistory"===e.action?this.switchForwardByHistory(e.maybeEvent):"switchTabBackByOrder"===e.action?this.switchBackByOrder(e.maybeEvent):"switchTabForwardByOrder"===e.action?this.switchForwardByOrder(e.maybeEvent):"reopenRecentlyClosed"===e.action?this.reopenClosedTab():"viewPageSource"===e.action?m.openURL("view-source:"+m.currentPage().url()):"stackUntile"===e.action?m.unTileTiling(m.currentPage().get("tiling").id):"stackTileGrid"===e.action?m.tileGroup(m.currentPage().get("group"),"grid"):"stackTileHorizontal"===e.action?m.tileGroup(m.currentPage().get("group"),"horizontally"):"stackTileVertical"===e.action&&m.tileGroup(m.currentPage().get("group"),"vertically")},setTabScrollingState:function(e){this.setState({tabScrolling:e})},selectTab:function(e,t){v.clearSelection(),d.clearTooltip(),e.get("active")||(t.stopPropagation(),v.openPage(e))},createTab:function(e){e&&e.stopPropagation(),m.openURL()},createTabWithMiddleClick:function(e){1===e.button&&(e.preventDefault(),this.createTab())},closeTab:function(e,t){if(t&&t.stopPropagation(),n.nextTick(d.clearTooltip),e.get("group"))v.closeTabStack(e);else{var i=!e.get("pinned")||"on"===this.state.CLOSABLE_PINNED_TABS;i&&v.closePage(e)}},removeFromTabStack:function(e){var t=m.findPageForTab(e.get("id"));t&&m.updatePageGroup(e,null)},closeSingleTab:function(e,t){t&&t.stopPropagation(),v.closePage(e)},switchBackBySetting:function(e){"recently used"===this.state.TAB_CYCLING_ORDER?this.switchBackByHistory(e):this.switchBackByOrder(e)},switchForwardBySetting:function(e){"recently used"===this.state.TAB_CYCLING_ORDER?this.switchForwardByHistory(e):this.switchForwardByOrder(e)},switchBackByHistory:function(e){S(e)?(m.cyclePageHistory(),y(e,m.cyclePageHistoryDone.bind(m))):m.rotatePageHistory()},switchForwardByHistory:function(e){S(e)?(m.cyclePageHistory(!1),y(e,m.cyclePageHistoryDone.bind(m))):m.rotatePageHistory(!1)},switchBackByOrder:function(e){m.cyclePageOrder(),y(e,m.cyclePageOrderDone.bind(m))},switchForwardByOrder:function(e){m.cyclePageOrder(!1),y(e,m.cyclePageOrderDone.bind(m))},reopenClosedTab:function(){m.undeletePreviousTab()},switchTabView:function(e){e.stopPropagation(),e.preventDefault(),"top"===this.state.TAB_POSITION||"bottom"===this.state.TAB_POSITION?(this.state.tabsHeight>k+18?(this.state.tabsHeight=k,f.set({TAB_THUMBNAILS_ENABLED:!1})):(this.state.tabsHeight=A,f.set({TAB_THUMBNAILS_ENABLED:!0})),f.set({TABS_HEIGHT:this.state.tabsHeight})):(this.state.tabsWidth=this.state.tabsWidth!==I?I:N,f.set({TABBAR_WIDTH:this.state.tabsWidth}))},handleTabsMove:function(e){var t=r.findDOMNode(this.refs.tabs),n=t.getBoundingClientRect();if("top"===this.state.TAB_POSITION||"bottom"===this.state.TAB_POSITION){var i=n.height+e;i>A?(i=A,f.set({TAB_THUMBNAILS_ENABLED:!0})):k>i?(i=k,f.set({TAB_THUMBNAILS_ENABLED:!1})):f.set({TAB_THUMBNAILS_ENABLED:!0}),f.set({TABS_HEIGHT:i}),this.setState({tabsHeight:i})}else{var o=n.width+e;o>T?o=T:N>o&&(o=N),f.set({TABBAR_WIDTH:o}),this.setState({tabsWidth:o})}return!0},handleDragOver:function(e){-1!==e.dataTransfer.types.indexOf(D)&&e.preventDefault()},tabIsVisible:function(e){if(!m.findPageForTab(e.get("id")))return!1;if("off"===this.state.TAB_STACKING||!e.get("group"))return!0;var t=m.getGroupHighlight(e.get("group"));return t&&t.tab_id!==e.get("id")?!1:!0},getTabContextMenu:function(e){return[{name:w("Close Tab"),handler:this.closeSingleTab.bind(this,e)},{name:"---",handler:null},{name:w("Remove from Tab Stack"),handler:this.removeFromTabStack.bind(this,e),visible:Boolean(e.get("group"))}]},getTooltipPlacement:function(){var e={top:"below",bottom:"above",left:"after",right:"before"};return e[this.props.tabPosition]},getTooltipContent:function(e){var t=this,n=void 0,i=void 0;if("on"===this.state.TAB_STACKING&&e.get("group")){n=this.state.pages.filter(function(t){return t.get("group")===e.get("group")});var a=m.getGroupHighlight(e.get("group"));a&&(i=this.state.pages.find(function(t){return t.get("id")===m.getGroupHighlight(e.get("group")).tab_id})),i=i||e}else n=o.fromJS([e]);var s=r.createElement("div",{className:C({"tab-group":Boolean(e.get("group")),"tab-solo":!Boolean(e.get("group"))})},n.map(function(e){return r.createElement("div",{key:e.cid,className:C({active:e.get("active"),"tooltip-item":!0,"last-active":i&&i.id===e.id}),draggable:"true",onContextMenu:l(t.getTabContextMenu(e)),onClick:t.selectTab.bind(t,e)},r.createElement(b,{className:"thumbnail-image",size:"cover",src:e.get("thumbnail"),alt:e.get("title")}),r.createElement("div",{className:"thumbnail-text"},e.get("title")),r.createElement("button",{className:"close",onClick:t.closeSingleTab.bind(t,e)}))})),c=1,u=226+c,h=188+c,d=window.innerWidth,p=n.count()*u+c,f=h+c;if(p>d){var g=Math.ceil(p/d);p=u*Math.ceil(n.count()/g)+c,f=h*g+c}return{width:p,height:f,content:s}},render:function(){var e,t=this,n="off"!==this.state.TAB_STACKING,o=i({"tab-group-open":m.isGrouped(m.currentPage())&&n,scrolling:"on"===this.state.tabScrolling},this.state.TAB_THUMBNAILS_ENABLED?"view-thumbs":"no-thumbs",!0),l={};return l.height="left"===this.state.TAB_POSITION||"right"===this.state.TAB_POSITION?"auto":this.state.TAB_THUMBNAILS_ENABLED?this.state.tabsHeight:k,l.width=this.state.tabsWidth,r.createElement("div",{id:"tabs-container",onDragOver:this.handleDragOver,className:C((e={},i(e,this.props.tabPosition,!0),i(e,"favicon-current-border-color",this.state.USE_TABCOLOR&&"left"!==this.state.TAB_POSITION&&"right"!==this.state.TAB_POSITION),e))},r.createElement("div",{id:"tabs",ref:"tabs",onBlur:this.onBlur,style:l,className:C(o)},this.state.pages.sortBy(function(e){return e.get("index")}).map(function(e){if(!t.tabIsVisible(e))return null;var i=C({marked:t.state.pageSelection.contains(e.get("id"))}),o=e.get("group")&&t.state.pages.filter(function(t){return t.get("group")===e.get("group")});return r.createElement(h,{key:e.get("id"),disabled:!t.state.USE_TOOLTIP,style:{pointerEvents:e.get("group")&&n?"auto":"none"},placement:t.getTooltipPlacement(),appearDelay:e.get("group")&&n?0:O,content:t.getTooltipContent,context:e},r.createElement(a,{key:e.get("id"),className:i,page:e,stack:o,useTabStacking:t.state.TAB_STACKING,useTabColor:t.state.USE_TABCOLOR,useTooltip:t.state.USE_TOOLTIP,useTransparentTabs:t.state.USE_TAB_TRANSPARENT_TABS,useCloseOnDoubleClick:t.state.USE_TAB_CLOSE_ON_DOUBLECLICK,closeTab:t.closeTab,selectTab:t.selectTab,reopenClosedTab:t.reopenClosedTab}))}),r.createElement("button",{ref:"newTabButton",className:"button-tabbar newtab",onClick:this.createTab,onDoubleClick:this.createTab,title:w("Open a new tab")},r.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M7 9h-4v-2h4v-4h2v4h4v2h-4v4h-2v-4zm-7-9v16h16v-16h-16z" />\n</svg>'}})),r.createElement("div",{className:"tab-spacer",onClick:this.createTabWithMiddleClick}),r.createElement(s,null),r.createElement(p,{onSlidebarMove:this.handleTabsMove,onDoubleClick:this.switchTabView,position:this.props.tabPosition})))}});t.exports=M}).call(this,e(95))},{}],456:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(130),r=e(454),o=i.addons.CSSTransitionGroup,a=e(125),s=e(458),l=e(318),c=i.addons.PureRenderMixin,u=e(385),h=e(312),d=e(491),p=e(285),f=e(501),m=e(500),g=e(366),v=e(480).session,E=e(482),b=E.urls,_=e(506),y=e(510).isInternalURL,S=e(106),C="text/x-vivaldi-tab",w=i.createClass({displayName:"Tab",mixins:[u,c],vivaldiSettingsKeys:["TAB_THUMBNAILS_ENABLED"],getInitialState:function(){return{isTabSmall:!1}},cloneTab:function(){h.clearSelection(),this.createTab(this.props.page.get("url"))},reloadTab:function(){v.reloadPage(this.props.page)},pinTab:function(){h.clearSelection(),h.togglePinned(this.props.page)},bookmarkAllOpenPages:function(){h.clearSelection(),v.openPages().map(function(e){e.createBookmark()})},closeTab:function(){h.clearSelection(),this.props.closeTab(this.props.page)},closeTabStack:function(e){e&&e.stopPropagation(),h.closeTabStack(this.props.page,!0)},closeAllButActiveTab:function(){h.clearSelection(),v.closeAllButActivePage()},closeAllButTab:function(){h.clearSelection(),v.closeAllButPage(v.findPageForTab(this.props.page.get("id")))},newTab:function(){v.openURL()},createTab:function(e){h.clearSelection(),v.openURL(e)},mouseDown:function(e){var t="MacIntel"!==navigator.platform?e.ctrlKey:e.metaKey;t||e.shiftKey?h.toggleSelection(this.props.page):0===e.button?(v.markAsRead(this.props.page),this.props.selectTab(this.props.page,e)):1===e.button&&this.closeTab()},doubleClick:function(e){e.stopPropagation(),e.preventDefault(),this.props.useCloseOnDoubleClick&&this.closeTab()},stopPropagateHandler:function(e){e.stopPropagation(),e.preventDefault()},draggableMoveHandler:function(e,t,n){n=n||{};var i=d.getPages().find(function(t){return t.get("id")===e}),r=d.getPages().find(function(e){return e.get("id")===t});i&&r&&h.movePage(i,r,n)},draggableNoTargetHandler:function(){},selectTab:function(e,t){this.props.selectTab(e,t)},reopenClosedTab:function(){this.props.reopenClosedTab()},disolveTabStack:function(){h.clearSelection(),h.expandTabStack(this.props.page.get("group"))},isTabstackingEnabled:function(){return"on"===this.props.useTabStacking},isTabStack:function(){return"on"===this.props.useTabStacking&&v.isGrouped(this.props.page)},tileTabStack:function(e){var t=this.props.page.get("group");v.tileGroup(t,e),h.clearSelection()},isPageTiled:function(e,t){var n=v.findPageForTab(this.props.page.get("id"));return n&&v.isPageTiled(n,e,t)},tileSelection:function(e,t){v.tileSelection(e.map(function(e){return v.findPageForTab(e.get("id"))}).toJS(),t),h.clearSelection()},unTile:function(){this.props.page&&v.unTileTiling(v.findPageForTab(this.props.page.get("id")).get("tiling").id)},renderTabGroupIndicator:function(){var e=this;if(!v.isGrouped(this.props.page))return null;var t=this.props.page.get("group"),n=v.getGroupHighlight(t);return i.createElement("div",{className:"tab-group-indicator"},i.createElement(o,{transitionName:"tab-group-indicator"},this.props.stack.map(function(t){var r=S({"tab-indicator":!0,"favicon-current-background-color":e.props.useTabColor&&t.get("id")===n.tab_id&&e.props.page.get("active"),active:t.get("id")===n.tab_id,unread:!Boolean(t.get("read"))&&t.get("id")!==n.tab_id});return i.createElement("div",{className:r,title:t.get("title"),onClick:e.selectTab.bind(e,t)})})))},hideToolTip:function(){l.clearTooltip()},keyDown:function(e){var t=e.keyCode;13===t&&this.props.selectTab(this.props.page,e)},createGroup:function(e){h.clearSelection(),h.createTabStack(e)},createGroupFromFavicon:function(){h.clearSelection(),h.createTabStack(this.getFaviconGroup())},hasFaviconGroup:function(){return this.props.page&&this.props.page.get("favIconUrl")&&this.getFaviconGroup().count()>1},getFaviconGroup:function(){var e=this;return d.getPages().filter(function(e){return!Boolean(e.get("group"))}).filter(function(t){return t.get("favIconUrl")===e.props.page.get("favIconUrl")})},getContextMenuItems:function(){var e=d.getPageSelection().map(function(e){return d.getPages().find(function(t){return t.get("id")===e})}).filter(Boolean);return[{name:_("New Tab"),handler:this.newTab},{name:"---",handler:null},{name:_("Reload Tab"),handler:this.reloadTab},{name:_("Clone Tab"),handler:this.cloneTab},{name:_("Pin Tab"),handler:this.pinTab,visible:!this.isTabStack()&&!this.props.page.get("pinned")},{name:_("Unpin Tab"),handler:this.pinTab,visible:!this.isTabStack()&&this.props.page.get("pinned")},{name:"---",handler:null},{name:_("Bookmark All Open Pages"),handler:this.bookmarkAllOpenPages},{name:"---",handler:null},{name:_("Group Similar Tabs to Stack"),handler:this.createGroupFromFavicon,visible:this.isTabstackingEnabled&&this.hasFaviconGroup()},{name:_("New Tab Stack with Selection ($1 Tabs)",[e.count()]),handler:this.createGroup.bind(this,e),visible:this.isTabstackingEnabled&&e.count()>1},{name:_("Ungroup Tab Stack"),handler:this.disolveTabStack,visible:this.isTabStack()},{name:_("Tile Tab Stack"),handler:this.props.page.get("group")&&v.openPagesInGroup(this.props.page.get("group")).length<4?this.tileTabStack.bind(this,"vertically"):this.tileTabStack.bind(this,"grid"),visible:this.isTabStack()&&!this.isPageTiled("group")&&!this.isPageTiled("selection")},{name:_("Untile Tab Stack"),handler:this.unTile,visible:this.isTabStack()&&(this.isPageTiled("group")||this.isPageTiled("selection"))},{name:"---",handler:null},{name:_("Tile Selection ($1 Tabs)",[e.count()]),handler:e.count()<4?this.tileSelection.bind(this,e,"vertically"):this.tileSelection.bind(this,e,"grid"),visible:!this.isPageTiled("selection")&&e.count()>1},{name:_("Untile Selection"),handler:this.unTile,visible:this.isPageTiled("selection")&&!this.isTabStack()},{name:"---",handler:null},{name:_("Close Tab"),handler:this.closeTab},{name:_("Close Tab Stack"),handler:this.closeTabStack,visible:this.isTabStack()},{name:_("Close Other Tabs"),handler:this.closeAllButTab},{name:_("Reopen Closed Tab"),handler:this.reopenClosedTab,visible:Boolean(v.trashedTabs().length)}]},onResize:function(e){this.setState({isTabSmall:e.width<80})},render:function(){var e=f(this.props,"className"),t=p(this.props.className,S({tab:!0,pinned:this.props.page.get("pinned"),"view-icons":this.state.isTabSmall&&!this.props.page.get("pinned"),active:this.props.page.get("active"),"no-close-button":this.props.noCloseButton===!0,"tab-group":Boolean(this.props.page.get("group")),"favicon-current-background-color":this.props.useTabColor&&this.props.page.get("active"),"tab-transparent":this.props.useTransparentTabs,loading:this.props.page.get("loading"),unread:!(this.props.page.get("read")||this.props.page.get("active")||Boolean(this.props.page.get("group"))||y(this.props.page.get("url")))})),o=v.findPageForTab(this.props.page.get("id")),l=o&&o.get("title")||this.props.page.get("title");l===this.props.page.get("url")&&(l=b.removeTrailingSlashWhenNoPath(b.getDisplayUrl(this.props.page.get("url"))));var c=l;if(this.props.page.get("pinned"))c=c+" "+_("(pinned)");else if(this.isTabStack()){var u=v.openPagesInGroup(this.props.page.get("group")).length-1;c=c+" "+_("(and $1 other tab)","(and $1 other tabs)",[u])}var h={backgroundImage:"url("+(o&&o.get("faviconurl")||this.props.page.get("favIconUrl")||"/resources/page-web@2x.png")+")"};return i.createElement(g,n({},e,{className:t,key:this.props.page.get("id"),title:this.props.useTooltip?"":c,draggable:"true",axis:"x",dragId:this.props.page.get("id"),dragType:C,revertOnFinish:"true",lockToBounds:"true",onContextMenu:m(this.getContextMenuItems(),this.hideToolTip),onDraggableMove:this.draggableMoveHandler,onDraggableNoTarget:this.draggableNoTargetHandler,setDragging:this.props.setDragging,onDoubleClick:this.doubleClick,onMouseDown:this.mouseDown,onKeyDown:this.keyDown,tabIndex:!1,"data-tooltip-thumbnail":"","data-tab-id":this.props.page.get("id"),"data-page-id":this.props.page.get("id")}),i.createElement(a,{className:"tab-header",onResize:this.onResize},i.createElement(r,{loading:this.props.page.get("loading")}),i.createElement("span",{className:"favicon",style:h}),i.createElement("span",{className:"title"},l),i.createElement("span",{className:S({"tab-audio":!0,on:"playing"===this.props.page.get("mediastate")})}),i.createElement("span",{className:"close",onClick:this.closeTab,onMouseDown:this.stopPropagateHandler})),this.state.TAB_THUMBNAILS_ENABLED===!0?i.createElement(s,{className:"tab-thumb",src:this.props.page.get("thumbnail"),alt:"",size:"cover"}):null,this.renderTabGroupIndicator())}});t.exports=w},{}],457:[function(e,t){"use strict";var n=e(130),i=e(506),r=e(379),o=e(480).session,a=e(500),s=e(106),l=n.createClass({displayName:"Trash",mixins:[r],getBackboneState:function(){return{trash:o.trashedItems(),updateId:this.state?this.state.updateId+1:0}},watchBackboneProps:function(e,t){t(o,"change:trash")},getInitialState:function(){return{isTrashOpen:!1,showTrashContextMenu:null}},shouldComponentUpdate:function(e,t){return this.state.updateId!==t.updateId||this.state.isTrashOpen!==t.isTrashOpen},emptyTrash:function(){o.emptyTrash()
},undeleteTab:function(e,t){o.undeleteTab(e,t)},undeleteWindow:function(e){o.restoreWindow(e)},trimTitle:function(e){return e.length>90&&(e=e.substring(0,90)+"..."),e},getContextMenuHandler:function(){var e=this;if(0===this.state.trash)return null;var t=[],n=this.state.trash.map(function(t){if(t.tab){var n=t.tab;return{name:e.trimTitle(n.title),handler:e.undeleteTab.bind(e,n)}}if(t.window){var r=t.window;return{name:e.trimTitle(i("Window with $1 tab","Window with $1 tabs",[r.tabs.length])),items:[{name:i("All"),handler:e.undeleteWindow.bind(e,r)}].concat(r.tabs.map(function(e){return{name:this.trimTitle(e.title),handler:this.undeleteTab.bind(this,e)}}.bind(e)))}}});return t=t.concat(n),a(t)},render:function(){var e=this.state.trash.length,t=s({"button-tabbar":!0,"toggle-trash":!0,active:this.state.isTrashOpen}),r=this.getContextMenuHandler();return n.createElement("div",{className:"trash"},n.createElement("button",{className:t,onClick:r,onContextMenu:r,disabled:1>e?"disabled":"",title:i("Trash")},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n  <path className="trashicon-lid" d="M11 1V0H4v1H1v2h13V1h-3z"/>\n  <path className="trashicon-content" d="M5 4v9h2V4H5zm3 0v9h2V4H8z"/>\n  <path className="trashicon-bin" d="M2 16V4h2v10h7V4h2v12H2z"/>\n</svg>'}})))}});t.exports=l},{}],458:[function(e,t){"use strict";var n=e(130),i=e(285),r=e(106),o=n.createClass({displayName:"Thumbnail",MAX_RETRY:4,DEFAULT_STYLE:{width:"100%"},getDefaultProps:function(){return{altSrc:"/resources/bookmark_item.png",size:"default"}},getInitialState:function(){return{src:this.props.src?this.props.src:this.props.altSrc,internalStyle:this.DEFAULT_STYLE,retryCount:0,visibility:"visible"}},componentWillReceiveProps:function(e){this.props.src!==e.src&&this.setState({src:e.src?e.src:e.altSrc,internalStyle:e.src?this.state.internalStyle:this.DEFAULT_STYLE})},shouldComponentUpdate:function(e,t){return this.state.src===t.src&&this.props.className===e.className&&this.state.internalStyle===t.internalStyle&&this.state.retryCount===t.retryCount&&this.state.visibility===t.visibility?!1:!0},onLoad:function(){var e={visibility:"visible"};if(this.state.src!==this.props.altSrc&&"cover"===this.props.size){var t=this.refs.image.getDOMNode(),n=window.getComputedStyle(this.refs.container.getDOMNode()),i=parseInt(n.width,10),r=parseInt(n.height,10);120>r&&(r=120),e.internalStyle=t&&t.naturalWidth>0&&t.naturalHeight>0&&i>0&&r>0&&t.naturalWidth/t.naturalHeight>i/r?{height:r+"px"}:this.DEFAULT_STYLE}this.setState(e)},onError:function(){this.setState({src:this.props.altSrc,visibility:this.props.altSrc?"visible":"hidden",internalStyle:this.DEFAULT_STYLE}),this.state.retryCount<this.MAX_RETRY&&this.props.src&&setTimeout(function(){this.isMounted()&&this.setState({src:this.props.src,retryCount:this.state.retryCount+1})}.bind(this),1e3*Math.pow(this.state.retryCount+1,2))},render:function(){var e=i(this.props.className,r({"thumbnail-image":!this.props.className}));return n.createElement("div",{ref:"container",className:e,style:{overflow:"hidden",maxHeight:"100%",maxWidth:"100%",visibility:this.state.visibility}},n.createElement("img",{ref:"image",style:this.state.internalStyle,alt:this.props.alt,src:this.state.src,onError:this.onError,onLoad:this.onLoad}))}});t.exports=o},{}],459:[function(e,t){"use strict";var n=e(105),i=e(482).urls,r=e(479),o=e(480).session,a=e(506),s={activePageThumbnailUpdates:0,lastPageThumbnailStartTime:0,MAX_CONCURRENT_THUMBNAIL_UPDATES:4,THUMBNAIL_TIMEOUT:6e4,updatePageThumbnail:function(e,t){if((this.activePageThumbnailUpdates<0||this.activePageThumbnailUpdates>0&&Date.now()-this.lastPageThumbnailStartTime>this.THUMBNAIL_TIMEOUT)&&(console.warn("Dead or mismatched thumbnails updates, active updates: ",this.activePageThumbnailUpdates),this.activePageThumbnailUpdates=0),!(this.activePageThumbnailUpdates>this.MAX_CONCURRENT_THUMBNAIL_UPDATES)){this.lastPageThumbnailStartTime=Date.now(),this.activePageThumbnailUpdates++;var n=e.get("webPage").webview;this._updateWebviewThumbnail(n,t,"http://tab_thumbnail/"+e.extData.ext_id,{scale:.5},function(t){this.activePageThumbnailUpdates--,t&&o.setPageThumbnail(e,t+"?"+Date.now())}.bind(this))}},updateBookmarkThumbnail:function(e){e&&this._requestUpdateBookmarkThumbnail(e.id,i.getUrl(e.url),"http://bookmark_thumbnail/"+e.id,function(t){t?n.bookmarks.update(e.id,{thumbnail:t+"?"+Date.now()},function(){}.bind(this)):console.warn("will not update thumbnail as none was generated")}.bind(this),1024,838)},isBookmarkThumbnailCapture:function(e){return this._isInArrayById(e,this.thumbnailCaptureQueue)||this._isInArrayById(e,this.thumbnailCaptureActive)},getBookmarkThumbnailCaptureBackgroundTaskInfo:function(e){this._getFromArrayById(e,this.backgroundTasks)},_updateOffscreenServiceThumbnail:function(e,t,i,r,a){var s=o.windowId+"_vivaldi_window_screenshot_"+r+"x"+a,l=n.app.window.get(s);l?(console.warn("Tab capture window "+s+" was already open!!"),l.close(),setTimeout(function(){this._updateOffscreenServiceThumbnailHelper(e,t,i,r,a,s)}.bind(this),1e3)):this._updateOffscreenServiceThumbnailHelper(e,t,i,r,a,s)},_updateOffscreenServiceThumbnailHelper:function(e,t,i,r,o,a){r=r?r:640,o=o?o:500,n.app.window.create("components/thumbnail/capture.html",{id:a,outerBounds:{left:100,top:100,width:1024,height:838},frame:"none",hidden:!0,focused:!1},function(n){var s=!1,l=function(){var a=n.contentWindow.document.getElementById("capture_view");if(!a)return console.warn("Unable to create capture window with capture_view element!"),n.contentWindow.close(),void(i&&i(void 0));var l,c=function(){a.setVisible(!0),this._updateWebviewThumbnail(a,1e3,t,{width:r,height:o},function(e){l(e)}.bind(this))}.bind(this),u=function(){}.bind(this);l=function(e){s=!0,a.removeEventListener(c),a.removeEventListener(u),n.contentWindow.close(),i&&i(e)}.bind(this),a.addEventListener("contentload",c),a.addEventListener("loadabort",u),a.src=e;var h=15e3;setTimeout(function(){s||(console.warn("Capture thumbnail operation timeout after "+h/1e3+"s for "+e),l(void 0))},h)}.bind(this);n.isOpen?(l(),console.warn("Tab capture window "+a+" was already open!!")):(n.isOpen=!0,n.contentWindow.addEventListener("load",l))}.bind(this))},_updateWebviewThumbnail:function(e,t,i,r,o){t=t?t:0,r=r?r:{scale:.5};var a=!0,s=function(e){n.runtime.lastError&&o&&o(void 0),e&&o&&o(e)}.bind(this);setTimeout(function(){a?e.addToThumbnailService(i,r,s):e.getThumbnail(r,s)}.bind(this),t)},thumbnailCaptureQueue:[],thumbnailCaptureActive:[],thumbnailCaptureMaxActive:1,thumbnailCaptureProcessId:"thumbnailCapture",backgroundTasks:[],_requestUpdateBookmarkThumbnail:function(e,t,n,i,r,s){if(!this.isBookmarkThumbnailCapture(e)){if(this.thumbnailCaptureQueue.push({id:e,url:t,thumbUrl:n,callback:i,width:r,height:s}),this.thumbnailCaptureActive.length>=this.thumbnailCaptureMaxActive){var l=this._getFromArrayById(this.thumbnailCaptureProcessId,this.backgroundTasks);return l&&(l.description=a("$1 bookmark waiting for update.","$1 bookmarks waiting for update.",[this.thumbnailCaptureQueue.length]),l.text=this.thumbnailCaptureQueue.length+1),void o.trigger("backgroundTasks","thumbnailCapture",this.backgroundTasks)}this._processCaptureQueue()}},_processCaptureQueue:function(){var e=this._getFromArrayById(this.thumbnailCaptureProcessId,this.backgroundTasks);if(e||(e=new r(this.thumbnailCaptureProcessId,"","Thumbnail Capture",{backgroundImage:"url(/resources/reload-status@2x.png); background-size: 16px 16px; -webkit-animation: spin 2s infinite linear;"},"",[{name:a("Cancel"),handler:function(){this.thumbnailCaptureQueue=[]}.bind(this)}]),this.backgroundTasks.push(e)),0===this.thumbnailCaptureQueue.length)return void(0===this.thumbnailCaptureActive.length&&(this._removeFromArrayById(this.thumbnailCaptureProcessId,this.backgroundTasks),o.trigger("backgroundTasks","thumbnailCapture",this.backgroundTasks)));var t=this.thumbnailCaptureQueue.shift();this.thumbnailCaptureActive.push(t);var n=function(e){t.callback&&t.callback(e),this._removeFromArrayById(t.id,this.thumbnailCaptureActive),setTimeout(function(){this._processCaptureQueue()}.bind(this),500)}.bind(this);this._updateOffscreenServiceThumbnail(t.url,t.thumbUrl,n,t.width,t.height),e.title=a("Updating thumbnail for $1",[t.url]),e.description=a("$1 bookmark waiting for update.","$1 bookmarks waiting for update.",[this.thumbnailCaptureQueue.length]),e.text=this.thumbnailCaptureQueue.length+1,o.trigger("backgroundTasks","thumbnailCapture",this.backgroundTasks)},_getFromArrayById:function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n];return null},_isInArrayById:function(e,t){return!!this._getFromArrayById(e,t)},_removeFromArrayById:function(e,t){for(var n=0;n<t.length;n++)t[n].id===e&&t.splice(n,1)}};n.runtime.onMessage.addListener(function(e){e.action&&"updateBookmarkThumbnail"===e.action&&s.updateBookmarkThumbnail(e.bookmark)}),t.exports=s},{}],460:[function(e,t){"use strict";var n=e(302),i=e(379),r=e(480).session,o=e(105),a=e(506),s=e(488),l=e(509),c=e(500),u=e(106),h=n.createClass({displayName:"TitleBar",mixins:[i],getInitialState:function(){return{menuItems:s.getMenuCommands(),showVerticalVivaldiMenu:!1,altHover:!1}},getBackboneState:function(){return{currentPage:r.currentPage()}},watchBackboneProps:function(e,t){t(r,"change:title")},_onStoreChange:function(){this.state.showVerticalVivaldiMenu===!0&&this.setState({menuItems:s.getMenuCommands()})},componentWillMount:function(){s.addChangeListener(this._onStoreChange),l.get(["VIVALDI_MENU_POSITION"],function(e){this.setState({showVerticalVivaldiMenu:"vivaldi"===e.VIVALDI_MENU_POSITION}),"vivaldi"===e.VIVALDI_MENU_POSITION&&this.setState({menuItems:s.getMenuCommands()})}.bind(this)),l.addListener("VIVALDI_MENU_POSITION",function(e,t){t&&(this.setState({showVerticalVivaldiMenu:"vivaldi"===t}),"vivaldi"===t&&this.setState({menuItems:s.getMenuCommands()}))}.bind(this))},componentWillUnmount:function(){s.removeChangeListener(this._onStoreChange),l.removeListener("VIVALDI_MENU_POSITION")},close:function(){o.app.window.current().close()},minimize:function(){this.props.onNoVisualBlur(),o.app.window.current().minimize()},maximize:function(e){var t=o.app.window.current();if("mac"!==this.props.currentOS)t.isMaximized()?t.restore():t.maximize();else{var n=e.altKey;!e||1!==e.button&&n!==!0?t.isFullscreen()?t.restore():t.fullscreen():t.isMaximized()?t.restore():t.maximize()}},keyDownListener:function(e){e.altKey&&this.setState({altHover:!0})},keyUpListener:function(e){"Alt"===e.keyIdentifier&&this.setState({altHover:!1})},handleMouseEnter:function(e){e.altKey&&this.setState({altHover:!0}),document.addEventListener("keydown",this.keyDownListener),document.addEventListener("keyup",this.keyUpListener)},handleMouseLeave:function(){this.setState({altHover:!1}),document.removeEventListener("keydown",this.keyDownListener),document.removeEventListener("keyup",this.keyUpListener)},showVerticalMainMenu:function(){var e=this,t=this.state.menuItems,n=t.map(function(t){return{name:t.name,handler:t.handler,items:[].concat(t.items.map(function(e){return{name:e.name,handler:e.handler}}.bind(e)))}});return c(n)},render:function(){var e;e=r.currentPage()?r.currentPage().attributes.title:"Vivaldi";var t="top"!==this.props.tabPosition?"tabless":null;return n.createElement("div",{id:"titlebar",className:t},this.state.showVerticalVivaldiMenu&&n.createElement("button",{className:"vivaldi",onClick:this.showVerticalMainMenu(),title:a("Menu")},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <rect id="vivrect1" width="18" height="18" x="2.013" y="2.013" rx="1"/>\n    <rect id="vivrect2" width="18" height="18" x="2.013" y="2.013" rx="1"/>\n    <radialGradient id="vivgrad1" cy="23.635%" r="55.581%" fx="50%" fy="23.635%">\n      <stop stop-color="#FF5B5B" offset="0%"/>\n      <stop stop-color="#EF3939" offset="100%"/>\n    </radialGradient>\n    <filter id="filter1" width="200%" height="200%" x="-50%" y="-50%" filterUnits="objectBoundingBox">\n      <feOffset in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur stdDeviation="2" in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.042 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n    <rect id="vivrect3" width="18" height="18" x="2.013" y="2.013" rx="1"/>\n    <filter id="filter2" width="200%" height="200%" x="-50%" y="-50%" filterUnits="objectBoundingBox">\n      <feOffset dx="-1" in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0.88627451 0 0 0 0 0.443137255 0 0 0 0 0.443137255 0 0 0 0.175 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n  </defs>\n  <g fill="none" fill-rule="evenodd">\n    <g opacity=".4">\n      <use fill="#EF3939" transform="rotate(-12 11.013 11.013)" xlink:href="#vivrect1"/>\n      <use xlink:href="#vivrect1"/>\n    </g>\n    <g opacity=".4">\n      <use fill="#EF3939" transform="rotate(-6 11.013 11.013)" xlink:href="#vivrect2"/>\n      <use xlink:href="#vivrect2"/>\n    </g>\n    <g filter="url(#filter1)">\n      <use fill="url(#vivgrad1)" xlink:href="#vivrect3"/>\n      <use stroke="#000" stroke-opacity=".1" xlink:href="#vivrect3"/>\n    </g>\n    <path fill="#FFF" d="M14.284 8.394c-.46-.85.03-1.804 1.03-2.008.812-.167 1.653.386 1.76 1.15.05.335-.023.642-.203.93-1.48 2.38-2.965 4.758-4.445 7.14-.275.44-.674.71-1.223.745-.614.042-1.097-.197-1.406-.69C8.858 14.17 7.93 12.674 7 11.18c-.567-.91-1.136-1.818-1.7-2.73-.57-.917.073-2.034 1.215-2.088.602-.03 1.067.228 1.373.712.418.66.83 1.327 1.242 1.99.3.48.59.96.898 1.434.444.687 1.097 1.074 1.967 1.122 1.23.068 2.372-.756 2.52-1.965l.023-.227c-.007-.39-.086-.72-.254-1.032z" filter="url(#filter2)"/>\n  </g>\n</svg>'}})),n.createElement("div",{className:u({"window-buttongroup":!0,alt:this.state.altHover}),onMouseEnter:"mac"===this.props.currentOS?this.handleMouseEnter:null,onMouseLeave:"mac"===this.props.currentOS?this.handleMouseLeave:null},n.createElement("button",{tabIndex:"-1",className:"minimize",onClick:this.minimize},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">\n    <path d="M1 7h8v2H1z"/>\n</svg>'}})),n.createElement("button",{tabIndex:"-1",className:"maximized"===this.props.currentWindowstate?"ismaximized":"isnormal",onClick:this.maximize},"maximized"===this.props.currentWindowstate?n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1 3h6v1H1V3zM0 2h8v1H0V2zm1 7h6v1H1V9zM0 3h1v7H0V3zm7 0h1v7H7V3zM2 0h8v1H2V0zm7 1h1v7H9V1z"/>\n</svg>'}}):n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1 2h8v1H1V2zM0 1h10v1H0V1zm0 7h10v1H0V8zm0-6h1v6H0V2zm9 0h1v6H9V2z"/>\n</svg>'}})),n.createElement("button",{tabIndex:"-1",className:"window-close",onClick:this.close},n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1 1h2v1H1V1zm1 1h2v1H2V2zm4 0h2v1H6V2zm1-1h2v1H7V1zM3 3h4v1H3V3zm1 1h2v1H4V4zM3 5h4v1H3V5zM2 6h2v1H2V6zm4 0h2v1H6V6zm1 1h2v1H7V7zM1 7h2v1H1V7z"/>\n</svg>'}}))),"top"!==this.props.tabPosition&&(this.state.showVerticalVivaldiMenu||"mac"===this.props.currentOS)&&n.createElement("div",{id:"pagetitle"},e))}});t.exports=h},{}],461:[function(e,t){"use strict";var n=e(302),i=e(285),r=e(496),o=e(502),a=o.onlyDistinct,s=e(106),l=4,c=n.createClass({displayName:"Tooltip",mixins:[n.addons.PureRenderMixin],getInitialState:function(){return{show:!1}},getDefaultProps:function(){return{appearDelay:200,disabled:!1}},"static":{removeTimoutId:null},_onStoreChange:function(e){"clear-tooltip"===e&&this.hideTooltip(0)},componentWillMount:function(){r.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){r.removeChangeListener(this._onStoreChange),n.unmountComponentAtNode(this.target)},componentDidMount:function(){this.target=this.getOrCreateTarget(),this.renderToolTip()},componentDidUpdate:function(){this.renderToolTip()},componentWillReceiveProps:function(){},onMouseMove:a(function(){this.props.disabled||this.showTooltip()}),onMouseLeave:function(){this.props.disabled||this.hideTooltip(200)},tooltipIsOpen:function(){return Boolean(this.target&&this.target.firstChild&&this.target.firstChild.classList.contains("tooltip"))},showTooltip:function(){var e=this;this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),c.removeTimoutId&&(clearTimeout(c.removeTimoutId),c.removeTimoutId=null);var t=this.tooltipIsOpen()?0:this.props.appearDelay;this.timeoutId=setTimeout(function(){!e.state.show&&e.isMounted()&&e.setState({show:!0})},t)},hideTooltip:function(e){var t=this;this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.timeoutId=setTimeout(function(){t.state.show&&t.isMounted()&&t.setState({show:!1})},e),c.removeTimoutId=setTimeout(this.removeTooltip,e)},removeTooltip:function(){n.unmountComponentAtNode(this.target)},getOrCreateTarget:function(){var e=document.getElementById("vivaldi-tooltip");return e||(e=document.createElement("div"),e.id="vivaldi-tooltip",document.body.appendChild(e)),e},getPosition:function(e,t){var n=void 0,i=void 0,r=this.getDOMNode().getBoundingClientRect();if("above"===this.props.placement){var o=r.left+r.width/2;n=o-e/2,i=r.top-t-l}else if("after"===this.props.placement)n=r.left+r.width+l,i=r.top;else if("before"===this.props.placement)n=r.left-e-l,i=r.top;else{var a=r.left+r.width/2;n=a-e/2,i=r.top+r.height+l}return 0>n&&(n=0),0>i&&(i=0),n+e>window.innerWidth&&(n-=n+e-window.innerWidth),i+t>window.innerHeight&&(n-=i+t-window.innerHeight),{positionLeft:n,positionTop:i}},renderToolTip:function(){if(this.state.show){var e,t=this.props.content(this.props.context),r=t.width,o=t.height,a=t.content,l=this.getPosition(r,o),c=l.positionLeft,u=l.positionTop;e="after"===this.props.placement||"before"===this.props.placement?"top 150ms, height 50ms":"left 150ms, height 50ms";var h=Object.assign({left:c,top:u,width:r,height:o,transition:e},this.props.style),d=i(s({tooltip:!0}),this.props.className);n.render(n.createElement("div",{className:d,style:h,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},a),this.target)}},render:function(){return n.cloneElement(n.Children.only(this.props.children),{onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave})}});t.exports=c},{}],462:[function(e,t){"use strict";var n=e(302),i=e(382),r=e(303),o=e(506),a=n.createClass({displayName:"LocationNotImplementedDialog",mixins:[i],propTypes:{onEULADecided:n.PropTypes.func,onDialogClosed:n.PropTypes.func},componentDidMount:function(){this.getDOMNode().addEventListener("focusout",this.onFocusout,!1)},componentWillUnmount:function(){null!=this.getDOMNode()&&this.getDOMNode().removeEventListener("focusout",this.onFocusout,!1)},componentLostFocus:function(){this.props.onDialogClosed()},getInitialState:function(){return{}},render:function(){return n.createElement("section",{className:"addressfield-popup"},n.createElement("header",{className:"addressfield-popup-header"},n.createElement("h1",null,o("Geolocation not implemented"))),n.createElement("section",{className:"addressfield-popup-content"},n.createElement("input",{type:"button",className:"primary mousetrap",onClick:r.partial(this.props.onDialogClosed,!1),value:o("OK"),autoFocus:!0})))}});t.exports=a},{}],463:[function(e,t){"use strict";var n=e(302),i=e(509),r=e(462),o=e(303),a=e(106),s=n.createClass({displayName:"LocationPermissionNotificator",mixins:[],propTypes:{url:n.PropTypes.string,showNotificator:n.PropTypes.bool,request:n.PropTypes.object},getInitialState:function(){var e=this.props.request;return{isDialogOpen:this.props.showNotificator&&void 0===e.isBlocking?!0:null,isBlocking:void 0===e.isBlocking?!0:e.isBlocking,isAsking:void 0===e.isBlocking,isDecided:void 0!==e.isBlocking,isEULAAccepted:!1}},componentWillMount:function(){i.get("__VIVALDI_GEOLOCATION_EULA_ACCEPTED",function(e){this.setState({isEULAAccepted:e===!0})}.bind(this)),i.addListener("__VIVALDI_GEOLOCATION_EULA_ACCEPTED",function(e,t){null!=t&&this.setState({isEULAAccepted:t===!0})}.bind(this))},componentWillReceiveProps:function(e){null===this.state.isDialogOpen&&e.showNotificator&&this.setState({isDialogOpen:!0})},componentWillUnmount:function(){i.removeListener("__VIVALDI_GEOLOCATION_EULA_ACCEPTED")},clearState:function(){this.replaceState(o.omit(this.getInitialState(),"isEULAAccepted"))},onNotificatorClicked:function(){this.setState({isDialogOpen:!0})},onEULADecided:function(e){e===!0?(i.set({__VIVALDI_GEOLOCATION_EULA_ACCEPTED:!0}),this.setState({isEULAAccepted:!0}),this.state.isBlocking===!1?(this.props.request.allow(),this.props.request.isBlocking=!1):(this.props.request.deny(),this.props.request.isBlocking=!0)):this.onDialogClosed()},onPermissionClicked:function(e){var t={isDecided:!0},n=!1;e===!1?(this.state.isEULAAccepted&&(this.props.request.allow(),this.props.request.isBlocking=!1,n=!0),t.isBlocking=!1):(this.props.request.deny(),this.props.request.isBlocking=!0,n=!0,t.isBlocking=!0),n&&this.onDialogClosed(),this.setState(t)},onAskUpdated:function(e){this.setState({isAsking:e})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onNotImplementedDialogClosed:function(){this.setState({isDialogOpen:!1}),this.props.request.deny(),this.props.request.isBlocking=!0},render:function(){var e=null,t=null,i={"button-addressfield":!0,"permission-location":!0,"is-allowing":!this.state.isBlocking,"is-blocking":this.state.isBlocking};return this.state.isDialogOpen===!0&&(t=n.createElement(r,{onDialogClosed:this.onNotImplementedDialogClosed}),i["is-dialog-open"]=!0),this.props.showNotificator&&(e=n.createElement("button",{className:a(i),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <title>permission-location</title>\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M13,3 L1.999,8.996 L7.026,8.967 L7.026,13.971 L13,3 Z" fill="#AAAAAA"/>\n  </g>\n</svg>\n'}})),n.createElement("div",{className:"locationpermission addressfield-popup-container"},e,t)}});t.exports=s},{}],464:[function(e,t){"use strict";var n=e(302),i=e(506),r=e(382),o=e(303),a=n.createClass({displayName:"MediaPermissionDialog",mixins:[r],propTypes:{onDialogClosed:n.PropTypes.func,onAskUpdated:n.PropTypes.func,onPermissionClicked:n.PropTypes.func,isDecided:n.PropTypes.bool,isBlocking:n.PropTypes.bool,isAsking:n.PropTypes.bool,url:n.PropTypes.string},getInitialState:function(){return{}},componentDidMount:function(){this.getDOMNode().addEventListener("focusout",this.onFocusout),this.getDOMNode().querySelector(".addressfield-popup-content .primary").focus()},componentWillUnmount:function(){null!=this.getDOMNode()&&this.getDOMNode().removeEventListener("focusout",this.onFocusout)},componentLostFocus:function(){this.props.onDialogClosed()},onShouldAskClicked:function(e){this.props.onAskUpdated(e)},getTitle:function(){return i(this.props.isDecided?this.props.isBlocking?"This page has been denied camera access":"This page is accessing your camera":"This page would like to access your camera")},renderAllowDenyQuery:function(){return n.createElement("section",null,n.createElement("input",{type:"button",className:"primary",disabled:this.props.isAsking!==!0,onClick:o.partial(this.props.onPermissionClicked,!1),value:i("Allow")}),n.createElement("input",{type:"button",className:"",onClick:o.partial(this.props.onPermissionClicked,!0),value:i("Deny")}))},renderOkButton:function(){return n.createElement("section",null,n.createElement("input",{type:"button",className:"primary",onClick:this.props.onDialogClosed,value:i("OK")}))},render:function(){return n.createElement("div",{className:"addressfield-popup"},n.createElement("header",{className:"addressfield-popup-header"},n.createElement("h1",null,this.getTitle())),n.createElement("div",{className:"addressfield-popup-content"},this.props.isDecided===!1&&this.renderAllowDenyQuery()||this.renderOkButton()))}});t.exports=a},{}],465:[function(e,t){"use strict";var n=e(302),i=e(464),r=e(106),o=n.createClass({displayName:"MediaPermissionNotificator",mixins:[],propTypes:{request:n.PropTypes.object,url:n.PropTypes.string,showNotificator:n.PropTypes.bool},getInitialState:function(){var e=this.props.request;return{isDialogOpen:this.props.showNotificator&&void 0===e.isBlocking?!0:null,isBlocking:void 0===e.isBlocking?!0:e.isBlocking,isAsking:void 0===e.isBlocking,isDecided:void 0!==e.isBlocking}},onNotificatorClicked:function(){this.setState({isDialogOpen:!0})},onAskUpdated:function(e){this.setState({isAsking:e})},componentWillReceiveProps:function(e){null===this.state.isDialogOpen&&e.showNotificator&&this.setState({isDialogOpen:!0})},clearState:function(){this.replaceState(this.getInitialState())},onPermissionClicked:function(e){var t={isDecided:!0};e===!1?(this.props.request.allow(),this.props.request.isBlocking=!1):(this.props.request.deny(),this.props.request.isBlocking=!0),t.isBlocking=this.props.request.isBlocking,this.setState(t),this.onDialogClosed()},onDialogClosed:function(){this.setState({isDialogOpen:!1})},render:function(){var e=null,t=null,o={"button-addressfield":!0,"permission-camera":!0,"is-allowing":!this.state.isBlocking,"is-blocking":this.state.isBlocking,"is-dialog-open":this.state.isDialogOpen};return this.state.isDialogOpen===!0&&(t=n.createElement(i,{url:this.props.url,onPermissionClicked:this.onPermissionClicked,onAskUpdated:this.onAskUpdated,isAsking:this.state.isAsking,isBlocking:this.state.isBlocking,isDecided:this.state.isDecided,onDialogClosed:this.onDialogClosed})),this.props.showNotificator&&(e=n.createElement("button",{className:r(o),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <title>permission-camera</title>\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M2 4v7h9v-7h-9zm9.015 3.5l3.985 3.5v-7l-3.985 3.5z" fill="#aaa"/>\n    <g class="permission-denied">\n      <circle fill="#F03939" cx="4" cy="12" r="4"/>\n      <path d="M2 11h4v2h-4v-2z" fill="#fff"/>\n    </g>\n  </g>\n</svg>\n'}})),n.createElement("div",{className:"mediapermission addressfield-popup-container"},e,t)}});t.exports=o},{}],466:[function(e,t){"use strict";var n=e(302),i=e(506),r=e(105),o=e(106),a=750,s=n.createClass({displayName:"NavigateButton",getInitialState:function(){return{timerId:0,currentWebView:null,isBackButton:!0,isShowingPagehistory:!1}},setActiveWebview:function(e){this.setState({currentWebView:e})},doMouseUp:function(){clearTimeout(this.state.timerId),this.state.isShowingPagehistory||this.props.doAction()},doMouseDown:function(e){var t=0,n=0,i=e.target;if(i&&i.offsetParent)do t+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;while(i);n+=e.target.scrollHeight;var o={x:t,y:n},s=setTimeout(function(){this.state.currentWebView.getPageHistory(function(e,t){var n=e;this.props.isBackButton?(t=t.slice(0,e),t=t.reverse()):t=t.slice(e+1);var i=0,a={left:o.x,top:o.y,items:t.map(function(e){return{name:e.name,id:i++}})};this.setState({isShowingPagehistory:!0}),r.showMenu&&"function"==typeof r.showMenu.create&&r.showMenu.create(a,function(e){if(this.setState({isShowingPagehistory:!1}),-1!==e){var i=t[e].index-n;this.state.currentWebView.go(i)}}.bind(this))}.bind(this))}.bind(this),a);this.setState({timerId:s})},render:function(){var e=o({"button-toolbar":!0,back:this.props.isBackButton,forward:!this.props.isBackButton});return n.createElement("button",{className:e,disabled:!this.props.canNavigate,title:this.props.isBackButton?i("Back"):i("navigation","Forward"),onMouseUp:this.doMouseUp,onMouseDown:this.doMouseDown},this.props.isBackButton===!0?n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M18.3 4.6l-1.6-1.6-9 9 9 9 1.6-1.6-7.2-7.4 7.2-7.4z"/>\n</svg>'}}):n.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M14.9 12l-7.2 7.4 1.6 1.6 9-9-9-9-1.6 1.6 7.2 7.4z"/>\n</svg>'}}))}});t.exports=s},{}],467:[function(e,t){"use strict";var n=e(472),i=e(302),r=e(506),o=e(105),a=e(303),s=i.createClass({displayName:"OmniDropdown",mixins:[i.addons.PureRenderMixin],getInitialState:function(){return{}},onLinkItemClicked:function(e){this.props.onLinkItemClicked(e)},onSearchClicked:function(){this.props.onSearchClicked()},getNumberOfSelectableItems:function(){var e=i.findDOMNode(this);return e?e.querySelectorAll(".omni-clickable").length:0},getCurrentValue:function(){var e=i.findDOMNode(this);if(e){var t=e.querySelector(".highlight");return t&&t.dataset.url?t.dataset.url:this.props.pattern}return""},_removeAllHighlighted:function(){var e=function(e){e.classList.remove("highlight")},t=i.findDOMNode(this);t&&Array.prototype.forEach.call(t.querySelectorAll(".highlight"),e)},_currentURL:null,moveHighlightToElement:function(e){e&&(e.classList.add("highlight"),e.scrollIntoViewIfNeeded())},moveHighlight:function(e){this._removeAllHighlighted();var t=i.findDOMNode(this);if(t){var n=t.querySelectorAll(".omni-clickable");e>=0&&this.moveHighlightToElement(n[e])}},onDeleteHistoryItem:function(e,t){t.preventDefault(),t.stopPropagation(),o.history.deleteUrl({url:e})},renderLinkItem:function(e,t,o){return i.createElement("div",{key:e.type+"-"+e.url,"data-type":t?n.OMNI_TYPE_HISTORY:n.OMNI_TYPE_BOOKMARK,"data-url":e.url,className:"omni-clickable",onClick:this.onLinkItemClicked.bind(this,e)},i.createElement("span",{className:"url"},e.url),void 0!==o&&i.createElement("span",{className:"nickname"},e.nickname)||i.createElement("span",{className:"title"},e.title),t===!0&&i.createElement("span",{className:"erase-from-history",title:r("Delete history item"),onClick:this.onDeleteHistoryItem.bind(this,e.url)}))},renderBookmarks:function(e){return Array.isArray(e)&&0!==e.length?i.createElement("section",{className:"filter-bookmarks"},i.createElement("label",null,r("Bookmarks")),a.first(e.map(function(e){return this.renderLinkItem(e,!1)}.bind(this)),n.OMNI_RESULT_COUNT)):null},renderHistory:function(e){return!Array.isArray(e)||e.length<=0?null:i.createElement("section",{className:"filter-history"},i.createElement("label",null,r("History")),a.first(e.map(function(e){return this.renderLinkItem(e,!0)}.bind(this)),n.OMNI_RESULT_COUNT))},renderURLSearch:function(){return"string"!=typeof this.props.pattern||this.props.pattern.length<0?null:i.createElement("section",{className:"filter-search"},i.createElement("label",null,r("Search ")+this.props.defaultSearchEngine),i.createElement("div",{onClick:this.onSearchClicked,className:"search omni-clickable"},this.props.pattern))},renderNickname:function(e){return!Array.isArray(e)||e.length<=0?null:i.createElement("section",{className:"filter-bookmarks"},i.createElement("label",null,r("Nickname")),a.first(e.map(function(e){return this.renderLinkItem(e,!1,e.nickname)
}.bind(this)),n.OMNI_RESULT_COUNT))},render:function(){if(!this.props.isOpen)return null;if(this.props.results&&this.props.results.length>0){var e=this.props.results.filter(function(e){return 0===e.type.indexOf("OMNI_RESULT_HISTORY")}),t=this.props.results.filter(function(e){return 0===e.type.indexOf("OMNI_RESULT_BOOKMARK")&&-1===e.type.indexOf("OMNI_RESULT_BOOKMARK_NICKNAME")}),n=this.props.results.filter(function(e){return 0===e.type.indexOf("OMNI_RESULT_BOOKMARK_NICKNAME")});return i.createElement("div",{className:"urlSearch"},this.renderNickname(n),this.props.isUrlbarSearchDisabled!==!0&&this.renderURLSearch(),this.renderBookmarks(t),this.renderHistory(e))}return i.createElement("div",{className:"urlSearch"},this.renderURLSearch())}});t.exports=s},{}],468:[function(e,t){"use strict";var n=e(302),i=e(506),r=e(382),o=n.createClass({displayName:"PopupBlockerDialog",mixins:[r],propTypes:{onDialogClosed:n.PropTypes.func,onShouldBlockClicked:n.PropTypes.func,blockedPopups:n.PropTypes.array,shouldBlockPopups:n.PropTypes.bool,onPopupAllowed:n.PropTypes.func},getInitialState:function(){return{}},onAllowBlockedClicked:function(e,t){t.preventDefault(),this.props.onPopupAllowed(e)},componentDidMount:function(){this.getDOMNode().addEventListener("focusout",this.onFocusout),this.getDOMNode().focus()},componentWillUnmount:function(){null!=this.getDOMNode()&&this.getDOMNode().removeEventListener("focusout",this.onFocusout)},renderItem:function(e){return n.createElement("a",{className:"popupblocker-blocked-page",onClick:this.onAllowBlockedClicked.bind(this,e),key:e.targetUrl+e.timeStamp,title:e.targetUrl,href:e.targetUrl},e.targetUrl)},renderItems:function(e){var t=this;return n.createElement("div",{className:"popupblocker-blocked-pages"},e.map(function(e){return t.renderItem(e)}))},componentLostFocus:function(){this.props.onDialogClosed()},onShouldBlockClicked:function(e){this.props.onShouldBlockClicked(e)},renderAlwaysBlockQuery:function(){return n.createElement("section",{className:"dialog-footer"},n.createElement("label",null,n.createElement("input",{type:"radio",name:"blocked",value:"false",defaultChecked:this.props.shouldBlockPopups!==!1,onChange:this.onShouldBlockClicked.bind(this,!0)}),i("Block pop-ups")),n.createElement("label",null,n.createElement("input",{type:"radio",name:"blocked",value:"true",defaultChecked:this.props.shouldBlockPopups===!1,onChange:this.onShouldBlockClicked.bind(this,!1)}),i("Always allow")))},render:function(){return Array.isArray(this.props.blockedPopups)&&this.props.blockedPopups.length>0?n.createElement("div",{tabIndex:"0",className:"addressfield-popup",onFocus:this.onFocus},n.createElement("header",{className:"addressfield-popup-header"},n.createElement("h1",null,i("Blocked Pop-up Pages"))),n.createElement("div",{className:"addressfield-popup-content"},this.renderItems(this.props.blockedPopups)),this.renderAlwaysBlockQuery()):null}});t.exports=o},{}],469:[function(e,t){"use strict";var n=e(302),i=e(468),r=e(105),o=e(100),a=e(106),s=n.createClass({displayName:"PopupBlockerNotificator",mixins:[],propTypes:{url:n.PropTypes.string,blockedPopups:n.PropTypes.array,onPopupAllowed:n.PropTypes.func,onDialogClosed:n.PropTypes.func},getInitialState:function(){return{isDialogOpen:!1,shouldBlockPopups:!0}},componentWillMount:function(){this.props.url&&r.contentSettings.popups.get({primaryUrl:this.props.url},function(e){if(r.runtime.lastError)return void console.warn("ERROR getting content settings for popups. Original message:\n"+r.runtime.lastError.message);if(e){var t="allow"!==e.setting;this.setState({shouldBlockPopups:t})}}.bind(this))},onNotificatorClicked:function(){this.setState({isDialogOpen:!this.state.isDialogOpen})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onShouldBlockClicked:function(e){var t=o.parse(this.props.url),n=[t.protocol];t.slashes&&n.push("//"),n.push(t.host),n.push("/*");var i=n.join("");t=null,r.contentSettings.popups.set({primaryPattern:i,setting:e===!1?"allow":"block"},function(){this.setState({shouldBlockPopups:e})}.bind(this))},render:function(){var e={"button-addressfield":!0,"permission-popup":!0,"is-blocking":this.state.shouldBlockPopups===!0,"is-allowing":this.state.shouldBlockPopups===!1,"is-dialog-open":this.state.isDialogOpen},t=null;this.state.isDialogOpen===!0&&(t=n.createElement(i,{shouldBlockPopups:this.state.shouldBlockPopups,onShouldBlockClicked:this.onShouldBlockClicked,blockedPopups:this.props.blockedPopups,onPopupAllowed:this.props.onPopupAllowed,onDialogClosed:this.onDialogClosed}));var r=null;return Array.isArray(this.props.blockedPopups)&&this.props.blockedPopups.length>0&&(r=n.createElement("button",{className:a(e),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <title>permission-popup</title>\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M3,10 L1,10 L1,1 L10,1 L10,3 L3,3 L3,10 Z" fill-opacity="0.5" fill="#AAAAAA"></path>\n    <path class="permission-icon" d="M4,4 L4,13 L13,13 L13,4 L4,4 Z M6,6 L11,6 L11,11 L6,11 L6,6 Z" fill="#AAAAAA"></path>\n    <g class="permission-denied">\n      <circle fill="#F03939" cx="4" cy="12" r="4"/>\n      <path d="M2 11h4v2h-4v-2z" fill="#fff"/>\n    </g>\n  </g>\n</svg>\n'}})),n.createElement("div",{className:"popupblocker addressfield-popup-container"},r,t)}});t.exports=s},{}],470:[function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=e(302),r=e(506),o=e(105),a=e(108),s=a("urlbar"),l=e(106),c=e(480).session,u=e(303),h=e(100),d=e(482).urls,p=e(385),f=e(357),m=e(489),g=e(466),v=e(467),E=e(495),b=e(318),_=e(313),y=e(393),S=e(469),C=e(395),w=e(493),k=e(471),A=e(319),I=e(497),N=e(304),T=e(477),O=e(509),D=e(320),M=e(498),x=e(504),P=x.isPath,L=x.win32PathToFileUrl,R=T.CHANGED,B=null,F=i.createClass({displayName:"UrlBar",mixins:[p],vivaldiSettingsKeys:["SEARCH_FIELD_ENABLED","USE_TABCOLOR","URLBAR_SEARCH_DISABLED"],getInitialState:function(){return{createBookmarkCallout:!1,defaultSearchEngine:null,showOmniDropdown:!1,USE_TABCOLOR:!0}},updateFocus:function(e){if(e)switch(s("updating focus to",e.preferredFocusArea()),e.preferredFocusArea()){case"urlField":this.focusAddressField()}},_onUrlbarStoreChanged:function(){this.forceUpdate()},focusAddressField:function(e){if(this.isMounted()){var t=i.findDOMNode(this.refs.urlField);t.focus(),e&&t.select()}},blurAddressField:function(){if(this.isMounted()){var e=this.refs.urlField.getDOMNode();e.blur()}this.hideDropdown()},hideTooltip:function(){b.clearTooltip()},getSearchEngineName:function(){O.get(["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],function(e){this.isMounted()&&this.setState({searchEngines:u.map(e.SEARCH_ENGINES,function(e){if(e.FaviconUrl)return Object.assign(e,{Image:e.FaviconUrl});var t=h.parse(e.Url),n=t.protocol,i=t.host;return"https:"===n?Object.assign(e,{Image:"https://"+i+"/favicon.ico"}):e}),defaultSearchEngine:e.DEFAULT_SEARCH_ENGINE})}.bind(this))},getCurrentSearchEngine:function(){var e=w.getCurrentTabSearchEngine();return e},componentWillReceiveProps:function(e){null===B&&e.currentOS&&(B="win"===e.currentOS),this.props.page!==e.page&&(this.props.page&&(this.props.page.off("change",this.forceRendering),this.props.page.off("change:navigationState",this.onNavigationStateChanged)),e.page&&(e.page.on("change",this.forceRendering),e.page.on("change:navigationState",this.onNavigationStateChanged)),this.onPageChanged(e.page))},componentWillUpdate:function(){if(this.state.USE_TABCOLOR){var e=c.getCurrentHighlightColor();N.updateCSSClasses(e)}else N.removeCSSClasses()},componentDidUpdate:function(e){this.props.page!==e.page&&this.updateFocus(this.props.page)},componentWillMount:function(){m.addChangeListener(this._onMainStoreChanged),M.addChangeListener(this._onWebpageviewStoreChanged),E.addChangeListener(this._onTabStoreChanged),w.addListener(R,this._onSearchFieldStoreChanged),I.addListener(R,this._onUrlbarStoreChanged)},componentDidMount:function(){O.addListener("DEFAULT_SEARCH_ENGINE",function(e,t){t&&this.getSearchEngineName()}.bind(this)),O.addListener("SEARCH_ENGINES",function(e,t){t&&this.getSearchEngineName()}.bind(this)),this.getSearchEngineName()},componentWillUnmount:function(){m.removeChangeListener(this._onMainStoreChanged),M.removeChangeListener(this._onWebpageviewStoreChanged),E.removeChangeListener(this._onTabStoreChanged),w.removeListener(R,this._onSearchFieldStoreChanged),I.removeListener(R,this._onUrlbarStoreChanged),O.removeListener("DEFAULT_SEARCH_ENGINE"),O.removeListener("SEARCH_ENGINES")},_onMainStoreChanged:function(e){if(e.page&&this.props.page&&e.page.cid===this.props.page.cid)switch(e.action){case"showPageInfo":this.doActionShowPageInfo(e.event)}},_onTabStoreChanged:function(e){("newTab"===e.action||"closeTab"==e.action)&&this.hideDropdown()},_onSearchFieldStoreChanged:function(){this.setState({})},urlPasteAndGo:function(){this.props.page&&this.props.page.isActive()&&(this.focusAddressField(),this.refs.urlField.getDOMNode().select(),document.execCommand("paste"),"url"===document.activeElement.className&&this.urlFieldGo())},_onWebpageviewStoreChanged:function(e){e.type===T.WEBPAGEVIEW_ACTIONS&&("addBookmark"===e.action?this.onCreateBookmarkCallout():"addExtension"===e.action?this.doActionAddExtension():"focusAddressField"===e.action?this.focusAddressField(!0):"urlPasteAndGo"===e.action&&this.urlPasteAndGo())},onPageChanged:function(e){e.isLoading()?this.updateProgress(e):this.refs.webpageview_loadprogress&&this.refs.webpageview_loadprogress.reset(),this.refs.webpageview_nav_back.setActiveWebview(e.webview()),this.refs.webpageview_nav_forward.setActiveWebview(e.webview())},onFocus:function(){this.refs.addressfield.getDOMNode().className="addressfield focused"},onBlur:function(){this.refs.addressfield.getDOMNode().className="addressfield"},urlFieldGo:function(){var e=this.refs.urlField.getDOMNode().value.trim();if(e&&0!==e.length){if("/."===e)return A.go("http://slashdot.org"),void this.updateFocus(this.props.page);if(P(e,B))return A.go(L(e)),void this.updateFocus(this.props.page);var t=d.getUrl(e);this.hideDropdown(),o.bookmarks.getTree(function(e){var n=function i(e){t===e.nickname&&(t=e.url),e.children&&e.children.forEach(i)};e.forEach(n),void 0!==this.refs.urlField.compProtocol&&(t=this.refs.urlField.compProtocol+t),this.refs.urlField.compProtocol="",A.go(t,{enableSearch:!0})}.bind(this))}},fromDragDropBookmark:function(e){A.go(e)},doActionBack:function(){D.back()},doActionForward:function(){D.forward()},doActionFastForward:function(){var e=this.props.page&&this.props.page.get("webPage")&&this.props.page.get("webPage").fastNavigationState;e&&e.forwardUrl&&_.navigateFastforward()},doActionFastRewind:function(){var e=this.props.page&&this.props.page.get("webPage")&&this.props.page.get("webPage").fastNavigationState;e&&e.rewindRelativeIndex>0&&D.go(-1*e.rewindRelativeIndex)},doActionReload:function(){this.props.page&&this.props.page.isActive()&&(this.props.page.isLoading()?D.stop():(D.reload(),this.refs.urlField.revertUrl()),this.updateFocus(this.props.page))},doActionHome:function(){O.get("DEFAULT_HOME",function(e){this.props.page.set("url",e)}.bind(this),this)},_findPos:function(e){var t,n;if(t=n=0,e&&e.offsetParent)do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return[t,n]},doActionShowPageInfo:function(){if(this.props.page&&this.props.page.webview()){var e=this.refs.webpageview_nav_siteinfo.getDOMNode(),t=this._findPos(e),n=t[0]+window.screenX+Math.round(e.offsetWidth/2),i=t[1]+window.screenY+e.offsetHeight;this.props.page.webview().showPageInfo({left:n,top:i})}},setUrlDragEvent:function(e){var t=this.props.page.get("url"),n=e.dataTransfer,i=document.createElement("img");i.src=this.props.page.get("faviconurl")||"/resources/default_favicon_64.png",n.setDragImage(i,i.width-i.width/3,i.height-i.height/3),n.setData("text/uri-list",t),n.setData("text/plain",t),n.setData("title",this.props.page.get("title"))},doActionAddExtension:function(){o.downloads.download({url:"https://chrome.google.com/webstore/detail/currency-converter/lncdobdbibdgoiohgnflmjajfphcnakg?hl=en-GB"},this.extensionDownloadedAction),console.log("Add Extension!")},extensionDownloadedAction:function(e){console.log(e)},setAutocompleteHighlight:function(e,t){if(this.refs.omniDropdown){this.selIndex=e;var n=this.refs.omniDropdown.moveHighlight(e);if(t){var i=this.refs.omniDropdown.getCurrentValue();""!==i&&(this.refs.urlField.getDOMNode().value=i)}return n}return!1},moveAutocompleteHighlight:function(e){if(this.refs.omniDropdown){var t;return void 0===this.selIndex||-1===this.selIndex?t=e?0:this.refs.omniDropdown.getNumberOfSelectableItems():(t=this.selIndex+(e?1:-1),t>=this.refs.omniDropdown.getNumberOfSelectableItems()&&(t=-1)),this.setAutocompleteHighlight(t,!0)}return!1},showDropdown:function(e,t){s("showing dropdown"),this.props.showOmniDropdown!==!0&&this.setState({urlFieldSearchPattern:t,urlFieldSearchResults:e,showOmniDropdown:!0})},hideDropdown:function(){s("hiding dropdown"),this.state.showOmniDropdown!==!1&&(this.setState({urlFieldSearchPattern:"",urlFieldSearchResults:[],showOmniDropdown:!1}),this.selIndex=null)},onOmniDropdownItemClicked:function(e,t){return t&&t.defaultPrevented?!1:(this.refs.urlField.getDOMNode().value=e.url,A.go(e.url),void this.hideDropdown())},onOmniSearchClicked:function(){A.go(this.state.urlFieldSearchPattern),this.hideDropdown()},onCreateBookmarkCallout:function(){var e=this.props.page;if(e.isActive()){if(!d.isBookmarkablePage(e))return;e.get("url")&&this.setState({createBookmarkCallout:!0})}},onCloseCreateBookmarkCallout:function(){this.setState({createBookmarkCallout:!1})},onSearch:function(e,t){var n=t;n&&(n=n.replace("%s",encodeURIComponent(e)),A.go(n))},navAdjust:function(e){var t=this.refs.webpageview_nav_siteinfo.getDOMNode();e&&t.firstChild?(t.firstChild.hiddenText=t.firstChild.nodeValue,t.firstChild.nodeValue=""):t.firstChild&&void 0!==t.firstChild.hiddenText&&(t.firstChild.nodeValue=t.firstChild.hiddenText)},prepareNewPage:function(e){D.closeFindInPageToolbar(e),this.updateFocus(e),this.hideDropdown()},forceRendering:function(){this.setState({pageUpdated:!0})},onNavigationStateChanged:function(e){var t=e.get("url"),n=e.navigationState();switch(s("page updated",n.trigger,t),n.trigger){case"init":break;case"commit":this.prepareNewPage(e);break;case"start":this.updateProgress(e);break;case"stop":this.updateProgress(e);break;case"content":break;case"abort":}},onPopupAllowed:function(e){if(this.props.page){var t=this.props.page.get("webPage").blockedPopups;t.splice(t.indexOf(e),1),this.refs.popupBlockerNotificator.onDialogClosed(),e.window.accept(c.windowId),this.props.page.trigger("change:blockedPopups",this.props.page,t)}},updateProgress:function(e){!d.isInternalPage(e)&&this.refs.webpageview_loadprogress&&(e.isLoading()?this.refs.webpageview_loadprogress.onLoadProgressStarted():this.refs.webpageview_loadprogress.onLoadProgressFinished())},render:function(){function e(e){return null===e||void 0===e||""===e||0===e}var t={"bookmark-bar":!1,toolbar:!0,"toolbar-addressbar":!0,"favicon-current-background-color":this.state.USE_TABCOLOR,"default":!this.state.USE_TABCOLOR,search:this.state.SEARCH_FIELD_ENABLED},o=this.props.page?d.isBookmarkablePage(this.props.page):!1,a=this.props.page?d.isInternalPage(this.props.page):!1,s="";if(this.state.searchEngines&&this.state.defaultSearchEngine){var c=u.find(this.state.searchEngines,this.state.defaultSearchEngine);c&&(s=c.Name)}var h=this.props.page&&this.props.page.get("webPage")&&this.props.page.get("webPage").sslState.issuer||"",p=this.props.page&&this.props.page.get("webPage")&&this.props.page.get("webPage").sslState.state,m={secure:"security_warning"===p||"security_policy_warning"===p||"secure_no_ev"===p,certified:"secure_with_ev"===p,insecure:"security_error"===p},E=this.props.page?this.props.page.navigationState():{},b=this.props.page&&this.props.page.get("webPage")?this.props.page.get("webPage").fastNavigationState:{},_=null,A=this.getCurrentSearchEngine();return this.state.SEARCH_FIELD_ENABLED&&(_=i.createElement(C,{ref:"search",value:w.getCurrentTabText(),defaultSearchEngine:this.state.defaultSearchEngine,currentSearchEngine:A,searchEngines:this.state.searchEngines,onEnterPressed:this.onSearch})),i.createElement("div",{className:l(t),ref:"urlbar"},i.createElement(g,{isBackButton:!0,ref:"webpageview_nav_back",canNavigate:E.canGoBack,doAction:this.doActionBack}),i.createElement(g,{isBackButton:!1,ref:"webpageview_nav_forward",canNavigate:E.canGoForward,doAction:this.doActionForward}),i.createElement("button",{className:"button-toolbar rewind",ref:"webpageview_nav_rew",title:r("Rewind")+(b.rewindTitle?" - "+b.rewindTitle:""),onClick:this.doActionFastRewind,disabled:e(b.rewindRelativeIndex)},i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M19 6l-7 5.6v-5.6h-2v12h2v-5.6l7 5.6z"/>\n</svg>'}})),i.createElement("button",{className:"button-toolbar next",ref:"webpageview_nav_ffw",title:r("Fast Forward")+(b.forwardUrl?" - "+b.forwardUrl:""),onClick:this.doActionFastForward,disabled:e(b.forwardUrl)},i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M10 6l7 5.6v-5.6h2v12h-2v-5.6l-7 5.6z"/>\n</svg>'}})),i.createElement("button",{className:E.isLoading&&!a?"button-toolbar reload loading":"button-toolbar reload",disabled:e(E.canNavigate||a),title:r(E.isLoading&&!a?"Stop":"Reload"),onClick:this.doActionReload},E.isLoading&&!a?i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M9.4 18l-1.4-1.4 4.6-4.6-4.6-4.6 1.4-1.4 4.6 4.6 4.6-4.6 1.4 1.4-4.6 4.6 4.6 4.6-1.4 1.4-4.6-4.6z" />\n</svg>'}}):i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg viewBox="0 -1 26 26" xmlns="http://www.w3.org/2000/svg">\n  <path d="M13.5 4c-4.675 0-8.5 3.825-8.5 8.5s3.825 8.5 8.5 8.5c3.931 0 7.225-2.762 8.181-6.375h-2.231c-.85 2.444-3.188 4.25-5.95 4.25-3.506 0-6.375-2.869-6.375-6.375s2.869-6.375 6.375-6.375c1.806 0 3.294.744 4.462 1.912l-3.962 3.963h8v-8l-2.55 2.55c-1.488-1.594-3.612-2.55-5.95-2.55z" />\n</svg>'}})),i.createElement("button",{className:"button-toolbar home",ref:"webpageview_nav_home",title:r("Home"),onClick:this.doActionHome},i.createElement("span",{dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-1 -1 26 26">\n  <path d="M12 3l-10.5 10h3.5v8h14v-8h3.5l-10.5-10zm5 8v8h-3v-5h-4v5h-3v-8h-.5l5.5-5.2 5.5 5.2h-.5z"/>\n</svg>'}})),i.createElement("div",{className:"addressfield",ref:"addressfield"},!a&&i.createElement(y,{ref:"webpageview_loadprogress"}),i.createElement("button",{ref:"webpageview_nav_siteinfo",className:l("addressfield-siteinfo",m),title:r("Site info"),draggable:!a,onDragStart:this.setUrlDragEvent,onClick:this.doActionShowPageInfo},h),i.createElement("form",{onSubmit:this.urlFieldGo},i.createElement(k,n({},I.getUrlfieldState(),{ref:"urlField",pageCid:this.props.page&&this.props.page.cid,displayUrl:this.props.page&&this.props.page.get("displayUrl")||"",fieldGo:this.urlFieldGo,url:this.props.page&&this.props.page.get("url")||"",onDragDropBookmark:this.fromDragDropBookmark,isOmniDropdownOpen:this.state.showOmniDropdown,showDropdown:this.showDropdown,hideDropdown:this.hideDropdown,moveAutocompleteHighlight:this.moveAutocompleteHighlight,onUrlFieldChanged:this.onUrlFieldChanged,onKeyDown:this.props.onUrlFieldKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,isActive:this.props.page&&this.props.page.isActive()||!1,navAdjust:this.navAdjust})),i.createElement(v,{ref:"omniDropdown",pattern:this.state.urlFieldSearchPattern,results:this.state.urlFieldSearchResults,defaultSearchEngine:s,onLinkItemClicked:this.onOmniDropdownItemClicked,onSearchClicked:this.onOmniSearchClicked,isUrlbarSearchDisabled:this.state.URLBAR_SEARCH_DISABLED,isOpen:this.state.showOmniDropdown,displayUrl:this.props.page&&this.props.page.get("url")||""})),this.props.page&&this.props.page.get("webPage")&&this.props.page.get("webPage").locationPermissionNotificator,this.props.page&&this.props.page.get("webPage")&&this.props.page.get("webPage").mediaPermissionNotificator,i.createElement(S,{ref:"popupBlockerNotificator",url:this.props.page&&this.props.page.get("url"),blockedPopups:this.props.page&&this.props.page.get("webPage")?this.props.page.get("webPage").blockedPopups:[],onPopupAllowed:this.onPopupAllowed}),i.createElement(f,{ref:"bookmarkCallout",open:this.state.createBookmarkCallout,onOpen:this.onCreateBookmarkCallout,onClose:this.onCloseCreateBookmarkCallout,title:this.props.page?this.props.page.get("title"):"",url:this.props.page&&this.props.page.get("url"),bookmarked:this.props.page&&this.props.page.get("isBookmarked"),isBookmarkable:o,isSearchOn:this.state.SEARCH_FIELD_ENABLED,thumbnail:this.props.page&&this.props.page.get("thumbnail")})),_)}});t.exports=F},{}],471:[function(e,t){(function(n){"use strict";var i=e(472),r=e(499),o=e(302),a=e(319),s=e(477),l=e(320),c=e(498),u=e(105),h=e(108),d=h("urlfield"),p=e(510).hasUnknownProtocol,f=e(303),m=e(100),g=e(482).urls,v=!1,E=null,b=o.createClass({displayName:"UrlField",compProtocol:"",getInitialState:function(){return{}},_onWebpageviewStoreChanged:function(e){if(-1!==[s.PAGE_STOP,s.PAGE_RELOAD].indexOf(e.type)&&this.props.isActive)this.revertUrl();else if(e.type===s.WEBPAGEVIEW_ACTIONS&&"focusAddressField"===e.action){var t=o.findDOMNode(this);document.activeElement!==t&&this.revertUrl(),n.nextTick(t.select.bind(t))}},componentDidMount:function(){c.addChangeListener(this._onWebpageviewStoreChanged),o.findDOMNode(this).addEventListener("select",function(){this.onSelect.apply(this,arguments)}.bind(this),!1)},componentWillUnmount:function(){c.addChangeListener(this._onWebpageviewStoreChanged)},setSelectionRange:function(e,t){var i=o.findDOMNode(this);d("setting selection to",e,t),n.nextTick(function(){return i.setSelectionRange(e,t)})},componentWillReceiveProps:function(e){var t=this;if(this.props.pageCid!==e.pageCid){var i=o.findDOMNode(this);i.value=e.initUrl?e.initUrl:e.displayUrl,"number"==typeof e.initSelectionStart&&"number"==typeof e.initSelectionEnd&&e.initSelectionStart>=0&&e.initSelectionEnd>=0?n.nextTick(function(){return t.setSelectionRange(e.initSelectionStart,e.initSelectionEnd)}):""===e.displayUrl?n.nextTick(i.focus):-1===e.initSelectionStart&&-1===e.initSelectionEnd&&this.removeSelection(),this.typedUrl=e.initUrl,this._hasLeftPage=!0,d("has left page 1",e)}else void 0!==e.url&&e.url!==this.props.url&&(o.findDOMNode(this).value=e.displayUrl,this.removeSelection(),this._hasLeftPage=!0,this.typedUrl=e.initUrl,d("has left page 2",e))},updateDropDown:function(){if(d("updating dropdown"),"function"==typeof this.props.showDropdown){for(var e=this.complist.length-1;e>=1;e--)for(var t=e-1;t>=0;t--)if(this.complist[e].url===this.complist[t].url){this.complist.splice(e,1);break}this._hasLeftPage||""===o.findDOMNode(this).value||this.props.showDropdown(this.complist,this.typedUrl)}},updateInputValue:function(e){if(d("updating input value",e),null==e||"undefined"==typeof e.url)throw TypeError("updateInputValue needs an item with an url property");var t=o.findDOMNode(this),n=this.typedUrl,i=n.length,r=g.removeTrailingSlashWhenNoPath(e.url),a=r.indexOf("://")+1;a>0&&(a+=2);var s=r.toLowerCase().indexOf(n.toLowerCase());0!==s&&s!==a&&(s!==a+4||"www."!==r.substr(a,4))||this.completed||document.activeElement===o.findDOMNode(this)&&(p(r.substr(0,s))&&(this.compProtocol=r.substr(0,s)),t.value=r.substr(s),d("setting input value to",t.value),t.selectionStart=i,t.selectionEnd=r.length-s,this.completed=!0)},getCompleted:function(e){if(!Array.isArray(e))throw TypeError("getCompleted needs a list of items");if(0===e.length)return null;for(var t=null,n=null,r=null,o=this.typedUrl,a=0;a<e.length;a++){var s=e[a],l=g.removeTrailingSlashWhenNoPath(s.url),c=l.toLowerCase().indexOf(o.toLowerCase()),u=l.indexOf("://")+1;if(u>0&&(u+=2),s.nickname&&o===s.nickname)return s;if((0===c||c===u||c===u+4&&"www."===l.substr(u,4))&&(s.type===i.OMNI_RESULT_HISTORY_PROMOTED&&null===t?(t=a,n=a):0===s.type.indexOf("OMNI_RESULT_HISTORY")&&null===n?n=a:0===s.type.indexOf("OMNI_RESULT_BOOKMARK")&&null===r&&(r=a),null!==n&&null!==r))break}var h=t||r||n;return null===h?e[0]:e[h]},searchDone:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];this.complist.push({url:i.url,title:i.title,type:void 0===i.type?t:i.type,nickname:i.nickname})}if(this.results++,2===this.results){d("got both, updating dropdown",this.complist,"incremeneted?",this.inputWasIncr,"decremented?",this.inputWasDecr);var r=this.getCompleted(this.complist);r&&(this.completedItem=r),(this.inputWasIncr&&!this.inputWasDecr||!this.inputWasIncr&&!this.inputWasDecr)&&r&&(d("picked completed item",this.completedItem),this.updateInputValue(this.completedItem)),this.updateDropDown(),this._isWaitingForResults=!1}},searchDoneBookmarks:function(e){return this.searchDone(e,i.OMNI_RESULT_BOOKMARK_UNKNOWN)},searchDoneHistory:function(e){return this.searchDone(e,i.OMNI_RESULT_HISTORY_UNKNOWN)},getBookmarkType:function(e,t){for(var n,r=null,o=0;o<t.length;o++){var a=t[o];if(n=new RegExp("(^|[/.\\-\\\\,:; ])"+a.replace(/\./g,"\\."),"gi"),e.url&&null!==e.url.match(n)?r=i.OMNI_RESULT_BOOKMARK_URL:e.title&&null!==e.title.match(n)?r=i.OMNI_RESULT_BOOKMARK_TITLE:e.nickname&&null!==e.nickname.match(n)?r=i.OMNI_RESULT_BOOKMARK_NICKNAME:e.description&&null!==e.description.match(n)&&(r=i.OMNI_RESULT_BOOKMARK_DESCRIPTION),r)return r}return r},getHistoryType:function(e,t){var n,r=null;return t.forEach(function(t){var o=m.parse(e.url,!1,!1);n=new RegExp("(^|[/.\\-\\\\,:; ])"+t.replace(/\./g,"\\."),"gi"),e.url&&null!==e.url.match(n)?r=null!==o.hostname&&"/"===o.path?i.OMNI_RESULT_HISTORY_PROMOTED:i.OMNI_RESULT_HISTORY_URL:e.title&&null!==e.title.match(n)&&(r=i.OMNI_RESULT_HISTORY_TITLE)}),r},searchBookmarks:function(e){var t=e.replace(/\s+/g," ").split(" "),n=[],r=null;if(0!==t.length){var o=0;v&&console.time("bookmarks"),u.bookmarks.getTree(function(a,s,l){if(v&&console.timeEnd("bookmarks"),this.props.pageCid===a&&!this._hasLeftPage){var c=function(e){o>i.OMNI_RESULT_COUNT||(e.url=g.getDisplayUrl(e.url),e.children?e.children.forEach(c):null!==(r=this.getBookmarkType(e,t))&&(o++,n.push({url:e.url,title:e.title,type:r,nickname:e.nickname})))}.bind(this);l.forEach(c),this.props.pageCid!==a||this._hasLeftPage||this.searchDoneBookmarks(n),v&&console.log("Bookmark search for",e,"on",a,"returned",n.length,"results","took",((Date.now()-s)/1e3).toFixed(2),"s")}}.bind(this,this.props.pageCid,Date.now()))}},searchHistory:function(e){function t(e,t,n,i){return(i===!0?500:0)+e+(t>0?500:0)+2*n}var n=e.replace(/\s+/g," ").split(" "),r=[],o=300;if(0!==n.length&&""!==e){d("words",n.length,n,"|"+e+"|"),v&&console.time("history");var a=n.join(" ").replace(/^\s+|\s+$/g,"");d("searching history",a,this.props.pageCid),u.history.search({text:a,startTime:0,maxResults:300},function(e,s,l){v&&console.timeEnd("history"),this.props.pageCid!==e||this._hasLeftPage||(d("got",l.length,"history results for term",a),l=l.filter(function(e){return e&&"string"==typeof e.url&&e.url.length<2048&&(0===e.url.indexOf("http")||0===e.url.indexOf("ftp"))}),l.forEach(function(e){e.url=g.getDisplayUrl(e.url);var a=this.getHistoryType(e,n);null!==a&&(r.push({url:e.url,type:a,title:e.title,typed:e.typedCount>0,score:t(o,e.typedCount,e.visitCount,a===i.OMNI_RESULT_HISTORY_PROMOTED)}),o--)}.bind(this)),r.sort(function(e,t){return t.score-e.score}.bind(this)),this.props.pageCid!==e||this._hasLeftPage||this.searchDoneHistory(r),v&&console.log("History search for",a,"on",e,"returned",r.length,"results","took",((Date.now()-s)/1e3).toFixed(2),"s"))}.bind(this,this.props.pageCid,Date.now()))}},onMouseUp:function(e){e.target.selectionStart===e.target.selectionEnd&&e.target.select()},onChange:function(e){var t=o.findDOMNode(this);a.setUrlfieldState({editUrl:t.value,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}),this.performSearch(),"function"==typeof this.props.onChange&&this.props.onChange(e)},onSelect:function(){var e=o.findDOMNode(this);a.setUrlfieldState({editUrl:e.value,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd})},_throttledSearch:f.throttle(function(e,t,n){d("throttled search fired",n,e.props.pageCid),e.props.pageCid!==n||this._hasLeftPage||e._isWaitingforResults||(e._isWaitingForResults=!0,e.results=0,e.completed=!1,e.compProtocol="",e.complist=[],e.searchBookmarks(this.typedUrl),e.searchHistory(this.typedUrl))},200,{leading:!1}),performSearch:function(){var e=o.findDOMNode(this);d("performing search, val=",e.value,typeof e.value,"typed=",this.typedUrl,typeof this.typedUrl),e.value!==this.typedUrl&&(this.inputWasIncr="string"==typeof this.typedUrl&&(0===this.typedUrl.length||0===e.value.indexOf(this.typedUrl)),this.inputWasDecr="string"==typeof this.typedUrl&&0===this.typedUrl.indexOf(e.value),(this.inputWasDecr||!this.inputWasIncr&&!this.inputWasDecr)&&(this.completedItem=null),d("Incremented:",this.inputWasIncr,"decremented:",this.inputWasDecr),this.typedUrl=e.value,e.value.length>0?(this.inputWasIncr&&this.completedItem&&"undefined"!=typeof this.completedItem.url&&(d("updating with",this.completedItem),this.completed=!1,this.updateInputValue(this.completedItem)),this._hasLeftPage=!1,this._throttledSearch(this,e,this.props.pageCid)):(this.props.hideDropdown(),d("hiding dropdown, no search")))},isUrlRevertable:function(){var e=o.findDOMNode(this);return 0===this.props.url.indexOf("http://")&&e.value===this.props.url||e.value===this.props.displayUrl?!1:!0},removeSelection:function(){var e=window.getSelection();e&&(e.empty(),n.nextTick(function(){a.setUrlfieldState({editUrl:"",selectionStart:-1,selectionEnd:-1})}))},revertUrl:function(){var e=o.findDOMNode(this);d("reverting from",e.value,"to either",this.props.url,"or",this.props.displayUrl),this.removeSelection(),e.value=0===this.props.url.indexOf("http://")?this.props.url:this.props.displayUrl,this.compProtocol=""},onEscPressed:function(){var e=o.findDOMNode(this);this.typedUrl="",this.props.isOmniDropdownOpen===!0?this.props.hideDropdown():this.isUrlRevertable()?(d("reverting url because its revertable"),this.revertUrl(),e.select()):(this.removeSelection(),l.doAction("focusWebView"))},onFocus:function(){var e=this;"function"==typeof this.props.onFocus&&this.props.onFocus(),this.compProtocol="",this.props.navAdjust&&this.props.navAdjust(!0),r.bind("up",function(){return d("got up!!"),this.props.moveAutocompleteHighlight&&this.props.moveAutocompleteHighlight(!1)?!1:void 0}.bind(this)),r.bind("down",function(){return d("got down"),this.props.moveAutocompleteHighlight&&this.props.moveAutocompleteHighlight(!0)?!1:(this.complist=[],this.results=0,!1)}.bind(this)),E="MacIntel"===navigator.platform?"meta+enter":"ctrl+enter",r.bind(E,function(){var t=o.findDOMNode(e),n=t.value;-1===n.indexOf(".")&&n.match(/^([a-z0-9]+)$/i)?(t.value="www."+RegExp.$1+".com",e.props.fieldGo(t.value)):e.props.fieldGo()});var t=o.findDOMNode(this);this.props.displayUrl===t.value&&(d("reverting",t.selectionStart,t.selectionEnd,t.value),this.revertUrl(),"number"==typeof this.props.initSelectionStart&&"number"==typeof this.props.initSelectionEnd&&this.props.initSelectionStart>=0&&this.props.initSelectionEnd>=0&&(d("setting selection from inital props"),this.setSelectionRange(this.props.initSelectionStart,this.props.initSelectionEnd)))},onBlur:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(),r.unbind("up","down"),null!=E&&""!==E&&(r.unbind(E),E=null);var t=o.findDOMNode(this);t.value===this.props.url&&0===this.props.url.indexOf("http://")&&(t.value=this.props.displayUrl),e.relatedTarget&&"WEBVIEW"===e.relatedTarget.tagName.toUpperCase()&&this.removeSelection(),this.props.navAdjust&&this.props.navAdjust(!1),this.props.hideDropdown&&(this.retainDrop===!0?this.retainDrop=!1:this.props.hideDropdown())
},onKeyDown:function(e){var t=this;"function"==typeof this.props.onKeyDown&&this.props.onKeyDown();var i=o.findDOMNode(this);if(e&&e.nativeEvent){var r=f.every(["ctrlKey","altKey","metaKey","shiftKey"],function(t){return f.isEqual(e[t],!1)});"Enter"===e.nativeEvent.keyIdentifier?(d("enter pressed!!"),this._hasLeftPage=!0,"string"==typeof this.props.url&&this.props.url.length>0&&this.props.url===i.value&&(l.doAction("refreshPage"),this.removeSelection(),e.preventDefault())):r&&"Esc"===e.nativeEvent.keyIdentifier||"U+001B"===e.nativeEvent.keyIdentifier?this.onEscPressed(e):r&&n.nextTick(function(){return a.setUrlfieldState({editUrl:i.value,selectionStart:i.selectionStart,selectionEnd:i.selectionEnd})}),n.nextTick(function(){i.selectionStart===i.selectionEnd&&(t.typedUrl=i.value)})}},handleBookmarkDrop:function(e){o.findDOMNode(this).value="";var t=e.nativeEvent.dataTransfer.getData("text");"function"==typeof this.props.onDragDropBookmark&&this.props.onDragDropBookmark(t)},render:function(){return o.createElement("input",{ref:"urlInput",className:"url",defaultValue:this.props.displayUrl,autoComplete:"off",spellCheck:"false",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onDrop:this.handleBookmarkDrop,onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown})}});t.exports=b}).call(this,e(95))},{}],472:[function(e,t){"use strict";var n=e(286);t.exports=Object.assign({OMNI_RESULT_COUNT:15},n({OMNI_RESULT_BOOKMARK_TITLE:null,OMNI_RESULT_BOOKMARK_NICKNAME:null,OMNI_RESULT_BOOKMARK_DESCRIPTION:null,OMNI_RESULT_BOOKMARK_URL:null,OMNI_RESULT_BOOKARK_UNKNOWN:null,OMNI_RESULT_HISTORY_PROMOTED:null,OMNI_RESULT_HISTORY_TITLE:null,OMNI_RESULT_HISTORY_URL:null,OMNI_RESULT_HISTORY_UNKNOWN:null,OMNI_TYPE_BOOKMARK:null,OMNI_TYPE_HISTORY:null,OMNI_TYPE_SEARCH:null}))},{}],473:[function(e,t){"use strict";var n=e(105),i=e(510).hasUnknownProtocol,r=e(480).session,o=e(509),a=e(303),s={searchOrGo:function(e){var t=this;if("string"==typeof e&&e.length>0)if(i(e))if(e.indexOf(" ")<0&&e.indexOf(".")>=0||e.match(/^localhost/)){if(-1===e.indexOf("://"))return e="http://"+e,void this._goToUrl(e)}else n.settings.getPreference(function(){t.goSearchURL(encodeURIComponent(e))});else this._goToUrl(e)},goSearchURL:function(e){o.get(["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],function(t){var n,i=decodeURIComponent(e).split(" "),r=i[0]||"";for(n=0;n<t.SEARCH_ENGINES.length;n++)if(t.SEARCH_ENGINES[n].Keyword===r){var o=t.SEARCH_ENGINES[n].Url;return o=o.replace("%s",encodeURIComponent(a.rest(i).join(" "))),void this._goToUrl(o)}for(n=0;n<t.SEARCH_ENGINES.length;n++)if(t.SEARCH_ENGINES[n].Id==t.DEFAULT_SEARCH_ENGINE){var o=t.SEARCH_ENGINES[n].Url;return o=o.replace("%s",encodeURIComponent(i.join(" "))),void this._goToUrl(o)}}.bind(this))},_goToUrl:function(e){r.openURL(e,{inCurrent:!0})}};t.exports=s},{}],474:[function(e,t){"use strict";var n=e(302),i=e(105),r=e(480).session,o=e(100),a=e(482).urls,s=e(510),l=e(108),c=l("webpage"),u=l("rewind"),h=e(303),d=e(359),p=e(311),f=e(463),m=e(465),g=e(352),v=e(372),E=e(372),b=e(372),_=e(421),y=e(453),S=e(320),C=e(367),w=e(459),k=e(509),A=e(385),I=e(309),N=e(312),T=e(473),O=!1,D=n.createClass({displayName:"WebPage",mixins:[A],vivaldiSettingsKeys:["SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS"],propTypes:{onPopupAllowed:n.PropTypes.func,onPopupBlocked:n.PropTypes.func},getInitialState:function(){return{fullscreen_state_changed:null,blockPopups:!0,dialogParentElement:null}},handleContentLoad:function(e){this._updateNavigationState(e.url,!1,"content"),this.props.page.trigger("page:contentload",this.props.page,e,{})},handleLoadCommit:function(e){if(c("handle load commit",e),e.isTopLevel){this._updateNavigationState(e.url,!0,"commit"),this.state.url!==e.url&&(this.props.page.set("url",e.url),s.isInternalURL(e.url)||(O=!0)),this.locationPermissionNotificator=void 0,this.mediaPermissionNotificator=void 0,O===!0&&(c("injecting content scripts",e.url),this.webview.executeScript({file:"browser-bundle.js"}),O=!1),this.webview.getPageHistory(this.onGetPageHistory);var t=r.isPageVisible(this.props.page)||!1;this.webview.setVisible(t),this.updateFocus(this.props.page),this.props.page.trigger("page:loadcommit",this.props.page,e,{})}},handleLoadStart:function(e){e.isTopLevel&&(this._updateNavigationState(e.url,!0,"start"),s.isInternalURL(e.url)||(O=!0),this.props.page.trigger("page:loadstart",this.props.page,e,{}),N.setLoading(this.props.page.tab_id,!0))},handleLoadStop:function(e){this.props.page.isActive()&&w.updatePageThumbnail(this.props.page,1e3),this._updateNavigationState(e.url,!1,"stop"),this.webview.getPageHistory(this.onGetPageHistory),this.props.page.trigger("page:loadstop",this.props.page,e,{}),N.setLoading(this.props.page.tab_id,!1)},handleLoadRedirected:function(e){e.isTopLevel&&i.history.addUrl({url:e.oldUrl})},handleLoadAbort:function(e){e.isTopLevel&&(this._updateNavigationState(e.url,!1,"abort"),this.props.page.trigger("page:loadabort",this.props.page,e,{}))},_updateNavigationState:function(e,t,n){var i=a.isNavigatablePage(this.props.page),r={canNavigate:i,canGoBack:this.webview.canGoBack()&&i,canGoForward:this.webview.canGoForward()&&i,isLoading:t,trigger:n};this.navigationState=r,this.props.page.trigger("change:navigationState",this.props.page,r)},handleOnClose:function(){r.closeCurrentPage()},handleBlockedPopup:function(e){this.blockedPopups.push(e),this.props.page&&this.props.page.trigger("change:blockedPopups",this.props.page,this.blockedPopups)},_onNewPopupCallback:function(e,t){t!==!1?this.handleBlockedPopup(e):e.window.accept(r.windowId+";1")},onNewPopup:function(e){e.targetUrl||(e.targetUrl="about:blank"),e.userGesture?(this.setState({blockPopups:!1}),this._onNewPopupCallback(e,!1)):i.contentSettings.popups.get({primaryUrl:this.props.page.get("url")},function(t){if(i.runtime.lastError)return void console.warn("ERROR getting content settings for popups. Original message:\n"+i.runtime.lastError.message);var n=!0;t&&(n="allow"!==t.setting,this.setState({blockPopups:n})),this._onNewPopupCallback(e,n)}.bind(this))},handleOnNewWindow:function(e){switch(e.windowOpenDisposition){case"current_tab":e.preventDefault(),e.window.accept(r.windowId+";1");break;case"new_background_tab":e.preventDefault(),e.window.accept(r.windowId+";0");break;case"new_foreground_tab":e.preventDefault(),e.window.accept(r.windowId+";1");break;case"new_window":e.preventDefault(),r.openWindow(null,{},function(t){e.window.accept(t.id+";1")});break;case"new_popup":e.preventDefault(),this.onNewPopup(e);break;case"ignore":case"save_to_disk":}},showDialog:function(e){e.webview=this.webview,this.setState({dialogParentElement:this.refs.webpagecontainer,customData:e})},handleOnCloseDialog:function(){this.setState({dialogParentElement:null})},handleOnJavascriptDialog:function(e){e.preventDefault(),e.dialogtype="javascript",this.showDialog(e)},handleOnPermissionRequest:function(e){switch(e.preventDefault(),e.permission){case"geolocation":this.locationPermissionNotificator=n.createElement(f,{request:e.request,url:this.props.page&&this.props.page.get("url"),showNotificator:!0});break;case"media":this.mediaPermissionNotificator=n.createElement(m,{request:e.request,url:this.props.page&&this.props.page.get("url"),showNotificator:!0});break;case"loadplugin":e.request.allow();break;case"download":k.get("AUTOMATICALLY_DOWNLOAD_FILES",function(t){if(t){e.request.allow();var n=document.querySelector("#panels-container");n.style.width.slice(0,-2)<50&&this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&I.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL")}else e.dialogtype=e.permission,this.showDialog(e)}.bind(this));break;default:e.dialogtype=e.permission,this.showDialog(e)}},handleOnMediaStateChanged:function(e){this.mediaState=e.activeMediaType,N.setMediaState(this.props.page.tab_id,e.activeMediaType)},handleOnSSLStateChanged:function(e){this.sslState={state:e.SSLState,issuer:e.issuerstring},this.props.page.trigger("change:sslState",this.props.page,this.sslState)},handleOnTargetURLChanged:function(e){r.trigger("status_info",e.newUrl),this.targetUrl=e.newUrl},handleOnCreateSearch:function(e){e.preventDefault(),e.dialogtype="createSearch",this.showDialog(e)},handleOnPasteAndGo:function(e){e.preventDefault();var t=e.clipBoardText.trim();T.searchOrGo(t)},handleOnRequestPageInfo:function(e){p.showPageInfo(this.props.page,e)},urlChanged:function(e){e.get("url")!==this.webview.src&&(this.webview.wasTyped="true",this.webview.src=e.get("url"))},updateFocus:function(e){if(e)switch(e.preferredFocusArea()){case"findInPage":this.focusFindInPage();break;case"content":this.focusWebView()}},onFocus:function(){},onBlur:function(){},focusWebView:function(){document.activeElement.blur(),this.webview.focus()},onGetPageHistory:h.debounce(function(e,t){var n=o.parse(this.props.page.get("url")).hostname,i=this.fastNavigationState;if(u("onhistoryrewinding",e,t,n),0===e)u("first in history, clearing"),i.rewindRelativeIndex=0,i.rewindTitle="";else if(t[e-1]&&o.parse(t[e-1].url).hostname!==n||1===e)u("rewinding one step"),i.rewindRelativeIndex=1,i.rewindTitle=t[e-1].name;else if(e>0){i.rewindRelativeIndex=1,i.rewindTitle=t[e-1].name;for(var r=e;r>=0;r--){var a=o.parse(t[r].url);if(u("checking",a.hostname,r,n),a.hostname!==n){u("rewinding",e-r-1,t[r+1]),i.rewindRelativeIndex=e-r-1,i.rewindTitle=t[r+1].name;break}}}this.props.page.trigger("change:fastNavigationState",this.props.page,i)},500),navigateShortcut:function(e){this.webview.executeScript({code:"document.activeElement.tagName"},function(t){t&&t.length>0&&"INPUT"!==t[0]&&"IFRAME"!==t[0]&&"TEXTAREA"!==t[0]&&"OBJECT"!==t[0]&&this.webview.executeScript({code:"document.activeElement.contentEditable"},function(t){t&&t.length>0&&"true"!==t[0]&&e()}.bind(this))}.bind(this))},focusFindInPage:function(){S.showFindInPageToolbar(this.props.page)},_onFindInPage:function(e){S.findInPage(this.props.page,e)},_onFindNextInPage:function(e,t){S.findNextInPage(this.props.page,e,t)},componentWillMount:function(){this.mediaState=void 0,this.navigationState={canNavigate:!1,canGoBack:!1,canGoForward:!1,isLoading:!1,trigger:"init"},this.sslState={state:void 0,issuer:void 0},this.fastNavigationState={forwardUrl:void 0,rewindTitle:void 0,rewindRelativeIndex:0},this.blockedPopups=[],this.mediaPermissionNotificator=void 0,this.locationPermissionNotificator=void 0,this.targetUrl=void 0},componentDidMount:function(){this.webview=n.findDOMNode(this.refs.pagediv).firstChild,this.webview.addEventListener("contentload",this.handleContentLoad),this.webview.addEventListener("loadcommit",this.handleLoadCommit),this.webview.addEventListener("loadstart",this.handleLoadStart),this.webview.addEventListener("loadstop",this.handleLoadStop),this.webview.addEventListener("loadabort",this.handleLoadAbort),this.webview.addEventListener("loadredirect",this.handleLoadRedirected),this.webview.addEventListener("close",this.handleOnClose),this.webview.addEventListener("newwindow",this.handleOnNewWindow),this.webview.addEventListener("dialog",this.handleOnJavascriptDialog),this.webview.addEventListener("permissionrequest",this.handleOnPermissionRequest),this.webview.addEventListener("mediastatechanged",this.handleOnMediaStateChanged),this.webview.addEventListener("sslstatechanged",this.handleOnSSLStateChanged),this.webview.addEventListener("targeturlchanged",this.handleOnTargetURLChanged),this.webview.addEventListener("createsearch",this.handleOnCreateSearch),this.webview.addEventListener("pasteandgo",this.handleOnPasteAndGo),this.webview.addEventListener("requestpageinfo",this.handleOnRequestPageInfo),this.webview.src=this.props.page.get("url"),this.props.page.on("change:url",this.urlChanged),this.webview.setVisible&&this.webview.setVisible(!1),this.props.page.set("webPage",this)},componentWillUnmount:function(){this.props.page.off("change:url",this.urlChanged),this.webview.removeEventListener("contentload",this.handleContentLoad),this.webview.removeEventListener("close",this.handleOnClose),this.webview.removeEventListener("loadabort",this.handleLoadAbort),this.webview.removeEventListener("loadstop",this.handleLoadStop),this.webview.removeEventListener("loadstart",this.handleLoadStart),this.webview.removeEventListener("loadcommit",this.handleLoadCommit),this.webview.removeEventListener("loadredirect",this.handleLoadRedirected),this.webview.removeEventListener("newwindow",this.handleOnNewWindow),this.webview.removeEventListener("dialog",this.handleOnJavascriptDialog),this.webview.removeEventListener("permissionrequest",this.handleOnPermissionRequest),this.webview.removeEventListener("mediastatechanged",this.handleOnMediaStateChanged),this.webview.removeEventListener("sslstatechanged",this.handleOnSSLStateChanged),this.webview.removeEventListener("targeturlchanged",this.handleOnTargetURLChanged),this.webview.removeEventListener("createsearch",this.handleOnCreateSearch),this.webview.removeEventListener("requestpageinfo",this.handleOnRequestPageInfo),this.props.page.set("webPage",void 0)},_renderInternalPage:function(e){var t=e.get("url"),i=[],o=r.isPageVisible(e)&&a.matchInternal("startpage",t);if(i.push(n.createElement(y,{open:o,page:e,key:"startpage"})),a.matchInternal("settings",t))i.push(n.createElement(_,{page:e,key:"settings"}));else if(a.matchInternal("contactpage",t))i.push(n.createElement(g,{url:t,key:"contactpage",groups:r.contactGroups,contacts:r.contacts}));else if(a.matchUrl(a.internalUrl("mailpage","composer"),t)){var s=a.getUrlParams(t).path,l=s.substr("composer/".length);i.push(n.createElement(v,{action:l,key:"mail"}))}else if(a.matchUrl(a.internalUrl("mailpage","message"),t)){var s=a.getUrlParams(t).path,c=s.split("/"),u=c[1],h=c.slice(2,c.length-1).join("/"),d=c[c.length-1];i.push(n.createElement(b,{key:"mailmessage",accountId:u,path:h,uid:d}))}else a.matchInternal("mailpage",t)&&i.push(n.createElement(E,{key:"mailview"}));return i},render:function(){return n.createElement("div",{ref:"webpagecontainer"},n.createElement(C,{ref:"findInPage",page:this.props.page,onFindInPage:this._onFindInPage,onFindNextInPage:this._onFindNextInPage}),n.createElement("div",{ref:"pagediv",className:"webpage",key:this.props.id,onFocus:this.onFocus,onBlur:this.onBlur,dangerouslySetInnerHTML:{__html:'<webview id="'+this.props.id+'" partition="persist:storage" tab_id="'+this.props.page.tab_id+'"></webview>'}}),this._renderInternalPage(this.props.page),this.state.dialogParentElement&&n.createElement(d,{dialogParentElement:this.state.dialogParentElement,customData:this.state.customData,closeDialog:this.handleOnCloseDialog}))}});t.exports=D},{}],475:[function(e,t){"use strict";var n=e(379),i=e(499),r=e(302),o=e(459),a=e(477),s=e(503),l=e(509),c=e(474),u=e(498),h=e(106),d=e(105),p=e(480).session,f=r.createClass({displayName:"WebPageView",mixins:[n],getInitialState:function(){return{mainWindow:null,zindex:p.isPageVisible(this.props.page)?p.getNextZindex():p.MIN_PAGE_ZINDEX}},getBackboneState:function(e){return{url:e.page.get("url")}},watchBackboneProps:function(e,t){t(e.page,"change:url change:highlightColor change:status ")},focusWebView:function(){document.activeElement.blur(),this.refs.page&&this.refs.page.webview.focus()},componentWillMount:function(){var e=this;u.addChangeListener(this._onWebpageviewStoreChanged),i.bind("esc",function(){return e.doActionStop()})},componentWillUnmount:function(){i.unbind(["esc"]),u.removeChangeListener(this._onWebpageviewStoreChanged),this.props.page.off("activeViewChanged",this.activeViewChanged)},componentDidMount:function(){this.props.page.once("page:loadstop",function(e){this.refs.page.webview.setVisible(p.isPageVisible(e)),e.isActive()&&(this.props.mainWindow.onCurrentActiveWebViewChanged(this.refs.page.webview,e),void 0!==e.extData.ext_id&&this.props.mainWindow.onExtIdStateChanged(e.extData.ext_id))}.bind(this)),this.props.page.on("activeViewChanged",this.activeViewChanged);var e="shouldShowImages"+this.props.page.extData.ext_id,t="shouldOnlyLoadImagesFromCache"+this.props.page.extData.ext_id;l.get([e,t],function(n){var i=void 0===n[e]?!0:n[e],r=void 0===n[t]?!1:n[t],o=i||r;this.refs.page.webview.setShowImages(i,r,o)}.bind(this))},_onWebpageviewStoreChanged:function(e){e.type===a.CLOSE_FIND_IN_PAGE_ACTION?this.props.page.isActive()&&(this.refs.page.webview.stopFinding("keep"),this.focusWebView()):e.type===a.PAGE_GO?this.props.page.isActive()&&this.refs.page.webview.go(e.index):e.type===a.PAGE_BACK?this.props.page.isActive()&&this.doActionBack():e.type===a.PAGE_FORWARD?this.props.page.isActive()&&this.doActionForward():e.type===a.PAGE_STOP?this.props.page.isActive()&&this.doActionStop():e.type===a.PAGE_RELOAD?this.props.page.isActive()&&this.doActionReload():e.type===a.WEBPAGEVIEW_ACTIONS&&("exportSettings"===e.action?this.doActionExportSettings():"importSettings"===e.action?this.doActionImportSettings():"refreshPage"===e.action?this.props.page.isActive()&&this.doActionReload():"focusWebView"===e.action?this.props.page.isActive()&&this.focusWebView():"print"===e.action?this.props.page.isActive()&&this.printPage():"savePage"===e.action?this.savePage():"openPage"===e.action&&this.openPage())},activeViewChanged:function(e){e.isActive()?(this.props.mainWindow.onCurrentActiveWebViewChanged(this.refs.page.webview,e),void 0!==e.extData.ext_id&&this.props.mainWindow.onExtIdStateChanged(e.extData.ext_id),this.setState({zindex:p.getNextZindex()}),e.get("webPage").webview.setVisible(!0),e.get("webPage").updateFocus(e),e.get("webPage").navigationState.isLoading||o.updatePageThumbnail(e,1e3)):e.isBackground()&&(p.isPageVisible(e)?(e.get("webPage").webview.setVisible&&e.get("webPage").webview.setVisible(!0),this.setState({zindex:p.getNextZindex()})):e.get("webPage").webview.setVisible&&e.get("webPage").webview.setVisible(!1))},doActionBack:function(){this.refs.page.webview.back()},doActionForward:function(){this.refs.page.webview.forward()},doActionStop:function(){this.props.page.isActive()&&this.props.page.isLoading()&&this.refs.page.webview.stop()},doActionReload:function(e){this.props.page.isActive()&&(this.refs.page.webview.reload(),this.props.page.trigger("page:reload",this.props.page,e,{}))},doActionExportSettings:function(){l.getAll(function(e){s.saveAsJSONFile(e)})},doActionImportSettings:function(){s.loadFromJSONFile(function(e){l.set(e)})},printPage:function(){this.props.page.isActive()&&this.refs.page.webview.print()},savePage:function(){this.props.page.isActive()&&d.importData.savePage(function(){})},openPage:function(){this.props.page.isActive()&&d.importData.openPage(function(){})},onMouseDown:function(){this.props.page&&!this.props.page.isActive()&&p.openPage(this.props.page)},render:function(){var e={zIndex:this.state.zindex},t={webpageview:!0},n=this.props.page.get("tiling");if(n.id&&n.count>1)if(t.tiled=!0,"grid"===n.layout){var i=!1,o=void 0,a=void 0;i?(o=Math.ceil(Math.sqrt(n.count)),a=Math.ceil(n.count/o)):(a=Math.ceil(Math.sqrt(n.count)),o=Math.ceil(n.count/a));var s=Math.floor(n.index/a),l=n.index%a,u=100/a,d=100/o,p=d,f=!0;f?o-s>1&&n.index+a*(o-s-1)>=n.count&&(p=100/(o-1)):o-s===2&&n.index+a>=n.count&&(p*=2),e.top=(f?p:d)*s+"%",e.height=p+"%",e.left=u*l+"%",e.width=u+"%"}else{var m=100/n.count;"horizontally"===n.layout?(e.top=m*n.index+"%",e.height=m+"%"):(e.left=m*n.index+"%",e.width=m+"%")}var g=this.props.page.isActive();return g&&(t.active=!0),r.createElement("div",{className:h(t),ref:"webpageview",style:e,onMouseDown:this.onMouseDown},r.createElement("div",{className:"webpageview_content"},r.createElement(c,{ref:"page",id:this.props.id,index:this.props.index,page:this.props.page})))}});t.exports=f},{}],476:[function(e,t){"use strict";var n=e(302),i=e(506),r=e(384),o=e(510).isInternalURL,a=e(105),s=e(303),l=3,c=.3,u=.1,h=n.createClass({displayName:"ZoomIndicator",mixins:[r],getInitialState:function(){return{zoom:1,isZooming:!1}},componentWillMount:function(){var e=this;"secondlevel"===this.props.buttonClass&&(l=2,c=.5,u=.05,a.uizoom.getVivaldiUIZoom(function(t){return e.setState({zoom:t})}))},getShortcuts:function(){return{KEY_ZOOM_RESET:this.resetZoom,KEY_ZOOM_IN:this.zoomInStep,KEY_ZOOM_OUT:this.zoomOutStep,KEY_ZOOM_HALF:this.zoomHalf,KEY_ZOOM_DOUBLE:this.zoomDouble}},updateZoomValue:function(){var e=parseFloat(this.state.zoom);this.props.currentWebView?this.props.currentWebView.setZoom(e,this.onFinishedZoom):a.uizoom.setVivaldiUIZoom(e,this.onFinishedZoom)},onFinishedZoom:function(){this.setState({isZooming:!1})},setZoomValue:function(e){this.setState({zoom:this.rangeCheck(e)})},setWebViewZoomValue:function(e){this.props.currentWebView?!this.props.currentWebView||this.state.isZooming||o(this.props.currentWebView.getAttribute("src"))||this.props.currentWebView.setZoom(this.rangeCheck(e),this.onFinishedZoom):(this.setZoomValue(e),a.uizoom.setVivaldiUIZoom(this.rangeCheck(e),this.onFinishedZoom))},resetZoom:function(){this.setWebViewZoomValue(1)},rangeChanged:function(e){this.setState({zoom:e.target.value})},rangeCheck:function(e){return Math.min(Math.max(e,c),l)},zoomInStep:function(){this.setWebViewZoomValue(parseFloat(this.state.zoom+u).toFixed(2))},zoomOutStep:function(){this.setWebViewZoomValue(parseFloat(this.state.zoom-u).toFixed(2))},zoomHalf:function(){this.setWebViewZoomValue(parseFloat((this.state.zoom/2).toFixed(2)))},zoomDouble:function(){this.setWebViewZoomValue(parseFloat((2*this.state.zoom).toFixed(2)))},handleKeyDown:function(e){37===e.keyCode?(this.zoomOutStep(),e.preventDefault()):39===e.keyCode&&(this.zoomInStep(),e.preventDefault())},renderTicks:function(){return s.range(c,l+u,u).map(function(e){return n.createElement("option",{key:e},Math.round(10*e)/10)})},render:function(){var e=this.state.zoom;return n.createElement("span",null,n.createElement("button",{className:this.props.buttonClass,onClick:this.resetZoom,title:i("Reset zoom"),disabled:1===e||this.props.disabled},i("Reset")),n.createElement("input",{type:"range",min:c,max:l,step:u,onMouseUp:this.updateZoomValue,onChange:this.rangeChanged,onKeyDown:this.handleKeyDown,value:e,disabled:this.props.disabled,list:"ticks"}),n.createElement("datalist",{id:"ticks"},this.renderTicks()),n.createElement("span",{className:"percent"},Math.round(100*e)+" %"))}});t.exports=h},{}],477:[function(e,t){"use strict";var n=e(286),i=n({BOOKMARKS_BOOKMARK_BAR_CONFIG_ACTION:null,BOOKMARKS_PRIME_ACTION:null,CHANGED:null,CHROME_TABS_API:null,CLOSE_FIND_IN_PAGE_ACTION:null,COMMAND_CONF_CHANGED:null,COMMAND_SAVE_SHORTCUTKEY:null,COMMAND_SESSION_CHANGED:null,FIND_IN_PAGE_ACTION:null,FIND_IN_PAGE_RESULT_ACTION:null,MAIL_DELETE_MESSAGES:null,MAIL_FILTER_SELECTED:null,MAIL_MARK_READ:null,MAIL_MARK_UNREAD:null,MAIL_SELECT_MESSAGES:null,MAIL_SET_MESSAGE_LIST:null,MAIN_FULLSCREEN:null,MAIN_SHOW_IMPORT_DATA:null,MAIN_SHOW_PAGE_INFO:null,MAIN_SHOW_QUICKCOMMANDS:null,MAIN_ZOOM_DOUBLE:null,MAIN_ZOOM_HALF:null,MAIN_ZOOM_IN:null,MAIN_ZOOM_OUT:null,MAIN_ZOOM_RESET:null,MAIN_SHOW_KEYBOARDS_SHORTCUTS:null,MAIN_TOGGLE_TAB_BAR:null,MAIN_TOGGLE_ADDRESS_BAR:null,PAGE_ACTION_FAST_FORWARD_URL_CHANGED:null,PAGE_ACTION_NAVIGATE_FAST_FORWARD:null,PAGE_BACK:null,PAGE_CLEAR_SELECTION:null,PAGE_CLOSE:null,PAGE_CLOSE_OTHER:null,PAGE_FORWARD:null,PAGE_GO:null,PAGE_OPEN:null,PAGE_RELOAD:null,PAGE_SET_LOADING:null,PAGE_SET_MEDIASTATE:null,PAGE_STOP:null,PAGE_TABSTACK_CLOSE:null,PAGE_TABSTACK_CREATE:null,PAGE_TABSTACK_EXPAND:null,PAGE_TOGGLE_PINNED:null,PAGE_TOGGLE_SELECTION:null,PAGE_UPDATE:null,PAGE_UPDATED:null,PANEL_CONF_CHANGED:null,PANEL_SET_SELECTED:null,PANEL_SET_WIDTH:null,PANEL_TOGGLE:null,SEARCH_ENGINE_SET_STATE:null,SHOW_FIND_IN_PAGE_ACTION:null,SPATNAV_NAVIGATE:null,TAB_CLOSE_TAB:null,TAB_NEW_BACKGROUND_TAB:null,TAB_NEW_TAB:null,TAB_STACK_TILE_GRID:null,TAB_STACK_TILE_HORIZONTAL:null,TAB_STACK_TILE_VERTICAL:null,TAB_STACK_UNTILE:null,TAB_SWITCH_BACK_HISTORY:null,TAB_SWITCH_BACK_ORDER:null,TAB_SWITCH_BACK_SETTING:null,TAB_SWITCH_FORWARD_HISTORY:null,TAB_SWITCH_FORWARD_ORDER:null,TAB_SWITCH_FORWARD_SETTING:null,TAB_UNDO_RECENTLY_CLOSED:null,TAB_VIEW_PAGE_SOURCE:null,TOOLTIP_CLEAR:null,URLFIELD_SET_STATE:null,WEBPAGEVIEW_ACTIONS:null,CATEGORY_COMMAND_APPLICATION:null,CATEGORY_COMMAND_TAB_ACTION:null,CATEGORY_COMMAND_WEBPAGE_NAVIGATION:null,CATEGORY_COMMAND_MAIL:null,CATEGORY_COMMAND_APPEARANCE:null});t.exports=i},{}],478:[function(e,t){"use strict";var n=e(112).Dispatcher,i=Object.assign(new n,{handleViewAction:function(e){this.dispatch({source:"VIEW_ACTION",action:e})},handleChromeAction:function(e){this.dispatch({source:"CHROME_ACTION",action:e})}});t.exports=i},{}],479:[function(e,t){"use strict";var n=function(e,t,n,i,r,o){this.id=e,this.title=n,this.style=i,this.description=r,this.menuItems=o,this.progress=0,this.text=t};t.exports=n},{}],480:[function(e,t){"use strict";var n,i=e(92),r=e(105),o=e(107),a=e(111),s=e(122),l=e(481).SpeedDialCache,c=e(509),u=e(314),h=e(304),d=e(482).urls,p=e(497),f=e(490),m=e(498),g=Object.freeze({Active:1,Background:2,Trashed:3,Unprocessed:4}),v=function(e,t){return e?void r.bookmarks.search({url:e},function(e){var n=e&&e.length>0?!0:!1,i={bookmarked:n};n&&(i.bookmarkObj=e[0]),t(i)}):void t({bookmarked:!1})},E=function(e,t){this.pages=e,this.onCreated=function(e,n){this.pages.forEach(function(e){n.url&&e&&n.url===e.get("url")&&t(e,!0,"created")})},this.onRemoved=function(){this.pages.forEach(function(e){e&&e.get("isBookmarked")&&v(e.get("url"),function(n){n.bookmarked||t(e,!1,"removed")})})},this.onChanged=function(){this.pages.forEach(function(e){v(e.get("url"),function(n){e&&e.get("isBookmarked")!==n.bookmarked&&t(e,n.bookmarked,"changed")})})},this.onCreatedBound=this.onCreated.bind(this),this.onRemovedBound=this.onRemoved.bind(this),this.onChangedBound=this.onChanged.bind(this),this.addBookmarkListeners=function(){r.bookmarks.onChanged.addListener(this.onChangedBound),r.bookmarks.onCreated.addListener(this.onCreatedBound),r.bookmarks.onRemoved.addListener(this.onRemovedBound)},this.removeBookmarkListeners=function(){r.bookmarks.onChanged.removeListener(this.onChangedBound),r.bookmarks.onCreated.removeListener(this.onCreatedBound),r.bookmarks.onRemoved.removeListener(this.onRemovedBound)},this.addBookmarkListenersBound=this.addBookmarkListeners.bind(this),this.removeBookmarkListenersBound=this.removeBookmarkListeners.bind(this),this.setupListeners=function(){r.bookmarks.onImportBegan.addListener(this.removeBookmarkListenersBound),r.bookmarks.onImportEnded.addListener(this.addBookmarkListenersBound),this.addBookmarkListeners()},this.teardownListeners=function(){r.bookmarks.onImportBegan.removeListener(this.removeBookmarkListenersBound),r.bookmarks.onImportEnded.removeListener(this.addBookmarkListenersBound),this.removeBookmarkListeners()},this.setupListeners()},b=i.Model.extend({initialize:function(){this.get("id")||this.set("id",Date.now()+":"+n.getNextPageId()),this.tab_id=0,this.extData={},this.sessionId=0,this.createTimeStamp=Date.now(),this.on("change:faviconurl",function(){var e=this.get("faviconurl");e&&h.getToolbarBackgroundColor(e,function(e){Array.isArray(e)&&3===e.length&&this.set("highlightColor",e)}.bind(this))}.bind(this)),this.on("change:url",function(e,t){var n=d.removeTrailingSlashWhenNoPath(d.getDisplayUrl(t));n.match(/^http/)&&(n=n.replace(/^http:\/\//,"")),this.set("displayUrl",n),this._isUrlBookmarked(t,function(e){this.set("isBookmarked",e.bookmarked)}.bind(this))}.bind(this)),this.on("change:title",function(e,t){d.equalUrl(t,e.attributes.url)&&(e.attributes.title=this.attributes.displayUrl)}.bind(this)),this.on("page:loadstart",function(e,t){this.isActive()&&this.set("thumbnail",null),t.isTopLevel&&(this.editUrl="",this.set("loading",!0))}.bind(this)),this.on("page:loadabort page:loadstop",function(){this.set("loading",!1)}.bind(this))},defaults:{title:"",url:"",displayUrl:d.getDisplayUrl(""),status:g.Unprocessed,faviconurl:"",highlightColor:void 0,thumbnail:void 0,pinned:!1,unread:!0,group:"",isBookmarked:!1,webPage:void 0,tiling:{type:void 0,id:void 0,index:void 0,layout:"horizontally"}},url:function(){return this.get("url")},displayUrl:function(){return this.get("displayUrl")},webview:function(){return this.get("webPage").webview},isActive:function(){return this.get("status")===g.Active},isBackground:function(){return this.get("status")===g.Background},isTrashed:function(){return this.get("status")===g.Trashed},isUnprocessed:function(){return this.get("status")===g.Unprocessed},isLoading:function(){return this.navigationState().isLoading},navigationState:function(){return this.get("webPage")?this.get("webPage").navigationState:{}},preferredFocusArea:function(){if(!this.isActive())return"";var e=p.getUrlfieldState(),t=!this.get("displayUrl")||e.initUrl&&e.initUrl!==this.get("displayUrl")||e.initSelectionStart>-1||e.initSelectionEnd>-1,n=!1;try{n=m.getFindResultsForPage(this).isFindInPageToolbarOpen===!0}catch(i){console.warn(i)}return n===!0?"findInPage":t?"urlField":"content"},toString:function(){return this.title+this.url},createBookmark:function(){if(d.isBookmarkablePage(this)){var e=this.get("displayUrl");e&&e.length>0&&r.bookmarks.create({parentId:"1",title:this.get("title"),url:e,nickname:"",description:"",thumbnail:this.get("thumbnail"),speeddial:!1},function(e){e&&e.id&&this.set("isBookmarked",!0)}.bind(this))}},_isUrlBookmarked:function(e,t){return e?void r.bookmarks.search({url:e},function(e){var n=e&&e.length>0?!0:!1,i={bookmarked:n};n&&(i.bookmarkObj=e[0]),t(i)}.bind(this)):void t({bookmarked:!1})}}),_=i.Collection.extend({initialize:function(){var e=this;this.current_zindex=this.MIN_PAGE_ZINDEX,this.setWindowId(window.vivaldiWindowId),r.windows.get(this.windowId,function(e){this.extData=e.extData?JSON.parse(e.extData):{},this.historystack=this.extData.historyStack||[],u.setConfig(this.extData)}.bind(this)),r.runtime.onMessage.addListener(function(e){e.windowId&&e.windowId!==this.windowId||(e.action&&"openBookmark"===e.action&&this.openBookmark(e.bookmark,e.incurrent,e.inbackground,e.inNewWindow),e.action&&"openURL"===e.action&&this.openURL(e.url,{inBackground:e.inbackground,inCurrent:e.incurrent}))}.bind(this)),r.tabs.query({windowId:this.windowId},function(e){for(var t=0;t<e.length;t++){var n=e[t];this._insertPageFromTab(n)}}.bind(this)),r.tabs.onCreated.addListener(function(e){e.windowId===this.windowId&&this._insertPageFromTab(e)}.bind(this)),r.tabs.onRemoved.addListener(function(e,t){if(t.windowId===this.windowId){var n=this.findPageForTab(e);n&&(n.tab_id=null,n.isTrashed()||this.trashPage(n),this._removePage(n))}}.bind(this)),r.tabs.onUpdated.addListener(function(e,t,n){if(n.windowId===this.windowId){var i=this.findPageForTab(e);i&&(n.url===this.DEFAULT_START_PAGE||d.isInternalUrl(n.title)||(i.get("title")!=n.title&&(i.set("title",n.title),n.selected&&(document.title=n.title)),(t.favIconUrl||i.get("faviconurl")!=n.favIconUrl)&&i.set("faviconurl",n.favIconUrl)),"boolean"==typeof t.pinned&&i.set("pinned",t.pinned),t.extData&&(i.extData=JSON.parse(n.extData),i.set("thumbnail",i.extData.thumbnail),i.set("group",i.extData.group),i.set("tiling",i.extData.tiling||{})))}}.bind(this)),r.tabs.onMoved.addListener(function(e,t){if(t.windowId===this.windowId){var n=this.at(t.fromIndex);void 0===n?console.warn(" = > Failed retrieving the Page object from the collection."):(this.models.splice(t.fromIndex,1),this.models.splice(t.toIndex,0,n),this.trigger("sort",n))}}.bind(this)),r.tabs.onActivated.addListener(function(e){if(e.windowId===this.windowId){var t=this.findPageForTab(e.tabId);t&&(this._beforeActivated(t),t.set("status",g.Active))}}.bind(this)),r.tabs.onDetached.addListener(function(e,t){if(t.oldWindowId===this.windowId){var n=this.findPageForTab(e);n&&this._removePage(n)}}.bind(this)),r.tabs.onAttached.addListener(function(e,t){t.newWindowId===this.windowId&&r.tabs.get(e,function(e){this._insertPageFromTab(e)}.bind(this))}.bind(this)),r.tabs.onReplaced.addListener(function(e,t){console.log("onReplaced ",e,t)}.bind(this)),r&&r.importData&&r.importData.getStartupAction&&r.importData.getStartupAction(function(e){var t="",n=[];c.get(["DEFAULT_HOME","STARTUP_SESSION_URLS"],function(i){t=i.DEFAULT_HOME,n=i.STARTUP_SESSION_URLS||[],"last"===e?0===this.openPages().length&&this.openURL(t):"speeddial"===e?this.openURL():"homepage"===e?this.openURL(t):"specificsession"===e&&(n.length>0?n.forEach(function(e){this.openURL(e.url)
}.bind(this)):this.openURL(t))}.bind(this))}.bind(this)),r.sessions.getRecentlyClosed(function(e){var t=!1;e.length>0&&(t=!0),t&&this._updateTrash(e)}.bind(this)),r.sessions.onChanged.addListener(function(){this._refreshTrash()}.bind(this)),f.addChangeListener(function(e){"fastforwardUrlChanged"===e.action&&this.models.map(function(t){if(t.get("webPage")&&t.get("url")===e.senderUrl&&!d.isInternalPage(t)){var n=t.get("webPage").fastNavigationState;n.forwardUrl=e.url,t.trigger("change:fastNavigationState",t,n)}}.bind(this))}.bind(this)),this.bookmarkMonitor=new E(this.models,function(e,t){e.set("isBookmarked",t)}),this.startJumpListUpdate(),this.on("add",function(t){e.updateGroupTiling(t.get("group"))}),this.on("remove",function(t){e.updateGroupTiling(t.get("group"))}),this.on("sort",function(t){e.updateGroupTiling(t.get("group"))}),this.on("change:status",function(t){e.updateActiveView(t)}),this.on("change:group",function(t){e.updateGroupTiling(t._previousAttributes.group),t.attributes.group?e.updateGroupTiling(t.attributes.group):"group"===t.attributes.tiling.type&&e.updatePageTiling(t,{})}),this.on("change:tiling",function(t){e.updateActiveView(t)})},_refreshTrash:function(){r.sessions.getRecentlyClosed(function(e){this._updateTrash(e)}.bind(this))},_updateTrash:function(e){e&&(this.trash=e.filter(function(e){if(e.tab)return e.tab&&!d.isInternalUrl(e.tab.url);if(e.window){var t=e.window.extData?JSON.parse(e.window.extData):{};return"popup"!==t.windowType}}),this.trigger("change:trash"))},emptyTrash:function(){this.trash=[],this.trigger("change:trash")},model:b,historystack:[],cycleOffset:0,isCycling:!1,trash:[],windowId:-1,extData:{},MIN_PAGE_ZINDEX:0,current_zindex:void 0,status_info:"",DEFAULT_START_PAGE:d.internals.startpage+"?section=Speed-dials&activeSpeedDialIndex=0",jumbListSpeedDialCache:null,last_page_id:0,setWindowId:function(e){this.windowId=e},setExtData:function(e){for(var t in e)e.hasOwnProperty(t)&&(this.extData[t]=e[t]);r.windows.update(this.windowId,{extData:JSON.stringify(this.extData)},function(){r.runtime.lastError&&console.warn("ERROR updating window. Original message:\n"+r.runtime.lastError.message)}.bind(this))},getExtData:function(e){return e?this.extData[e]:this.extData},findPageForTab:function(e){for(var t=this.models,n=0;n<t.length;n++){var i=t[n];if(i.tab_id===e)return i}return null},findPageForSessionId:function(e){var t=this.models.filter(function(t){return t.sessionId===e});return t?t[0]:null},_createPageFromTab:function(e,t){if(0!==e.windowId&&e.windowId!==this.windowId)return null;var n=new b({});if(n.tab_id=e.id,n.extData=this._parseExtData(e.extData),n.sessionId=e.sessionId,n.set("url",e.url),n.set("title",e.title),n.set("pinned",e.pinned),n.set("status",t?t:e.active?g.Active:g.Background),n.set("faviconurl",e.favIconUrl),n.set("thumbnail",n.extData.thumbnail),n.set("group",n.extData.group),n.set("tiling",n.extData.tiling||{}),this.recoverPosition(n),e.extData)n.set("id",n.extData.ext_id);else{var i=this.generateUUID();n.set("id",i),r.tabs.update(e.id,{extData:JSON.stringify({ext_id:i})},function(){n.trigger("status")})}return n},_insertPageFromTab:function(e,t){var n=this._createPageFromTab(e,t);return n&&(n.isActive()&&this._beforeActivated(n),this.add(n,{at:e.index}),this.addToHistoryStackIfMissing(n)),n},_parseExtData:function(e){if(e)try{return JSON.parse(e)}catch(t){return{ext_id:e}}return{}},savePosition:function(e){var t=this.indexOf(e);this.at(t-1)&&(e.extData.recoverBeforeId=this.at(t-1).get("id")),this.at(t+1)&&(e.extData.recoverAfterId=this.at(t+1).get("id")),e.extData.recoverIndex=t,this._saveExtData(e)},recoverPosition:function(e){var t=this.at(e.extData.recoverBeforeId),n=this.at(e.extData.recoverAfterId),i=e.extData.recoverIndex;t?this._movePageToIndex(e,t.get("index")):n?this._movePageToIndex(e,n.get("index")):void 0!==i&&this._movePageToIndex(e,i),e.extData.recoverBeforeId=void 0,e.extData.recoverAfterId=void 0,e.extData.recoverIndex=void 0,this._saveExtData(e)},openPages:function(){return this.models.filter(function(e){return e.isActive()||e.isBackground()})},openPagesInGroup:function(e){return e?this.openPages().filter(function(t){return t.get("group")===e}):[]},updatePageTiling:function(e,t){e.extData.tiling=t,this._saveExtData(e)},pagesInTiling:function(e){var t=void 0;return t=e?n.openPages().filter(function(t){return t.get("tiling").id===e}):[]},isPageVisible:function(e){return!!e&&(e.isActive()||!!this.currentPage()&&void 0!==e.attributes.tiling.id&&e.attributes.tiling.id===this.currentPage().attributes.tiling.id)},isGroupTiled:function(e,t){return this.openPagesInGroup(e).some(function(e){return"group"===e.get("tiling").type&&(!t||e.get("tiling").layout===t)})},tileGroup:function(e,t){this.tilePages(this.openPagesInGroup(e),"group",e,t)},tileSelection:function(e,t){this.tilePages(e,"selection",this.generateUUID(),t)},tilePages:function(e,t,n,i){var r=this,o=[];e.forEach(function(e,a,s){e.get("tiling").id&&e.get("tiling").id!==n&&o.push(e.get("tiling").id),r.updatePageTiling(e,{type:t,id:n,index:a,count:s.length,layout:i})}),s(o).forEach(function(t){var n=r.pagesInTiling(t);e.forEach(function(e){var t=n.indexOf(e);t>=0&&n.splice(t,1)}),1===n.length?r.updatePageTiling(n[0],{}):n.forEach(function(e,t,n){var i=e.get("tiling");r.updatePageTiling(e,{type:i.type,id:i.id,index:t,count:n.length,layout:i.layout})})})},isPageTiled:function(e,t,n){var i=e.get("tiling");return!(!i||t&&i.type!==t||n&&i.layout!==n)},unTileTiling:function(e){var t=this;this.pagesInTiling(e).forEach(function(e){return t.updatePageTiling(e,{})})},unTileSingle:function(e){var t=e.get("tiling"),n=e.cid;this.updatePageTiling(e,{});var i=this.pagesInTiling(t.id).filter(function(e){return e.cid!==n});i.length>1?this.tileSelection(i,t.layout):this.unTileTiling(t.id)},updateGroupTiling:function(e){if(e&&this.isGroupTiled(e)){var t=this.openPagesInGroup(e);this.tilePages(t,"group",e,t[0].get("tiling").layout)}},updateActiveView:function(e){e.isActive()?(this.pagesInTiling(e.get("tiling").id).forEach(function(t){t!==e&&t.trigger("activeViewChanged",t)}),document.title=e.get("title")):e.isBackground()&&e._previousAttributes.status===g.Active&&this.models.forEach(function(t){t!==e&&t.isBackground()&&t.get("tiling").id&&t.get("tiling").id===e.get("tiling").id&&t.trigger("activeViewChanged",t)}),e.trigger("activeViewChanged",e)},pinTab:function(e){Boolean(e.get("pinned"))!==!0&&r.tabs.update(e.tab_id,{pinned:!0})},unpinTab:function(e){Boolean(e.get("pinned"))!==!1&&r.tabs.update(e.tab_id,{pinned:!1})},markAsRead:function(e){Boolean(e.get("unread"))!==!1&&e.set("unread",!1)},_movePageToIndex:function(e,t){e&&e.tab_id&&r.tabs.move(e.tab_id,{windowId:this.windowId,index:t},function(e){r.runtime.lastError&&console.warn("Error moving tabs: ",e,r.runtime.lastError.message)})},disolveTabStack:function(e){var t=this;this.openPagesInGroup(e).forEach(function(e){return t.updatePageGroup(e,null)})},groupByFavicon:function(e){return this.openPages().filter(function(t){return!t.get("group")&&t.get("faviconurl")===e})},createTabStack:function(e){var t=this,n=s(a(e,function(e){return e.get("group")?t.openPagesInGroup(e.get("group")):e})),i=this.generateUUID();n.forEach(function(e){return t.updatePageGroup(e,i)});var o=function(e,t){return e.tab_id<t.tab_id?e:t},l=n.reduce(o),c=n.map(function(e){return e.tab_id}),u=this.indexOf(l);r.tabs.move(c,{windowId:this.windowId,index:u},function(e){r.runtime.lastError&&console.warn("Error moving tabs: ",e,r.runtime.lastError.message)})},isGrouped:function(e){return Boolean(e&&e.get("group")&&this.openPagesInGroup(e.get("group")).length>1)},trashedItems:function(){return this.trash},trashedTabs:function(){return this.trash.filter(function(e){return e.tab}).map(function(e){return e.tab})},undeleteTab:function(e){var t=n._createPageFromTab(e,g.Trashed);this.openPage(t)},undeletePreviousTab:function(){var e=this.trashedTabs();if(e.length){var t=e[0],i=n._createPageFromTab(t,g.Trashed);this.openPage(i)}},currentPage:function(){var e=this.models.filter(function(e){return e&&e.isActive()});return 0===e.length?null:e.length>1?(console.warn("ERROR in Session model, only one page is supposed to be active at a time!"),console.warn("Models: ",this.models),e[0]):e[0]},pageFromWebView:function(e){for(var t=this.models,n=0;n<t.length;n++){var i=t[n];if(i.webview()===e)return i}},_createWebPage:function(e){r.tabs.create({url:e.url,windowId:this.windowId,active:parseInt(e.status)===g.Active},function(){r.runtime.lastError&&console.warn("ERROR while creating new tab. Original message:\n"+r.runtime.lastError.message)}.bind(this))},openWindow:function(e,t,n,i){var o=t?t:{};o.url=e,o.focused=void 0!==o.focused?o.focused:!0,o.width=o.width?o.width:740,o.height=o.height?o.height:560,void 0===i&&(i="normal"),o.extData=JSON.stringify({ext_id:this.generateUUID(),windowType:i}),r.windows.create(o,function(t){"string"==typeof e&&e.length>0&&r.tabs.create({url:e,windowId:t.id,active:o.focused}),n&&n(t)})},restoreWindow:function(e){r.sessions.restore(e.sessionId,function(){return r.runtime.lastError?void console.warn("Error restoring page: ",e,r.runtime.lastError.message):void 0}.bind(this))},openURL:function(e,t){e=d.getUrl(e),e&&""!==e&&"_blank"!==e||(e=this.DEFAULT_START_PAGE);var n=null;if(t&&t.singleton){var i=d.internalKeyFromUrl(e);if(i){var r=this.models.filter(function(t){return d.equalUrl(e,t.get("url"))&&(t.isActive()||t.isBackground())});if(r&&r.length>0){var o=r[0];if(o.attributes.status===g.Unprocessed)return;n=o}}}else if(t&&t.inCurrent){var a=this.currentPage();a&&a.get("url")&&0!==a.get("displayUrl").indexOf("vivaldi://")&&(n=a)}if(n)n.set("url",e),t&&t.inBackground||this.openPage(n);else{var s={url:e};t&&t.payload&&(s.payload=t.payload),s.status=t&&t.inBackground?g.Background:g.Active,t&&t.bookmarkId&&(s.bookmarkId=t.bookmarkId),this._createWebPage(s)}},_hideAllExcept:function(e){this.models.forEach(function(t){t.isActive()&&t!==e&&(t.set("status",g.Background),r.tabs.update(t.tab_id,{active:!1}))})},openPage:function(e){e&&(e.isTrashed()&&e.sessionId?r.sessions.restore(e.sessionId,function(){return r.runtime.lastError?void console.warn("Error restoring page: ",e,r.runtime.lastError):void 0}.bind(this)):e.tab_id&&r.tabs.update(e.tab_id,{active:!0}))},closeAllPages:function(){var e=this.models.filter(function(e){return e.isActive()||e.isBackground()}).filter(function(e){return!e.get("pinned")});e.map(function(e){this.trashPage(e)}.bind(this))},closeAllButActivePage:function(){var e=this.models.filter(function(e){return e.isBackground()}).filter(function(e){return!e.get("pinned")});e.map(function(e){this.trashPage(e)}.bind(this))},closeAllButPage:function(e){var t=this.models.filter(function(t){return t!=e}).filter(function(e){return!e.get("pinned")});t.map(function(e){this.trashPage(e)}.bind(this))},detachTab:function(e,t,n){this.openWindow(null,{left:t,top:n},function(t){r.tabs.move(e,{windowId:t.id,index:-1},function(e){r.tabs.update(e.id,{active:!0})})})},attachTab:function(e,t,n){e=parseInt(e),r.tabs.move(e,{windowId:this.windowId,index:t},function(){var t=function(i){i.tab_id===e&&(this.off(null,t),n(i))}.bind(this);this.on("add",t)}.bind(this))},openBookmark:function(e,t,n,i){var r=e.url?e.url:d.internals.startpage+"?section=Speed-dials&node="+e.id;i?this.openWindow(r,{focused:!n}):this.openURL(r,{inBackground:n,inCurrent:t,bookmarkId:e.id})},closeCurrentPage:function(){var e=this.currentPage();this.trashPage(e)},_removePage:function(e){this._removeFromHistoryStack(e.id),this.setExtData({historyStack:this.historystack}),this.remove(e)},_beforeActivated:function(e){this._hideAllExcept(e),this.isCycling===!1&&this.pushToHistoryStack(e)},trashPage:function(e){this.isPageTiled(e)&&this.unTileSingle(e),this.savePosition(e);var t=e.isActive(),n=e.tab_id;if(this._removePage(e),t||0===this.openPages().length){var i=this.getPageFromHistoryStack(0);i?(i.set("status",g.Active),this.openPage(i)):0===this.openPages().length&&this.handleLastTabClosed()}n&&r.tabs.remove(n,function(){r.runtime.lastError&&console.warn("Error removing page: ",e,r.runtime.lastError)})},handleLastTabClosed:function(){this.openURL()},reloadPage:function(e){r.tabs.reload(e.tab_id)},setPageThumbnail:function(e,t){e.extData.thumbnail=t,this._saveExtData(e)},updatePageGroup:function(e,t){e.extData.group=t,this._saveExtData(e)},_saveExtData:function(e){e&&e.tab_id&&r.tabs.update(e.tab_id,{extData:JSON.stringify(e.extData)})},_removeFromHistoryStack:function(e){this.historystack=this.historystack.filter(function(t){return e!==t})},pushToHistoryStack:function(e){this._removeFromHistoryStack(e.id),this.historystack.push(e.id),this.setExtData({historyStack:this.historystack})},unshiftHistoryStack:function(e){this._removeFromHistoryStack(e.id),this.historystack.unshift(e.id),this.setExtData({historyStack:this.historystack})},addToHistoryStackIfMissing:function(e){-1===this.historystack.indexOf(e.id)&&this.unshiftHistoryStack(e)},rotateHistoryStack:function(e){e=e||{},e.reverse?this.historystack.push(this.historystack.shift()):this.historystack.unshift(this.historystack.pop())},getPageFromHistoryStack:function(e){if(!this.historystack.length)return null;var t=this.historystack.length-1+e,n=(t%this.historystack.length+this.historystack.length)%this.historystack.length,i=this.get(this.historystack[n]);return i||(console.warn("Tab History Inconsisten"),this._removeFromHistoryStack(this.historystack[t]),this.setExtData({historyStack:this.historystack}),i=this.getPageFromHistoryStack(0)),i},getGroupHighlight:function(e){if(!e)return null;var t=this.lastActiveByGroup(e);if(t)return t;var n=this.openPagesInGroup(e);return n&&n[0]},lastActiveByGroup:function(e){var t=this;return e?this.historystack.slice().reverse().map(function(e){return t.get(e)}).filter(Boolean).find(function(t){return t.get("group")===e}):null},rotatePageHistory:function(){var e=void 0===arguments[0]?!0:arguments[0];this.rotateHistoryStack({reverse:!e}),this.openPage(this.getPageFromHistoryStack(0),!1,!0)},cyclePageHistory:function(){var e=void 0===arguments[0]?!0:arguments[0];this.isCycling=!0,e?this.openPage(this.getPageFromHistoryStack(--this.cycleOffset),!1,!0):this.openPage(this.getPageFromHistoryStack(++this.cycleOffset),!1,!0)},cyclePageHistoryDone:function(){var e=this.getPageFromHistoryStack(0),t=this.getPageFromHistoryStack(this.cycleOffset);this.pushToHistoryStack(e),this.pushToHistoryStack(t),this.isCycling=!1,this.cycleOffset=0},cyclePageOrder:function(){var e=void 0===arguments[0]?!0:arguments[0];this.isCycling=!0;var t=this.openPages(),n=this.indexOf(this.currentPage())+(e?1:-1);this.cycleOffset=(n%t.length+t.length)%t.length,this.openPage(t[this.cycleOffset])},cyclePageOrderDone:function(){var e=this.openPages()[this.cycleOffset];this.pushToHistoryStack(e),this.cycleOffset=0,this.isCycling=!1},attachIndexOf:function(e,t){var n=this.indexOf(e);return n+=t?0:1},movePage:function(e,t,n){n=n||{};var i;i=e.get("group")?this.openPagesInGroup(e.get("group")):[e];var o;o=t.get("group")?this.openPagesInGroup(t.get("group")):[t];var a=function(e){return e.get("pinned")};if(!n.isOver||!i.concat(o).some(a)){if(n.isOver){var s=t.get("group")||e.get("group")||this.generateUUID();i.concat(o).forEach(function(e){this.updatePageGroup(e,s)}.bind(this))}var l=this.indexOf(n.isLeftOf?o[0]:o[o.length-1]),c=this.indexOf(i[0]);l+=l>c?n.isLeftOf?-1:0:n.isLeftOf?0:1,r.tabs.move(i.map(function(e){return e.tab_id}),{windowId:this.windowId,index:l},function(e){r.runtime.lastError&&console.warn("Error moving tabs: ",e,r.runtime.lastError.message)})}},addToGroup:function(e,t){t.get("group")||this.updatePageGroup(t,this.generateUUID()),this.updatePageGroup(e,t.get("group"))},getNextZindex:function(){return this.current_zindex=this.current_zindex+1,this.current_zindex},getNextPageId:function(){return this.last_page_id=this.last_page_id+1,this.last_page_id},startJumpListUpdate:function(){this.jumbListSpeedDialCache=new l(function(e){if("function"==typeof r.bookmarks.updateSpeedDialsForWindowsJumplist){var t=[];e&&e.length>0&&(t=e[0].children.filter(function(e){return!e.children},this).map(function(e){return{title:e.title,url:e.url}},this)),r.bookmarks.updateSpeedDialsForWindowsJumplist(t)}}.bind(this))},generateUUID:function(){return o()},getCurrentHighlightColor:function(){var e=this.currentPage();return e&&e.get("highlightColor")&&!d.isInternalPage(e)?"rgb("+e.get("highlightColor").join(",")+")":""},setPageTitle:function(e,t){e.set("title",t)},setPageFaviconUrl:function(e,t){e.set("faviconurl",t)}});t.exports={Page:b,Status:g,session:n=new _}},{}],481:[function(e,t){"use strict";var n=e(105),i=function(e,t){t=t||void 0,this.load=function(){var i=Date.now(),r=[];n.bookmarks.getTree(function(o){n.runtime.lastError&&console.warn("The computer tried to get the bookmark tree, but something happened: ",n.runtime.lastError.message);for(var a=function(e){if(e.speeddial&&!e.url&&(r=r.concat(e)),e.children)for(var t=0;t<e.children.length;t++)a.call(this,e.children[t])}.bind(this),s=0;s<o.length;s++)a.call(this,o[s]);e&&e.call(t,r);var l=Date.now()-i;l>5e3&&console.warn("Loaded speed dials in ",l,"ms")}.bind(this))},this.loadBound=this.load.bind(this),this.addBookmarkListeners=function(){this.load(),n.bookmarks.onChanged.addListener(this.loadBound),n.bookmarks.onCreated.addListener(this.loadBound),n.bookmarks.onRemoved.addListener(this.loadBound),n.bookmarks.onMoved.addListener(this.loadBound),n.bookmarks.onChildrenReordered.addListener(this.loadBound)},this.removeBookmarkListeners=function(){n.bookmarks.onChanged.removeListener(this.loadBound),n.bookmarks.onCreated.removeListener(this.loadBound),n.bookmarks.onRemoved.removeListener(this.loadBound),n.bookmarks.onMoved.removeListener(this.loadBound),n.bookmarks.onChildrenReordered.removeListener(this.loadBound)},this.addBookmarkListenersBound=this.addBookmarkListeners.bind(this),this.removeBookmarkListenersBound=this.removeBookmarkListeners.bind(this),this.setupListeners=function(){n.bookmarks.onImportBegan.addListener(this.removeBookmarkListenersBound),n.bookmarks.onImportEnded.addListener(this.addBookmarkListenersBound),this.addBookmarkListeners()},this.teardownListeners=function(){n.bookmarks.onImportBegan.removeListener(this.removeBookmarkListenersBound),n.bookmarks.onImportEnded.removeListener(this.addBookmarkListenersBound),this.removeBookmarkListeners()},this.setupListeners()};t.exports={SpeedDialCache:i}},{}],482:[function(e,t){"use strict";var n=e(99),i=e(100),r=function(){var e=this;this.internals={settings:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/settings/settings.html",startpage:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/startpage/startpage.html",mailpage:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/mail/mail.html",aboutpage:"chrome://version",vivaldiurls:"chrome://chrome-urls",plugins:"chrome://plugins"},this._internal_values=Object.keys(this.internals).map(function(t){return e.internals[t]}),this.mappings=[{displayUrl:"vivaldi://settings",url:this.internals.settings,copyParams:!0,mapDisplayUrlToUrl:this._settingsMapDisplayUrlToUrl},{displayUrl:"vivaldi:settings",url:this.internals.settings,copyParams:!0,mapDisplayUrlToUrl:this._settingsMapDisplayUrlToUrl},{displayUrl:"",url:this.internals.startpage,copyParams:!1},{displayUrl:"vivaldi://mail",url:this.internals.mailpage,copyParams:!0},{displayUrl:"vivaldi://contact",url:this.internals.contactpage,copyParams:!0},{displayUrl:"vivaldi://about",url:this.internals.aboutpage,copyParams:!0},{displayUrl:"vivaldi://help",url:this.internals.aboutpage,copyParams:!0},{displayUrl:"vivaldi://vivaldi-urls",url:this.internals.vivaldiurls,copyParams:!0},{displayUrl:"vivaldi://history",url:"chrome://chrome/history/",copyParams:!0},{displayUrl:"vivaldi:about",url:this.internals.aboutpage,copyParams:!1},{displayUrl:"about:about",url:this.internals.aboutpage,copyParams:!1},{displayUrl:"chrome://dummystartpage",url:this.internals.startpage,copyParams:!0},{displayUrl:"vivaldi://",url:"chrome://",copyParams:!0,mapDisplayUrlToUrl:function(t,n){return"vivaldi://"===t?e.internals.aboutpage:e._copyAllMapDisplayUrlToUrl(t,n)},mapUrlToDisplayUrl:function(t,n){return e._copyAllMapUrlToDisplayUrl(t,n)}}],this.setInternalUrl=function(e,t){var n=this;this.internals[e]=t,this._internal_values=Object.keys(this.internals).map(function(e){return n.internals[e]})},this.setMapping=function(e,t,n){this.mappings.push({displayUrl:e,url:t,copyParams:!!n})},this.getDisplayUrl=function(e){if(!e)return e;for(var t=e.split("?"),n=0;n<this.mappings.length;n++){var i=this.mappings[n];if(i.url&&this.matchUrl(i.url,t[0])){e=i.mapUrlToDisplayUrl?i.mapUrlToDisplayUrl(e,i):this._defaultMapUrlToDisplayUrl(e,i);break}}return e},this.removeTrailingSlashWhenNoPath=function(e){var t=i.parse(e);return"/"===t.path&&"/"===e.charAt(e.length-1)?e.substr(0,e.length-1):e},this.getUrl=function(e){e=e?e.trim():e;for(var t=e,n=0;n<this.mappings.length;n++){var i=this.mappings[n];if(i.displayUrl.length>0&&this.matchUrl(i.displayUrl,e)){t=i.mapDisplayUrlToUrl?i.mapDisplayUrlToUrl(e,i):this._defaultMapDisplayUrlToUrl(e,i);break}}return t},this.isMailPage=function(e){return 0===e.indexOf(this.internals.mailpage)},this.isStartPage=function(e){return 0===e.indexOf(this.internals.startpage)},this.isInternalUrl=function(e){for(var t=0;t<this._internal_values.length;t++)if(e&&0===e.indexOf(this._internal_values[t]))return!0;return!1},this.isInternalPage=function(e){return this.isInternalUrl(e.get("url"))},this.isNavigatablePage=function(){return!0},this.isBookmarkablePage=function(e){return!this.isInternalPage(e)},this.matchInternal=function(e,t){return this.matchUrl(this.internals[e],t)},this.matchUrl=function(e,t){return t&&0===t.indexOf(e)},this.equalUrl=function(e,t,n){return n?e&&t&&this._stripParams(e)==this._stripParams(t):e&&t&&this._trimSlash(e)==this._trimSlash(t)},this.getUrlParams=function(e){var t=e?e.split("?"):[];return t.length>1?n.parse(t[1]):{}},this.internalUrl=function(e,t,n,i){return this.internals[e]+"?path="+this._trimSlash(t)+(n?"&title="+n:"")+(i?"&query="+i:"")},this.internalKeyFromUrl=function(e){for(var t in this.internals)if(this.matchInternal(t,e))return t;return null},this._stripParams=function(e){return this._trimSlash(e).split("?")[0]},this._parseUrlPath=function(e){return this._trimSlash(e).split("/").slice(2)},this._trimSlash=function(e){return e.replace(/^\/+|\/+$/gm,"")},this._defaultMapUrlToDisplayUrl=function(e,t){var i=e.split("?"),r=e;if(t.displayUrl){var o=i.length>1?n.parse(i[1]):{};r=t.displayUrl+(t.copyParams&&o.path?"/"+o.path+"/":"/")}else r="";return r},this._defaultMapDisplayUrlToUrl=function(e,t,n){var i=t.copyParams&&e.length>t.displayUrl.length?"path="+this._trimSlash(e.slice(t.displayUrl.length)):"";return t.url+(i||n?"?":"")+i+(i?"&":"")+(n?n:"")},this._settingsMapDisplayUrlToUrl=function(e,t){var n=this._parseUrlPath(e)[1];return this._defaultMapDisplayUrlToUrl(e,t,"title=Settings"+(n?" - "+n:""))},this._copyAllMapUrlToDisplayUrl=function(e,t){var n=t.copyParams&&e.length>t.url.length?this._trimSlash(e.slice(t.url.length)):"";return t.displayUrl+n},this._copyAllMapDisplayUrlToUrl=function(e,t){var n=t.copyParams&&e.length>t.displayUrl.length?this._trimSlash(e.slice(t.displayUrl.length)):"";return t.url+n}};t.exports={urls:new r}},{}],483:[function(e){"use strict";e(2),e(3),e(91)},{}],484:[function(e,t){"use strict";var n=e(509),i=e(506);t.exports=function(){var e="Vivaldi",t={vivaldiMainMenu:[{name:i("Vivaldi"),tag:44002,items:[{name:i("About $1",[e]),tag:40018,items:[]},{name:"---"},{name:i("Check for Updates..."),tag:54022,items:[]},{name:"---"},{name:i("Settings"),tag:54014,items:[]},{name:i("Hide $1",[e]),tag:44003,accelerator:"h",items:[]},{name:i("Hide Others"),tag:54026,accelerator:"h",acceleratorMask:"alt",items:[]},{name:"---"},{name:i("Quit $1",[e]),tag:34031,accelerator:"q",items:[]}]},{name:i("File"),tag:44001,items:[{name:i("New Tab"),tag:34014,accelerator:"t",items:[]},{name:i("New Window"),tag:34e3,accelerator:"n",items:[]},{name:"---"},{name:i("Import Data"),tag:54003,items:[]},{name:"---"},{name:i("Save Page As..."),tag:54019,items:[]},{name:"---"},{name:i("Print..."),tag:54004,items:[]}]},{name:i("noun","Edit"),tag:36004,items:[{name:i("Undo"),tag:50144,accelerator:"z",items:[]},{name:i("Redo"),tag:50145,accelerator:"z",acceleratorMask:"shift",items:[]},{name:"---"},{name:i("Cut"),tag:50141,accelerator:"x",items:[]},{name:i("Copy"),tag:50140,accelerator:"c",items:[]},{name:i("Paste"),tag:50142,accelerator:"v",items:[]},{name:i("Paste and Go"),tag:54027,accelerator:"v",acceleratorMask:"shift",items:[]},{name:i("Delete"),tag:50143,items:[]},{name:i("Select All"),tag:50146,accelerator:"a",items:[]},{name:"---"},{name:i("Find in Page"),tag:54006,accelerator:"f",items:[]}]},{name:i("mac","View"),tag:54901,items:[{name:i("Toggle Panel"),tag:54008,items:[]},{name:i("Toggle Status Bar"),tag:54009,items:[]},{name:i("Toggle Bookmarks Bar"),tag:54025,items:[]},{name:"---"},{name:i("Bookmarks Panel"),tag:54010,items:[]},{name:i("Mail Panel"),tag:54011,items:[]},{name:i("Contacts Panel"),tag:54012,items:[]},{name:i("Downloads Panel"),tag:54013,items:[]},{name:i("Notes Panel"),tag:54020,items:[]}]},{name:i("Tools"),tag:54902,items:[{name:i("Show Quick Commands"),tag:54015,items:[]},{name:i("Task Manager"),tag:54021,items:[]},{name:i("Developer Tools"),tag:54023,items:[]},{name:i("Plugins Page"),tag:54024,items:[]}]},{name:i("Window"),tag:34045,items:[{name:i("Minimize"),tag:34046,accelerator:"m",items:[]},{name:i("Zoom"),tag:34047,items:[]},{name:"---"},{name:i("Toggle Full Screen"),tag:54016,items:[]},{name:"---"},{name:i("Bring All to Front"),tag:34048,items:[]}]},{name:i("Help"),tag:54903,items:[{name:i("Keyboard Cheat Sheet"),tag:54028,items:[]},{name:"---"},{name:i("Community"),tag:54018,items:[]}]}]};n.set(t)}},{}],485:[function(e,t){"use strict";var n=e(105),i=e(509),r="en-US",o="/default-bookmarks/",a=function(){var e=n.i18n.getUILanguage(),t=["cs.json","de.json","en-GB.json","en-US.json","es.json","fr.json","is.json","it.json","ja.json","nb.json","ru.json","sv.json","tr.json","uk.json"].map(function(e){return e.split(".")[0]});return-1===t.indexOf(e)?r:e},s=function(e,t,i){if(e&&e.length){var r=e[0];n.bookmarks.create({title:r.title,url:r.url,thumbnail:r.thumbnail,description:r.description,speeddial:Boolean(r.speeddial),parentId:t},function(o){r.speeddial===!0&&n.bookmarks.update(o.id,{speeddial:!0}),s(r.children,o.id,function(){s(e.slice(1),t,i)})})}else"function"==typeof i&&i()},l=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&s(JSON.parse(this.responseText),"1",t)};var i=o+e+".json";n.open("GET",i,!0),n.send()};t.exports=function(){var e=a();i.get("VIVALDI_FIRSTRUN_DONE",function(t){t||(l(e),i.set({VIVALDI_FIRSTRUN_DONE:!0}))})}},{}],486:[function(e,t){(function(n){"use strict";t.exports=function(){if(Boolean(n.env.ENABLE_LIVERELOAD)){var t=e(105);!function(){var e="localhost:",n=35729,i=new WebSocket("ws://"+e+n+"/livereload");i.onerror=function(e){console.log("reload connection got error"+JSON.stringify(e))},i.onmessage=function(e){if(e.data){var n=JSON.parse(e.data);n&&n.path&&!n.path.match(/\.css$/)&&"reload"===n.command&&t.runtime.reload()}}}()}}}).call(this,e(95))},{}],487:[function(e,t){"use strict";function n(e){e&&(p=[e.BOOKMARKS_BAR_FOLDER_IDS[0]]);var t=p[0]||"1";c.bookmarks.getSubTree(t,function(e){d=e,f.emitChange()})}function i(){c.bookmarks.getTree(function(e){n(),h=e[0].children[0].children,f.emitChange()})}function r(){i(),c.bookmarks.onChanged.addListener(i),c.bookmarks.onCreated.addListener(i),c.bookmarks.onRemoved.addListener(i),c.bookmarks.onMoved.addListener(i),c.bookmarks.onChildrenReordered.addListener(i)}function o(){r()}var a=e(478),s=e(477),l=e(93).EventEmitter,c=e(105),u="change",h=[],d=[],p=[],f=Object.assign({},l.prototype,{getBookmarksBar:function(){return d[0]&&d[0].children?d[0].children:[]},getBookmarks:function(){return h},getBookmarkBarFolderIds:function(){return p},getFlatListOfBookmarksFolders:function(){function e(n){!n.url&&n.children&&t.push(n),n.children&&n.children.forEach(function(t){e(t)})}var t=[];return h.forEach(function(t){e(t)}.bind(this)),t},emitChange:function(){this.emit(u)},emitChangeParam:function(e){this.emit(u,e)},addChangeListener:function(e){this.on(u,e)},removeChangeListener:function(e){this.removeListener(u,e)}});a.register(function(e){var t=e.action;switch(t.actionType){case s.BOOKMARKS_PRIME_ACTION:o();break;case s.BOOKMARKS_BOOKMARK_BAR_CONFIG_ACTION:n(t.obj);break;default:return!0}}),t.exports=f},{}],488:[function(e,t){"use strict";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})}function i(e,t){C[e]=t}function r(e,t){return function(n,i){e.call(null,t,n,i)}}var o=e(308),a=e(93).EventEmitter,s=e(310),l=e(311),c=e(314),u=e(316),h=e(317),d=e(478),p=e(477),f=e(509),m=e(320),g=e(506),v=e(480).session,E=e(482).urls,b="change",_=[{name:"COMMAND_NEW_WINDOW",action:l.newWindow,label:g("New Window"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_NEW_INCOGNITO_WINDOW",action:l.newIncognitoWindow,label:g("New Private Window"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_QUICK_COMMANDS",action:l.showQuickCommand,label:g("Show Quick Commands"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_FULLSCREEN",action:l.fullScreen,label:g("Toggle Full Screen"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TASK_MANAGER",action:l.showTaskManager,label:g("Task Manager"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_SETTINGS",action:l.showSettings,label:g("Settings"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_PLUGINS",action:l.showPlugins,label:g("Plugins Page"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_BOOKMARK_BAR",action:l.toggleBookmarksBar,label:g("Bookmarks Bar"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TOGGLE_MENU_POSITION",action:l.toggleMenuPosition,label:g("Toggle Menu Position"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TOGGLE_FOOTER",action:l.toggleFooter,label:g("Toggle Status Bar"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_EXIT",action:l.exitBrowser,label:g("Exit"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_KEYBOARDSHORTCUTS",action:l.showKeyboardShortcuts,label:g("Keyboard Cheat Sheet"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_MAIN_TOGGLE_TAB_BAR",action:l.toggleTabBar,label:g("Toggle Tab Bar"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_TOGGLE_ADDRESS_BAR",action:l.toggleAddressBar,label:g("Toggle Address Bar"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_NEW_TAB",action:h.newTab,label:g("New Tab"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_NEW_BACKGROUND_TAB",action:h.newBackgroundTab,label:g("New Background Tab"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_CLOSE_TAB",action:h.closeTab,label:g("Close Tab"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_NEW_PRIVATE_TAB",action:h.newTab,label:g("New Private Tab"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_SHOW_OPEN_TAB",action:h.showOpenTab,label:g("Show Open Tab"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_SHOW_ABOUT",action:h.newTab,param:E.internals.aboutpage,label:g("About"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CHECK_FOR_UPDATES",action:l.checkForUpdates,label:g("Check for Updates..."),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_COMMUNITY",action:h.newTab,param:"https://vivaldi.net",label:g("Community"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_TAB_SWITCH_BACK_SETTING",action:h.switchTabBackBySetting,label:g("Next Tab"),notEditable:!0,category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_FORWARD_SETTING",action:h.switchTabForwardBySetting,label:g("Previous Tab"),notEditable:!0,category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_BACK_HISTORY",action:h.switchTabBackByHistory,label:g("Next Tab (Recent)"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_FORWARD_HISTORY",action:h.switchTabForwardByHistory,label:g("Previous Tab (Recent)"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_BACK_ORDER",action:h.switchTabBackByOrder,label:g("Next Tab"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_FORWARD_ORDER",action:h.switchTabForwardByOrder,label:g("Previous Tab"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_REOPEN_RECENTLY_CLOSED",action:h.undoRecentlyClosedTab,label:g("Reopen Closed Tab"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_TILE_VERTICAL",action:h.stackTileVertical,label:g("Tile Tab Stack Vertically"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_TILE_HORIZONTAL",action:h.stackTileHorizontal,label:g("Tile Tab Stack Horizontally"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_TILE_GRID",action:h.stackTileGrid,label:g("Tile Tab Stack to Grid"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_UNTILE",action:h.stackUntile,label:g("Untile Tab Stack"),category:p.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_IMPORT_DATA",action:l.showImportData,label:g("Import Data"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_ADD_BOOKMARK",action:m.doAction,param:"addBookmark",label:g("Create Bookmark"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FOCUS_ADDRESSFIELD",action:m.doAction,param:"focusAddressField",label:g("Focus Address Field"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_REFRESH",action:m.reload,param:"refreshPage",label:g("Refresh Page"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FOCUS_WEBVIEW",action:m.doAction,param:"focusWebView",label:g("Focus Page"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FIND_IN_PAGE",action:m.doAction,param:"findInPage",label:g("Find in Page"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FIND_NEXT_IN_PAGE",action:m.doAction,param:"findNextInPage",label:g("Find Next in Page"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FIND_PREVIOUS_IN_PAGE",action:m.doAction,param:"findPreviousInPage",label:g("Find Previous in Page"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_BACK",action:m.back,label:g("History Back"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_FORWARD",action:m.forward,label:g("History Forward"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PRINT_PAGE",action:m.doAction,param:"print",label:g("Print"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_OPEN_PAGE",action:m.doAction,param:"openPage",label:g("Open..."),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SAVE_PAGE",action:m.doAction,param:"savePage",label:g("Save As..."),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PASTE_AND_GO",action:m.doAction,param:"urlPasteAndGo",label:g("Paste and Go"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_MAIN_ZOOM_IN",action:l.zoomIn,label:g("Zoom In"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_OUT",action:l.zoomOut,label:g("Zoom Out"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_HALF",action:l.zoomHalf,label:g("Zoom Half"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_DOUBLE",action:l.zoomDouble,label:g("Zoom Double"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_RESET",action:l.zoomReset,label:g("Zoom Reset"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TAB_VIEW_PAGE_SOURCE",action:h.viewPageSource,label:g("View Page Source"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_DEVELOPER_TOOLS",action:l.showDevTools,label:g("Developer Tools"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_EXPORT_SETTINGS",action:m.doAction,param:"exportSettings",label:g("Export Settings"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_IMPORT_SETTINGS",action:m.doAction,param:"importSettings",label:g("Import Settings"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_DOWNLOAD_EXTENSIONS",action:m.doAction,param:"addExtension",label:g("Download Extensions"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_TOGGLE_PANEL",action:c.togglePanelVisibility,label:g("Toggle Panel"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_MAIL_PANEL",action:c.setSelectedPanel,param:"mail",label:g("Mail Panel"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_DOWNLOADS_PANEL",action:c.setSelectedPanel,param:"downloads",label:g("Downloads Panel"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_BOOKMARK_PANEL",action:c.setSelectedPanel,param:"bookmarks",label:g("Bookmarks Panel"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_CONTACTS_PANEL",action:c.setSelectedPanel,param:"contacts",label:g("Contacts Panel"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_NOTES_PANEL",action:c.setSelectedPanel,param:"notes",label:g("Notes Panel"),category:p.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SPATNAV_LEFT",action:u.left,label:g("Spatial Navigation Left"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SPATNAV_UP",action:u.up,label:g("Spatial Navigation Up"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SPATNAV_RIGHT",action:u.right,label:g("Spatial Navigation Right"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SPATNAV_DOWN",action:u.down,label:g("Spatial Navigation Down"),category:p.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_CLIPBOARD_UNDO",action:o.copy,label:g("Undo"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_REDO",action:o.copy,label:g("Redo"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_CUT",action:o.copy,label:g("Cut"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_COPY",action:o.copy,label:g("Copy"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_PASTE",action:o.copy,label:g("Paste"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_SELECT_ALL",action:o.copy,label:g("Select All"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT",action:o.pasteAsPlainText,label:g("Paste as Plain Text"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO",action:o.pasteAsPlainTextOrPastAndGo,label:g("Paste as Plain Text / Paste and Go"),category:p.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_MAIL_MARK_SELECTED_READ",action:s.markSelectedRead,label:g("Mark as Read"),category:p.CATEGORY_COMMAND_MAIL},{name:"COMMAND_MAIL_MARK_SELECTED_UNREAD",action:s.markSelectedUnread,label:g("Mark as Unread"),category:p.CATEGORY_COMMAND_MAIL}],y=[{name:g("File"),items:[{commandName:"COMMAND_NEW_TAB"},{commandName:"COMMAND_NEW_WINDOW"},{name:"---"},{commandName:"COMMAND_IMPORT_DATA"},{name:"---"},{commandName:"COMMAND_OPEN_PAGE"},{commandName:"COMMAND_SAVE_PAGE"},{name:"---"},{commandName:"COMMAND_PRINT_PAGE"},{name:"---"},{commandName:"COMMAND_EXIT"}]},{name:g("noun","Edit"),items:[{commandName:"COMMAND_CLIPBOARD_UNDO"},{commandName:"COMMAND_CLIPBOARD_REDO"},{name:"---"},{commandName:"COMMAND_CLIPBOARD_CUT"},{commandName:"COMMAND_CLIPBOARD_COPY"},{commandName:"COMMAND_CLIPBOARD_PASTE"},{commandName:"COMMAND_PASTE_AND_GO"},{commandName:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT"},{name:"---"},{commandName:"COMMAND_CLIPBOARD_SELECT_ALL"},{name:"---"},{commandName:"COMMAND_FIND_IN_PAGE"}]},{name:g("win_linux","View"),items:[{commandName:"COMMAND_TOGGLE_MENU_POSITION"},{commandName:"COMMAND_TOGGLE_PANEL"},{commandName:"COMMAND_TOGGLE_FOOTER"},{commandName:"COMMAND_SHOW_BOOKMARK_BAR"},{name:"---"},{commandName:"COMMAND_SHOW_BOOKMARK_PANEL"},{commandName:"COMMAND_SHOW_MAIL_PANEL"},{commandName:"COMMAND_SHOW_CONTACTS_PANEL"},{commandName:"COMMAND_SHOW_DOWNLOADS_PANEL"},{commandName:"COMMAND_SHOW_NOTES_PANEL"}]},{name:g("Tools"),items:[{commandName:"COMMAND_SHOW_SETTINGS"},{name:"---"},{commandName:"COMMAND_SHOW_QUICK_COMMANDS"},{commandName:"COMMAND_TASK_MANAGER"},{commandName:"COMMAND_DEVELOPER_TOOLS"},{commandName:"COMMAND_SHOW_PLUGINS"}]},{name:g("Window"),items:[{commandName:"COMMAND_FULLSCREEN"},{name:"---"}]},{name:g("Help"),items:[{commandName:"COMMAND_SHOW_ABOUT"},{commandName:"COMMAND_SHOW_KEYBOARDSHORTCUTS"},{commandName:"COMMAND_CHECK_FOR_UPDATES"},{name:"---"},{commandName:"COMMAND_SHOW_COMMUNITY"}]}],S={54001:"COMMAND_NEW_TAB",54002:"COMMAND_NEW_WINDOW",54003:"COMMAND_IMPORT_DATA",54004:"COMMAND_PRINT_PAGE",54005:"COMMAND_EXIT",54006:"COMMAND_FIND_IN_PAGE",54007:"COMMAND_TOGGLE_MENU_POSITION",54008:"COMMAND_TOGGLE_PANEL",54009:"COMMAND_TOGGLE_FOOTER",54010:"COMMAND_SHOW_BOOKMARK_PANEL",54011:"COMMAND_SHOW_MAIL_PANEL",54012:"COMMAND_SHOW_CONTACTS_PANEL",54013:"COMMAND_SHOW_DOWNLOADS_PANEL",54014:"COMMAND_SHOW_SETTINGS",54015:"COMMAND_SHOW_QUICK_COMMANDS",54016:"COMMAND_FULLSCREEN",54017:"COMMAND_SHOW_ABOUT",54018:"COMMAND_SHOW_COMMUNITY",54019:"COMMAND_SAVE_PAGE",54020:"COMMAND_SHOW_NOTES_PANEL",54021:"COMMAND_TASK_MANAGER",54022:"COMMAND_CHECK_FOR_UPDATES",54023:"COMMAND_DEVELOPER_TOOLS",54024:"COMMAND_SHOW_PLUGINS",54025:"COMMAND_SHOW_BOOKMARK_BAR",54027:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO",54028:"COMMAND_SHOW_KEYBOARDSHORTCUTS"},C={},w=Object.assign({},a.prototype,{_getCommandsByType:function(e){var t={};
for(var n in C)if(void 0!==C[n])for(var i=C[n],o=0;o<_.length;o++)if(_[o].name===n&&i.hasOwnProperty(e)){var a=i[e];if(a)for(var s=0;s<a.length;s++)t[a[s]]={"function":r(_[o].action,_[o].param),oldShortcut:i.oldShortcut?i.oldShortcut:void 0}}return t},getCommandShortcuts:function(){return this._getCommandsByType("shortcut")},getCommandsGestures:function(){return this._getCommandsByType("gestures")},saveCommandConfig:function(e){for(var t in C)if(void 0!==C[t]){var i=C[t];if(e.name===t){i.hasOwnProperty("shortcut")&&(i.oldShortcut=i.shortcut,i.shortcut=e.shortcut),i.hasOwnProperty("gestures")&&(i.gestures=e.gestures),i.hasOwnProperty("showInQC")&&(i.showInQC=e.showInQC),f.set(n({},t,i));break}}},getCommands:function(){return _},getQuickCommands:function(){return _.filter(function(e){for(var t in C)if(void 0!==C[t]){var n=C[t];if(e.name===t)return n.hasOwnProperty("shortcut")&&(e.shortcut=n.shortcut),n.showInQC===!0}return!1}.bind(this))},getAllCommands:function(){return _.filter(function(e){for(var t in C)if(void 0!==C[t]){var n=C[t];if(e.name===t)return n.hasOwnProperty("shortcut")&&(e.shortcut=n.shortcut),n.hasOwnProperty("gestures")&&(e.gestures=n.gestures),n.hasOwnProperty("showInQC")&&(e.showInQC=n.showInQC),!0}})},getFunction:function(e,t){return function(){e.apply(null,t)}},getMenuCommands:function(){function e(t){for(var n=0,i=_.length;i>n;n++)if(_[n].name===t.commandName){var o=r(_[n].action,_[n].param);t.name=_[n].label,t.handler=o;break}t.items&&t.items.forEach(function(t){e(t)})}var t=this.deepCopyArray(y);t.forEach(function(t){e(t)});for(var n=v.openPages(),i=0;i<n.length;i++){var o=r(h.showOpenTab,n[i]);t[4].items.splice(2,0,{handler:o,name:n[i].attributes.title,commandName:"COMMAND_OPEN_TAB"})}return"Win32"!==navigator.platform&&t[5].items.splice(2,1),t},getHTMLMenu:function(){function e(t){for(var n=0,i=_.length;i>n;n++)if(_[n].name===t.commandName){t.name=_[n].label,t.obj=_[n];break}t.items&&t.items.forEach(function(t){e(t)})}var t=this.deepCopyArray(y);t.forEach(function(t){e(t)});for(var n=v.openPages(),i=0;i<n.length;i++)t[4].items.splice(2,0,{name:n[i].attributes.title,commandName:"COMMAND_OPEN_TAB",param:n[i]});return"Win32"!==navigator.platform&&t[5].items.splice(2,1),t},deepCopyObject:function(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.deepCopyObject(e[n]));return t},deepCopyArray:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.deepCopyObject(e[n]));return t},chromeIdToCommand:function(e){return S[e]},emitChange:function(){this.emit(b)},emitChangeParam:function(e){this.emit(b,e)},addChangeListener:function(e){this.on(b,e)},removeChangeListener:function(e){this.removeListener(b,e)},getUserEditableCommands:function(){return _},getUserEditableCommandsList:function(){return _.filter(function(e){return e.customizable===!0}).map(function(e){return e.name})}});d.register(function(e){var t=e.action;switch(t.actionType){case p.COMMAND_SAVE_SHORTCUTKEY:w.saveCommandConfig(t.command),w.emitChange();break;case p.COMMAND_CONF_CHANGED:i(t.commandKey,t.commandValue),w.emitChange();break;case p.COMMAND_SESSION_CHANGED:w.emitChange();break;default:return!0}}),t.exports=w},{}],489:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(93).EventEmitter,o=e(105),a=e(480).session,s="change",l=null,c=Object.assign({},r.prototype,{emitChange:function(){this.emit(s)},emitChangeParam:function(e){this.emit(s,e)},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.removeListener(s,e)},getCurrentTabID:function(){var e=a.currentPage();return null!=e?e.tab_id:void 0},getCurrentPage:function(){return a.currentPage()},getPageFromWebView:function(e){return a.pageFromWebView(e)},getWindowID:function(){return a.windowId}});n.register(function(e){var t=e.action;switch(t.actionType){case i.MAIN_FULLSCREEN:c.emitChangeParam({action:"fullscreen",url:""});break;case i.MAIN_SHOW_QUICKCOMMANDS:c.emitChangeParam({action:"quickcommand",url:""});break;case i.MAIN_SHOW_KEYBOARDS_SHORTCUTS:c.emitChangeParam({type:i.MAIN_SHOW_KEYBOARDS_SHORTCUTS});break;case i.MAIN_SHOW_IMPORT_DATA:c.emitChangeParam({action:"importData",url:""});break;case i.MAIN_SHOW_PAGE_INFO:c.emitChangeParam({action:"showPageInfo",page:e.action.page,event:e.action.event});break;case i.MAIN_ZOOM_IN:c.emitChangeParam({type:i.MAIN_ZOOM_IN});break;case i.MAIN_ZOOM_OUT:c.emitChangeParam({type:i.MAIN_ZOOM_OUT});break;case i.MAIN_ZOOM_HALF:c.emitChangeParam({type:i.MAIN_ZOOM_HALF});break;case i.MAIN_ZOOM_DOUBLE:c.emitChangeParam({type:i.MAIN_ZOOM_DOUBLE});break;case i.MAIN_ZOOM_RESET:c.emitChangeParam({type:i.MAIN_ZOOM_RESET});break;case i.MAIN_TOGGLE_TAB_BAR:c.emitChangeParam({type:i.MAIN_TOGGLE_TAB_BAR});break;case i.MAIN_TOGGLE_ADDRESS_BAR:c.emitChangeParam({type:i.MAIN_TOGGLE_ADDRESS_BAR});break;default:return!0}return!0}),o.tabs.onActivated.addListener(function(e){if(e.windowId===a.windowId){var t=a.findPageForTab(e.tabId);t&&(l=e.tabId,c.emitChangeParam({action:"currentTab",tabId:l,page:t}))}}),t.exports=c},{}],490:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(93).EventEmitter,o="change",a=Object.assign({},r.prototype,{emitChangeParam:function(e){this.emit(o,e)},emitChange:function(){this.emit(o)},addChangeListener:function(e){this.on(o,e)},removeChangeListener:function(e){this.removeListener(o,e)}});n.register(function(e){var t=e.action;switch(t.actionType){case i.PAGE_ACTION_FAST_FORWARD_URL_CHANGED:a.emitChangeParam({action:"fastforwardUrlChanged",url:t.nextUrl,senderUrl:t.senderUrl});break;case i.PAGE_ACTION_NAVIGATE_FAST_FORWARD:a.emitChangeParam({action:"navigateFastforward"});break;default:return!0}return!0}),t.exports=a},{}],491:[function(e,t){"use strict";function n(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t,n){E=E.map(function(i){return i.get("id")===e?i.set(t,n):i})}function r(e){E=f(e)}function o(e,t){if("onCreated"===e){var i=n(t,1),r=i[0];E=E.splice(r.index,0,f(r)),_.emitChange()}else if("onRemoved"===e)!function(){var e=n(t,1),i=e[0];E=E.filter(function(e){return e.get("id")!==i}).map(function(e,t){return e.set("index",t)}),_.emitChange()}();else if("onUpdated"===e){var o=n(t,3),a=o[1],r=o[2],s=E.get(r.index).merge(a);s.get("extData")&&(s=s.merge(JSON.parse(s.get("extData")))),E=E.splice(r.index,1,s),_.emitChange()}else if("onMoved"===e){var l=n(t,2),c=l[1];E=E.splice(c.fromIndex,1).splice(c.toIndex,0,E.get(c.fromIndex)).map(function(e,t){return e.set("index",t)}),_.emitChange()}else if("onActivated"===e)!function(){var e=n(t,1),i=e[0];E=E.map(function(e){var t=e.get("id")===i.tabId,n=e.set("active",t);return!e.get("read")&&t&&(n=n.set("read",!0)),n}),_.emitChange()}();else if("onDetached"===e){var u=n(t,2),a=u[1];E=E.splice(a.index,1).map(function(e,t){return e.set("index",t)}),_.emitChange()}else if("onAttached"===e){var h=n(t,1),d=h[0];m(g.tabs.get)(d).then(function(e){return E.splice(e.index,0,f(e))}).then(function(e){E=e.map(function(e,t){return e.set("index",t)}),_.emitChange()})}else"onReplaced"===e?console.debug("UNHANDLED: onReplaced",event):console.warn("Unknown Chrome Event: ",event)}function a(e,t){i(e,"mediastate",t),_.emitChange()}function s(e,t){i(e,"loading",t),_.emitChange()}function l(e){var t=E.find(function(e){return e.get("active")});b.contains(e.get("id"))?b=b.delete(e.get("id")):0===b.size&&e!==t?(b=b.add(t.get("id")),b=b.add(e.get("id"))):b=b.add(e.get("id")),_.emitChange()}function c(){b=h.Set(),_.emitChange()}var u=e(93).EventEmitter,h=e(116),d=e(478),p=e(477),f=e(511),m=e(512),g=e(105),v="change",E=h.List(),b=h.Set(),_=Object.assign({},u.prototype,{getPages:function(){return E},getPageSelection:function(){return b},emitChange:function(){this.emit(v)},addChangeListener:function(e){this.on(v,e)},removeChangeListener:function(e){this.removeListener(v,e)}});d.register(function(e){var t=e.action;switch(t.actionType){case p.CHROME_TABS_INITIAL:r(t.tabs);break;case p.CHROME_TABS_API:o(t.eventType,t.args);break;case p.PAGE_OPEN:case p.PAGE_CLOSE:case p.PAGE_CLOSE_OTHER:case p.PAGE_TABSTACK_CREATE:case p.PAGE_TABSTACK_CLOSE:case p.PAGE_TABSTACK_EXPAND:case p.PAGE_TOGGLE_PINNED:break;case p.PAGE_SET_MEDIASTATE:a(t.pageId,t.mediastate);break;case p.PAGE_SET_LOADING:s(t.pageId,t.loading);break;case p.PAGE_TOGGLE_SELECTION:l(t.page);break;case p.PAGE_CLEAR_SELECTION:c();break;default:return!0}}),t.exports=window.PageStore=_},{}],492:[function(e,t){"use strict";function n(e){E=e,c.setExtData({SHOW_PANEL:g,SELECTED_PANEL:f,PANEL_WIDTH:E,SHOW_PANEL_CONTENT:m})}function i(e){g=!0,E=0===E?h:E,e===f?m=!m:(f=e,g=!0,m=!0),c.setExtData({SHOW_PANEL:g,SELECTED_PANEL:f,PANEL_WIDTH:E,SHOW_PANEL_CONTENT:m})}function r(){m===!1?g?(f=!1,g=!1):(g=!0,f&&i(f)):(E=0===E?h:E,g=!g,m=!m),c.setExtData({SHOW_PANEL:g,SELECTED_PANEL:f,PANEL_WIDTH:E,SHOW_PANEL_CONTENT:m})}function o(e){e.hasOwnProperty("SHOW_PANEL_SWITCH")?v=e.SHOW_PANEL_SWITCH:(g=e.hasOwnProperty("SHOW_PANEL")?e.SHOW_PANEL:g,E=e.hasOwnProperty("PANEL_WIDTH")?e.PANEL_WIDTH:E,f=e.hasOwnProperty("SELECTED_PANEL")?e.SELECTED_PANEL:f,m=e.hasOwnProperty("SHOW_PANEL_CONTENT")?e.SHOW_PANEL_CONTENT:m,c.setExtData({SHOW_PANEL:g,SELECTED_PANEL:f,PANEL_WIDTH:E,SHOW_PANEL_CONTENT:m}))}var a=e(478),s=e(477),l=e(93).EventEmitter,c=e(480).session,u="change",h=250,d=34,p=10;"MacIntel"===navigator.platform&&(p=6);var f="",m=!1,g=!0,v=!1,E=0,b=Object.assign({},l.prototype,{getPanelButtonsVisible:function(){return g},getPanelContentVisible:function(){return m},getSelectedPanel:function(){return f},getPanelWidth:function(){return v===!0&&g===!0&&m===!1?d+p:g===!0&&m===!1?d:g===!0&&m===!0?E:0},getPanelSwitch:function(){return v},getCollapsedWidth:function(){return E},emitChange:function(){this.emit(u)},addChangeListener:function(e){this.on(u,e)},removeChangeListener:function(e){this.removeListener(u,e)}});a.register(function(e){var t=e.action;switch(t.actionType){case s.PANEL_TOGGLE:r();break;case s.PANEL_CONF_CHANGED:o(t);break;case s.PANEL_SET_SELECTED:i(t.SELECTED_PANEL);break;case s.PANEL_SET_WIDTH:n(t.PANEL_WIDTH);break;default:return!0}return b.emitChange(),!0}),t.exports=b},{}],493:[function(e,t){"use strict";var n=e(478),i=e(477),r=i.CHANGED,o=i.SEARCH_ENGINE_SET_STATE,a=e(93),s=a.EventEmitter,l=e(489),c=e(303),u={},h=Object.assign({},s.prototype,{emitChanged:function(){this.emit(r)},getCurrentTabSearchEngine:function(){var e=u[l.getCurrentTabID()];return e?e.searchEngine:null},getCurrentTabText:function(){var e=u[l.getCurrentTabID()];return e?e.editText||"":null}});n.register(function(e){var t=e.action;if(t.actionType===o){var n=l.getCurrentTabID();"number"==typeof n&&n>0&&!c.isEmpty(t.state)&&(u[n]=Object.assign(u[n]||{},t.state),h.emitChanged())}}),t.exports=h},{}],494:[function(e,t){"use strict";var n=e(478),i=e(477),r=i.SPATNAV_NAVIGATE,o=e(489),a={};n.register(function(e){var t=e.action;t.actionType===r&&chrome.tabs.sendMessage(o.getCurrentTabID(),e.action)}),t.exports=a},{}],495:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(93).EventEmitter,o="change",a=Object.assign({},r.prototype,{emitChangeParam:function(e){this.emit(o,e)},emitChange:function(){this.emit(o)},addChangeListener:function(e){this.on(o,e)},removeChangeListener:function(e){this.removeListener(o,e)}});n.register(function(e){var t=e.action;switch(t.actionType){case i.TAB_NEW_TAB:a.emitChangeParam({action:"newTab",url:t.url});break;case i.TAB_NEW_BACKGROUND_TAB:a.emitChangeParam({action:"newBackgroundTab",url:t.url});break;case i.TAB_CLOSE_TAB:a.emitChangeParam({action:"closeTab"});break;case i.TAB_SWITCH_BACK_SETTING:a.emitChangeParam({action:"switchTabBackBySetting",maybeEvent:t.maybeEvent});break;case i.TAB_SWITCH_FORWARD_SETTING:a.emitChangeParam({action:"switchTabForwardBySetting",maybeEvent:t.maybeEvent});break;case i.TAB_SWITCH_BACK_HISTORY:a.emitChangeParam({action:"switchTabBackByHistory",maybeEvent:t.maybeEvent});break;case i.TAB_SWITCH_FORWARD_HISTORY:a.emitChangeParam({action:"switchTabForwardByHistory",maybeEvent:t.maybeEvent});break;case i.TAB_SWITCH_BACK_ORDER:a.emitChangeParam({action:"switchTabBackByOrder",maybeEvent:t.maybeEvent});break;case i.TAB_SWITCH_FORWARD_ORDER:a.emitChangeParam({action:"switchTabForwardByOrder",maybeEvent:t.maybeEvent});break;case i.TAB_UNDO_RECENTLY_CLOSED:a.emitChangeParam({action:"reopenRecentlyClosed"});break;case i.TAB_VIEW_PAGE_SOURCE:a.emitChangeParam({action:"viewPageSource"});break;case i.TAB_STACK_UNTILE:a.emitChangeParam({action:"stackUntile"});break;case i.TAB_STACK_TILE_GRID:a.emitChangeParam({action:"stackTileGrid"});break;case i.TAB_STACK_TILE_HORIZONTAL:a.emitChangeParam({action:"stackTileHorizontal"});break;case i.TAB_STACK_TILE_VERTICAL:a.emitChangeParam({action:"stackTileVertical"});break;default:return!0}return!0}),t.exports=a},{}],496:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(93).EventEmitter;e(91);var o="change",a=Object.assign({},r.prototype,{emitChange:function(){this.emit(o)},emitChangeParam:function(e){this.emit(o,e)},addChangeListener:function(e){this.on(o,e)},removeChangeListener:function(e){this.removeListener(o,e)}});n.register(function(e){var t=e.action;switch(t.actionType){case i.TOOLTIP_CLEAR:a.emitChangeParam("clear-tooltip");break;default:return!0}}),t.exports=a},{}],497:[function(e,t){"use strict";function n(){i||(i=e(480).session)}var i,r=e(478),o=e(477),a=o.CHANGED,s=o.URLFIELD_SET_STATE,l=e(93),c=l.EventEmitter,u=e(303),h={},d={initUrl:"",initSelectionStart:-1,initSelectionEnd:-1,isOmniDropdownOpen:!1,isActive:!1},p=Object.assign({},c.prototype,{emitChanged:function(){this.emit(a)},getUrlfieldState:function(){n();var e=i.currentPage();if(e){var t,r=function(){var n=e.cid;return t=u.reduce(u.keys(d),function(e,t){return e[t]=h[n]&&null!=h[n][t]?h[n][t]:d[t],e},{}),{v:t}}();if("object"==typeof r)return r.v}return d}});r.register(function(e){var t=e.action;if(t.actionType===s){n();var r=i.currentPage();if(r){var o=r.cid;o&&(h[o]={initUrl:t.state.editUrl,initSelectionStart:t.state.selectionStart,initSelectionEnd:t.state.selectionEnd},p.emitChanged())}}}),t.exports=p},{}],498:[function(e,t){"use strict";var n=e(478),i=e(477),r=e(93).EventEmitter,o="change",a={},s={},l=Object.assign({},r.prototype,{emitChange:function(){this.emit(o)},emitChangeParam:function(e){this.emit(o,e)},addChangeListener:function(e){this.on(o,e)},removeChangeListener:function(e){this.removeListener(o,e)},isFindInPageOpen:function(e){return s[e.tab_id]===!0},getFindResultsForPage:function(e){var t=a[e.tab_id];return void 0===t&&(t={activeMatchOrdinal:0,numberOfMatches:0,searchText:"",canceled:!1}),t.isFindInPageToolbarOpen=s[e.tab_id]===!0||!1,t}});l.setMaxListeners(100),n.register(function(e){var t=e.action;switch(t.actionType){case i.WEBPAGEVIEW_ACTIONS:"findInPage"===t.action?s[t.page.tab_id]=!0:("findNextInPage"===t.action||"findPreviousInPage"===t.action)&&s[t.page.tab_id]!==!0&&(s[t.page.tab_id]=!0,l.emitChangeParam({type:i.WEBPAGEVIEW_ACTIONS,action:"findInPage",page:t.page})),l.emitChangeParam({type:i.WEBPAGEVIEW_ACTIONS,action:t.action,page:t.page});break;case i.FIND_IN_PAGE_RESULT_ACTION:s[t.page.tab_id]&&(a[t.page.tab_id]=t,l.emitChangeParam(Object.assign({type:i.FIND_IN_PAGE_RESULT_ACTION,page:t.page},t.results)));break;case i.SHOW_FIND_IN_PAGE_ACTION:s[t.page.tab_id]||(s[t.page.tab_id]=!0,l.emitChangeParam({type:i.SHOW_FIND_IN_PAGE_ACTION,page:t.page}));break;case i.CLOSE_FIND_IN_PAGE_ACTION:s[t.page.tab_id]&&(s[t.page.tab_id]=!1,l.emitChangeParam({type:i.CLOSE_FIND_IN_PAGE_ACTION,page:t.page}));break;case i.PAGE_GO:l.emitChangeParam({type:i.PAGE_GO,index:t.index});break;case i.PAGE_UPDATED:l.emitChangeParam({type:i.PAGE_UPDATED,page:t.page});break;case i.PAGE_STOP:case i.PAGE_RELOAD:case i.PAGE_BACK:case i.PAGE_FORWARD:l.emitChangeParam({type:t.actionType});break;default:return!0}return!0}),t.exports=l},{}],499:[function(e,t){"use strict";function n(e){function t(e){n.indexOf(e)>-1&&(i+=e+"+",n.splice(n.indexOf(e),1))}var n=e.split("+");n=n.map(function(e){return v[e]||e});var i="";return t("ctrl"),t("alt"),t("shift"),t("meta"),n.sort(),n.forEach(function(e,t){i+=e,t+1<n.length&&(i+="+")}),i.toLowerCase()}function i(e,t){t=n(t),y[t]=e}function r(e){var t="";return e.metaKey&&(t+="meta+"),e.altKey&&(t+="alt+"),e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),t}function o(e){return e.metaKey||e.altKey||e.shiftKey||e.ctrlKey?!0:!1}function a(e){function t(){var t=["Alt","Shift","Control","Meta"];return 16===e.which?!1:17===e.which?!1:18===e.which?!1:-1===t.indexOf(e.keyIdentifier)}function i(){var t=["U+0008","U+001B","U+0020","U+0009","U+007F","Enter","Left","U+0025","Up","U+0026","Right","U+0027","Down","U+0028","PageUp","PageDown","End","Home"];return t.indexOf(e.keyIdentifier)>-1}function o(e){var t;return e.metaKey&&(t+=1),e.altKey&&(t+=1),e.ctrlKey&&(t+=1),e.shiftKey&&(t+=1),t>1?!0:!1}function a(){return String.fromCharCode(parseInt(e.keyIdentifier.substring(2),16))}function s(){return c+=a(),n(c)}function l(){return g[e.keyCode]?(c+=g[e.keyCode],n(c)):(c+=a(),n(c))}var c=r(e);if((e.metaKey||o(e))&&t()){if("keypress"===e.type)return;if("keydown"===e.type)return l()}if(e.ctrlKey&&t()){if("keypress"===e.type)return;if("keydown"===e.type)return l()}if(e.altKey&&t()){if("keypress"===e.type&&!i()){if(navigator.platform.indexOf("Mac")>-1)return s();return}if("keydown"===e.type){if(navigator.platform.indexOf("Mac")>-1&&!i())return;return l()}}if(e.shiftKey){if("keypress"===e.type&&!i())return s();if("keydown"===e.type){if(i())return l();return}}return"keypress"!==e.type||i()?"keydown"===e.type&&g[e.keyCode]?l():void 0:s()}function s(e,t){t(e),e.preventDefault(),e.stopPropagation()}function l(e,t){return 0===e.charCode&&-1===b.indexOf(t)&&(o(e)||-1===E.indexOf(e.keyIdentifier)||e.ctrlKey||e.metaKey)}function c(e,t,n){if(!e.defaultPrevented&&!(e.target.classList.contains("keyShortcutStop")||1===n.length&&p)){var i=["INPUT","FRAME","IFRAME","OBJECT","SELECT","TEXTAREA","EMBED"];i.indexOf(e.target.tagName)>-1||e.target.isContentEditable?l(e,n)&&s(e,t):"WEBVIEW"===e.target.tagName?-1!==f.currentPage().attributes.title.indexOf("view-source:")?s(e,t):e.target.executeScript({code:JSON.stringify(i)+".indexOf(document.activeElement.tagName.toUpperCase()) !== -1 || document.activeElement.contentEditable === 'true' || Boolean(document.querySelector('[contentEditable]'))"},function(i){void 0===i&&s(e,t),(i[0]===!1||l(e,n))&&s(e,t)}):s(e,t)}}function u(e){return y[e]?y[e]:void 0}function h(e,t){var n=u(e,t);n&&c(t,n,e)}function d(e){var t=a(e);t&&h(t,e)}var p,f=e(480).session,m=e(509);m.get("DISABLE_SINGLE_KEY_SHORTCUTS",function(e){p=e}),m.addListener("DISABLE_SINGLE_KEY_SHORTCUTS",function(e,t){p=t});var g={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del"},v={option:"alt",command:"meta","return":"enter",escape:"esc",del:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"backspace":"del",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},E=["U+0008","U+007F"],b=["left","right","shift+left","shift+right"];b=b.concat(navigator.platform.indexOf("Mac")>-1?["alt+left","alt+right","alt+backspace","meta+a","meta+z","meta+left","meta+right","shift+meta+left","shift+meta+right","ctrl+a","ctrl+b","ctrl+e","ctrl+f","ctrl+n","ctrl+p","ctrl+d","ctrl+h","ctrl+k","ctrl+o","ctrl+t","ctrl+v","ctrl+y","alt+shift+left","alt+shift+right","ctrl+shift+a","ctrl+shift+b","ctrl+shift+e","ctrl+shift+f","ctrl+shift+n","ctrl+shift+p"]:["home","end","ctrl+a","ctrl+z","ctrl+y","ctrl+u","ctrl+left","ctrl+right","ctrl+backspace","ctrl+delete","ctrl+home","ctrl+end","ctrl+shift+left","ctrl+shift+right","shift+home","shift+end"]);for(var _=1;20>_;++_)g[111+_]="f"+_;var y={},S={bind:function(e,t){return e?(e=Array.isArray(e)?e:[e],e.forEach(function(e){i(t,e.trim())}),this):void 0},unbind:function(e){return e?(e=Array.isArray(e)?e:[e],e.forEach(function(e){y[n(e)]=null}),this):void 0},keyComboFromEvent:a};document.addEventListener("keydown",d),document.addEventListener("keypress",d),t.exports=S},{}],500:[function(e,t){"use strict";var n=e(105),i=function(e,t){var i=void 0===arguments[2]?"pointer":arguments[2],r=void 0===arguments[3]?null:arguments[3],o=0,a={},s=function(e,t){"function"==typeof a[t]&&a[t].call(this,e),"function"==typeof r&&r.call(this,e)},l=function c(e){if(!e)return null;var t=o++;return a[t]=e.handler,{id:t,name:e.name,visible:e.visible!==!1,items:e.items?e.items.map(c):null}};return function(r){r.preventDefault(),r.stopPropagation(),r.persist(),"function"==typeof t&&t.call(this,r);var o=0,a=0,c="MacIntel"===navigator.platform?4:0;if("pointer"===i)o=r.clientX,a=r.clientY;else{var u=r.target,h=Math.round(u.getBoundingClientRect().left),d=Math.round(u.getBoundingClientRect().top);"bottom"===i?(o=h,a=d+u.clientHeight+c):"right"===i&&(o=h+u.clientWidth,a=d)}n.showMenu.create({left:o,top:a,items:e.map(l)},s.bind(this,r))}};t.exports=i},{}],501:[function(e,t){"use strict";var n=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&-1==Array.prototype.indexOf.call(arguments,n,1)&&(t[n]=e[n]);return t};t.exports=n},{}],502:[function(e,t,n){"use strict";var i=function(e){var t=void 0,n=void 0;return function(i){n&&n&&i.screenX===t&&i.screenY===n||(t=i.screenX,n=i.screenY,e.call(this,i))}};n.onlyDistinct=i},{}],503:[function(e,t){"use strict";var n=e(105),i={errorHandler:function(e){var t="";switch(e.code){case FileError.QUOTA_EXCEEDED_ERR:t="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:t="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:t="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:t="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:t="INVALID_STATE_ERR";break;default:t="Unknown Error"}console.log("Error: "+t)},saveAsJSONFile:function(e){var t={type:"saveFile",suggestedName:"VivaldiExport"};n.fileSystem.chooseEntry(t,function(t){t.createWriter(function(t){var n=JSON.stringify(e),i=new Blob([n],{type:"text/plain"});t.onerror=this.errorHandler,t.write(i)},this.errorHandler)})},loadFromJSONFile:function(e){n.fileSystem.chooseEntry(null,function(t){t.file(function(t){var n=new FileReader;n.onloadend=function(){var t=JSON.parse(this.result);e(t)},n.readAsText(t)},this.errorHandler)})}};t.exports=i},{}],504:[function(e,t,n){"use strict";function i(e){if("string"!=typeof e)throw new TypeError("Paramter `path` must be a string");var t=s.resolve(e).replace(/\\/g,"/");return"/"!==t[0]&&(t="/"+t),encodeURI("file://"+t)}function r(e){return 1===e.indexOf(":")&&e.match(/^[a-z]/g)||0===e.indexOf("/")||0===e.indexOf("\\")}function o(e){return 0===e.indexOf("/")}function a(e,t){if("string"!=typeof e)throw new TypeError("Paramter `path` must be a string");return t?r(e):o(e)}var s=e(94);n.isPath=a,n.win32PathToFileUrl=i},{}],505:[function(e,t){"use strict";var n,i=e(105),r=["be","gl","is","mk","hy","nn"];n=-1===r.indexOf(i.i18n.getUILanguage())?[i.i18n.getUILanguage(),"en-US"]:["en-US"];var o=new Intl.DateTimeFormat(n,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),a=new Intl.DateTimeFormat(n,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});t.exports={dateTimeLong:function(e){return o.format(e)},dateTimeShort:function(e){return a.format(e)}}},{}],506:[function(e,t){"use strict";function n(e,t){return"_"+t.charCodeAt(0)+"_"}var i,r=e(105),o=e(306),a=new RegExp("([^a-z0-9])","g");i=r.i18n.getUILanguage()in o?o[r.i18n.getUILanguage()]:function(e){return 1!==e};var s=function(e,t,o){var s=o[0],l=i(s);l===!1?l=0:l===!0&&(l=1);var c=r.i18n.getMessage(e.replace(a,n)+l,o);return""===c?1===s?e:t:c},l="_4_",c=function(e,t){var i=r.i18n.getMessage(e.replace(a,n)+l+t.replace(a,n)+"0");return""===i?t:i},u=function(e,t){var i=r.i18n.getMessage(e.replace(a,n)+"0",t);return""===i?e:i},h=function(e,t,n){return"object"==typeof n&&n.length>0&&"number"==typeof n[0]?s(e,t,n):"string"==typeof t?c(e,t):u(e,t)};t.exports=h},{}],507:[function(e,t,n){"use strict";var i=function(e){return e&&(e.ctrlKey||e.altKey||e.metaKey)},r=function(e,t){var n={ctrlKey:[17],altKey:[18],metaKey:[91,93]};return Object.keys(n).filter(function(t){return e[t]}).filter(function(e){return-1!==n[e].indexOf(t.keyCode)}).some(Boolean)},o=function(){var e=!1;return function(t,n,o){return o=o||null,i(t)?void(e!==!0&&(e=!0,document.addEventListener("keyup",function a(i){r(t,i)&&(e=!1,n.call(o,i),document.removeEventListener("keyup",a))}))):void n.call(o)}}();n.modifierIsUp=r,n.modifierUpListener=o,n.hasModifier=i},{}],508:[function(e,t){"use strict";var n,i=e(105);i.runtime.getPlatformInfo(function(e){n=e.os});var r=function(e){return e&&e.constructor===Array&&(e=e.join(", ")),e&&"mac"===n&&(e=e.replace(/command/g,"").replace(/meta/g,"").replace(/ctrl/g,"").replace(/alt/g,"").replace(/shift/g,"").replace(/capslock/g,"").replace(/left/g,"").replace(/right/g,"").replace(/up/g,"").replace(/down/g,"").replace(/([^+ ]){1}\+/g,"$1")),e};t.exports=r},{}],509:[function(e,t){"use strict";var n=e(105),i={pending:{},pendingCount:0,listeners:{},settingsCache:{},cacheValues:function(e,t){this.settingsCache[e]=t},set:function(e,t){n.storage.local.set(e,function(){"function"==typeof t&&t(n.runtime.lastError)})},serveFromCache:function(e){for(var t={},n=[],i=0;i<e.length;i++){var r=e[i];this.settingsCache.hasOwnProperty(r)?t[r]=this.settingsCache[r]:n.push(r)}return{found:t,notFound:n}},returnValues:function(e,t,n){var i=arguments.length>=3?arguments[2]:void 0,r=t;"string"==typeof e&&(r=t[e]);for(var o=0;o<n.length;o++){var a=n[o];a.call(i,r)}},addToPending:function(e,t){if(this.pending.hasOwnProperty(e)){var n=this.pending[e];n.indexOf(t)>-1||n.push(t)}else this.pending[e]=[t]},removeFromPending:function(e){this.pending.hasOwnProperty(e)&&delete this.pending[e]},get:function(e,t){var i="string"==typeof e?new Array(e):e,r=this.serveFromCache(i);if(0===r.notFound.length)return void this.returnValues(e,r.found,[t]);i=r.notFound;var o=this.pending.hasOwnProperty(i);if(this.addToPending(i,t),!o){var a=this.pending[i];this.pendingCount+=1;var s=Date.now();n.storage.local.get(i,function(t){var n=Date.now(),o=n-s;this.pendingCount-=1;var l=2;o>1e3*l&&console.warn("VivaldiSettings get for key(s) "+i+" took more than "+l+" seconds ("+o+"ms)!");for(var c={},u=0;u<i.length;u++){var h=i[u];c[h]=void 0===t[h]?this.getDefault(h):t[h],this.cacheValues(h,c[h])}for(var d in r.found)r.found.hasOwnProperty(d)&&(c[d]=r.found[d]);this.returnValues(e,c,a),this.removeFromPending(i)}.bind(this))}},remove:function(e,t){n.storage.local.remove(e,function(){t(n.runtime.lastError)})},getDefault:function(e){return LocaleSettings[n.i18n.getUILanguage()]&&LocaleSettings[n.i18n.getUILanguage()][e]||DefaultSettingsPlatformSpecific[e]||DefaultSettings[e]},getAll:function(e){var t=arguments.length>=2?arguments[1]:void 0;n.storage.local.get(null,function(n){e.call(t,n)})},addListener:function(e,t){return"function"!=typeof t?void console.warn("Can not register anything else than a function as a settings listener"):void(e in this.listeners?t in this.listeners[e]?console.warn("Listener already exists."):this.listeners[e].push(t):this.listeners[e]=new Array(t))},removeListener:function(e,t){e in this.listeners&&("function"==typeof t?this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(function(e){return e!==t})):delete this.listeners[e])},notifyListeners:function(e,t,n){this.cacheValues(e,n);var i=this.listeners[e];if(void 0!==i)for(var r=0;r<i.length;r++){var o=i[r];o(t,n,e)}}};n.storage.onChanged.addListener(function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];i.notifyListeners(t,n.oldValue,n.newValue)}}),t.exports=i},{}],510:[function(e,t,n){"use strict";var i=e(100);e(2);var r=["vivaldi:","chrome:","chrome-extension:"],o=function(e){var t=i.parse(e);return t.protocol=t.protocol||"http",t.format(t)},a=function(e){return e&&o(e)?!0:!1},s=function(e){return"string"==typeof e?(e=e.toLowerCase(),!(0===e.indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("chrome://")||0===e.indexOf("vivaldi:")||0===e.indexOf("chrome-extension://")||0===e.indexOf("about:")||0===e.indexOf("file://")||0===e.indexOf("ftp://")||0===e.indexOf("view-source:"))):!0},l=function(e){var t=i.parse(e);return r.some(function(e){return-1!==e.indexOf(t.protocol)})},c=function(e){return-1!==e.indexOf("https://chrome.google.com/webstore")||-1!==e.indexOf("https://vivaldi.net/?welcome=1")?!0:void 0},u=function(e){var t="chrome-extension://mpognobbkildjkofajifpdfhcoklimli/";return e.substr(0,t.length)===t?e="http://"+e.substr(t.length,e.length):e.match(/^[a-zA-Z]+:\/\//)||(e="http://"+e),e};n.ensureURLProtocol=o,n.isValidURL=a,n.hasUnknownProtocol=s,n.isInternalURL=l,n.isIgnoredURL=c,n.fixLink=u},{}],511:[function(e,t){"use strict";var n=e(116),i=function(e){return n.fromJS(e,function(e,t){var i=n.Iterable.isIndexed(t);if(i)return t.toList();var r=t.toMap();return r.get("extData")&&(r=r.merge(JSON.parse(t.get("extData")))),r})};t.exports=i},{}],512:[function(e,t){"use strict";var n=e(105),i=function(e){return function(){for(var t=arguments.length,i=Array(t),r=0;t>r;r++)i[r]=arguments[r];return new Promise(function(t,r){e.apply(void 0,i.concat([function(){for(var e=arguments.length,i=Array(e),o=0;e>o;o++)i[o]=arguments[o];n.runtime.lastError?r(n.runtime.lastError):t.apply(void 0,i)}]))})}};t.exports=i},{}]},{},[1]);