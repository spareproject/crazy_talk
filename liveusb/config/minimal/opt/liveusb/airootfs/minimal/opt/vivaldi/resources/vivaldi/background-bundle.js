!function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e){"use strict";function t(e){var t=e.extData?JSON.parse(e.extData):{};chrome.storage.local.get("USE_NATIVE_WINDOW_DECORATIONS",function(r){var n=void 0;n=r.USE_NATIVE_WINDOW_DECORATIONS?"chrome":"none",chrome.app.window.create("browser.html",{id:"vivaldi_window_"+(t.ext_id?t.ext_id:e.id),outerBounds:{left:e.left?e.left:null,top:e.top?e.top:null,width:e.width?e.width:1024,height:e.height?e.height:720,minWidth:400,minHeight:260},frame:n,hidden:a,focused:e.focused,extData:e.extData},function(t){var r=e.id;t.contentWindow.vivaldiWindowId=r,u[r]=t;var n=JSON.parse(e.extData);t.contentWindow.isPopup=function(){return"popup"===n.windowType},t.onClosed.addListener(function(){chrome.windows.remove(r,function(){chrome.runtime.lastError&&console.warn("Tried to remove browser with id "+e.id+", but the Chrome said no.\n",chrome.runtime.lastError.message)}.bind(this))}.bind(this))})})}function r(){chrome.windows.getAll(function(e){var t=e?e.filter(function(e){return"normal"===e.type&&(!e.extData||"popup"!==JSON.parse(e.extData).windowType)}).length:0;0===t&&chrome.runtime.exit()})}function n(e){for(;c.length>0;){var t=c.shift();chrome.tabs.create({url:t,windowId:e,active:!0})}}function o(e){if(e&&(c.push(e),Object.keys(u).length>0)){var o=u[Object.keys(u)[0]];return void n(o.id)}s||(s=!0,chrome.windows.onCreated.addListener(function(e){if("normal"===e.type){var r=e.id;chrome.windows.get(r,function(e){var r=e.extData?JSON.parse(e.extData):{};r.ext_id?t(e):chrome.windows.update(e.id,{extData:JSON.stringify({ext_id:i()})},function(e){t(e)})})}}),chrome.windows.onRemoved.addListener(function(e){var t=u[e];t&&(t.close(),delete u[e],"MacIntel"!==navigator.platform&&r())}),chrome.importData.getStartupAction(function(e){"last"===e?chrome.sessions.restore(null,function(e){chrome.runtime.lastError&&console.error("Error restoring sessions, %o ",chrome.runtime.lastError),e||chrome.windows.create({},function(e){n(e.id)})}):chrome.windows.create({},function(e){n(e.id)})}))}var i=e(2),s=!1,a=!0,u={},c=[],f=e(7);chrome.sessions.onChanged.addListener(function(){});var l=-1;chrome.runtime.onMessage.addListener(function(e,t,r){e.getLastSettingsWindowId?r({settingsWindowId:l}):e.setLastSettingsWindowId&&(l=e.setLastSettingsWindowId)}),chrome.app.runtime.onLaunched.addListener(function(e){setTimeout(function(){return f.startTracker()},5e3),o(e.url)}),chrome.runtime.onInstalled.addListener(function(){setTimeout(function(){o("")},50)})},{}],2:[function(e,t){!function(e){"use strict";var r="cuid",n=0,o=4,i=36,s=Math.pow(i,o),a=function(e,t){var r="000000000"+e;return r.substr(r.length-t)},u=function(){return a((Math.random()*s<<0).toString(i),o)},c=function(){return n=s>n?n:0,n++,n-1},f=function(){var e,t="c",r=(new Date).getTime().toString(i),n=f.fingerprint(),s=u()+u();return e=a(c().toString(i),o),t+r+e+n+s};f.slug=function(){var e,t=(new Date).getTime().toString(36),r=f.fingerprint().slice(0,1)+f.fingerprint().slice(-1),n=u().slice(-2);return e=c().toString(36).slice(-4),t.slice(-2)+e+r+n},f.globalCount=function(){var e=function(){var e,t=0;for(e in window)t++;return t}();return f.globalCount=function(){return e},e},f.fingerprint=function(){return a((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+f.globalCount().toString(36),4)},e.register?e.register(r,f):"undefined"!=typeof t?t.exports=f:e[r]=f}(this.applitude||this)},{}],3:[function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,n),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?u.removeItem("debug"):u.debug=e}catch(t){}}function a(){var e;try{e=u.debug}catch(t){}return e}r=t.exports=e(4),r.log=i,r.formatArgs=o,r.save=s,r.load=a,r.useColors=n;var u;u="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:window.localStorage,r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){return JSON.stringify(e)},r.enable(a())},{}],4:[function(e,t,r){function n(){return r.colors[f++%r.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(c||t);e.diff=i,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=r.useColors()),null==e.color&&e.useColors&&(e.color=n());var s=Array.prototype.slice.call(arguments);s[0]=r.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,n){if("%%"===t)return t;a++;var o=r.formatters[n];if("function"==typeof o){var i=s[a];t=o.call(e,i),s.splice(a,1),a--}return t}),"function"==typeof r.formatArgs&&(s=r.formatArgs.apply(e,s));var u=o.log||r.log||console.log.bind(console);u.apply(e,s)}t.enabled=!1,o.enabled=!0;var i=r.enabled(e)?o:t;return i.namespace=e,i}function i(e){r.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;n>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function s(){r.enable("")}function a(e){var t,n;for(t=0,n=r.skips.length;n>t;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;n>t;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}r=t.exports=o,r.coerce=u,r.disable=s,r.enable=i,r.enabled=a,r.humanize=e(5),r.names=[],r.skips=[],r.formatters={};var c,f=0},{}],5:[function(e,t){function r(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"y":return r*f;case"days":case"day":case"d":return r*c;case"hours":case"hour":case"h":return r*u;case"minutes":case"minute":case"m":return r*a;case"seconds":case"second":case"s":return r*s;case"ms":return r}}}function n(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,u,"hour")||i(e,a,"minute")||i(e,s,"second")||e+" ms"}function i(e,t,r){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var s=1e3,a=60*s,u=60*a,c=24*u,f=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?o(e):n(e)}},{}],6:[function(){!function(){"use strict";function e(e){if("string"!=typeof e&&(e=e.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=e.toString()),e}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function n(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function i(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function s(e){var t=new FileReader;return t.readAsText(e),o(t)}function a(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},h.blob?(this.blob=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=n(this);return e?e:Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e){var t=e.toUpperCase();return p.indexOf(t)>-1?t:e}function c(e,t){if(t=t||{},this.url=e,this.credentials=t.credentials||"omit",this.headers=new r(t.headers),this.method=u(t.method||"GET"),this.mode=t.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t.body)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function l(e){var t=new r,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();t.append(n,o)}),t}function d(e,t){t||(t={}),this._initBody(e),this.type="default",this.url=null,this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||""}if(!self.fetch){r.prototype.append=function(r,n){r=e(r),n=t(n);var o=this.map[r];o||(o=[],this.map[r]=o),o.push(n)},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},r.prototype.getAll=function(t){return this.map[e(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(r,n){this.map[e(r)]=[t(n)]},r.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){e.call(t,n,r,this)},this)},this)};var h={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self},p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];a.call(c.prototype),a.call(d.prototype),self.Headers=r,self.Request=c,self.Response=d,self.fetch=function(e,t){var r;return r=c.prototype.isPrototypeOf(e)&&!t?e:new c(e,t),new Promise(function(e,t){function n(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var o=new XMLHttpRequest;o.onload=function(){var r=1223===o.status?204:o.status;if(100>r||r>599)return void t(new TypeError("Network request failed"));var i={status:r,statusText:o.statusText,headers:l(o),url:n()},s="response"in o?o.response:o.responseText;e(new d(s,i))},o.onerror=function(){t(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&h.blob&&(o.responseType="blob"),r.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},self.fetch.polyfill=!0}}()},{}],7:[function(e,t){"use strict";function r(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0})}function n(){return""+E+"?idsite="+b+x}function o(){var e=new Uint8Array(8);crypto.getRandomValues(e);for(var t="",r=0;r<e.length;r++)t+=e[r].toString(16);return 16!==t.length&&(t=i(),16!==t.length&&c("Error","n0rand0m data")),t}function i(){for(var e="",t=0;4>t;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e}function s(e,t){return new Promise(function(n,o){chrome.storage.local.set(r({},D,t),function(){chrome.runtime.lastError?o(chrome.runtime.lastError):(e[D]=t,n(e))})})}function a(e){chrome.storage.local.set(r({},A,e),function(){chrome.runtime.lastError||(O=e)})}function u(){return o()}function c(e,t){S("fired",e,t),chrome.settings.getPreference(function(r){if(S("got prefs",r),Array.isArray(r)){var n=r.filter(function(e){return"enable_do_not_track"===e.preferenceKey});if(Array.isArray(n)&&1===n.length){var o=n[0];o&&"boolean"===o.preferenceType&&(o.preferenceValue.boolean===!1?(S("performing real track"),y(e,t)):S("respect our users"))}}})}function f(e){console.error("got err",e.stack||e),S("tracking error"),c("Error",e)}function l(){var e=new Promise(function(e,t){chrome.storage.local.get([D,A],function(r){S("loaded items",r),chrome.runtime.lastError?t(chrome.runtime.lastError):e(r)})});return e}function d(e){var t=e[D];if(S("items is now",e),t)return Promise.resolve(e);var r=u();return S("generated user id",r),s(e,r)}function h(){l().then(d).then(function(e){I=e[D],O=e[A],(O===Math.NaN||null==O)&&(O=0),S("loaded data",e)}).catch(f)}function p(e){200!==e.status&&a(0),S("response",e)}function m(e,t){return parseInt(Math.random()*(t-e))+e}function g(){return navigator.userAgent.match(/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i)?"amd64":"ia32"}function y(e,t){"string"==typeof e&&0===e.length&&e.match(/^[a-z0-9]+$/i)&&(e="Ping");var r={1:["cpu",g()]},o=""+n()+"&cookie= &action_name="+e+"&uid="+I+"&ua="+encodeURIComponent(navigator.userAgent)+"&_cvar="+encodeURIComponent(JSON.stringify(r))+"&res="+window.screen.availWidth+"x"+window.screen.availHeight+"&url=http://localhost/"+e+"&rand="+m(1e3,99999);"number"==typeof O&&O>0&&(o+="&_viewts="+parseInt(O/1e3)),t&&(o+="&msg="+t);var i=Date.now();a(i),S("GET @",o),fetch(o,{method:"get"}).then(p).catch(f)}function v(){var e=Date.now();0===O?c("FirstRun"):e-1e3*_>O?c("Ping"):S("not logging. Wait",((O+1e3*_-e)/1e3).toFixed(2),"s")}function w(){if(P>0)throw new Error("unable to start tracker, already running");R&&(h(),setTimeout(function(){return v()},5e3),P=setInterval(v,1e3*T))}var b="15",E="https://update.vivaldi.com/stats/piwik.php",x="&rec=1",T=3599,_=86400,D="TRACKING_USER_ID",A="TRACKING_LAST_CHECKED",I=null,O=0,S=function(){},R=!0,C=!1;if(C){var N=e(3);S=N("tracker"),T=10,_=60}e(6);var P=-1;t.exports={startTracker:w}},{}]},{},[1]);