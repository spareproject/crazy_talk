#READMAH
<br>
so general keylayout so far...<br>
<br>
top level - host... on the usb stick, tmp generated key in user home dir tmpfs<br>
root        - root.public<br>
revoke      - revoke.public<br>
persistent  - persistent.public<br>
tmp         - tmp.public<br>
persistent public key is a clear text sign by root... needs -d, --verify or regex for use<br>
tmp public key is a clear text sign by persistent... ^^<br>
<br>
middle level - internal... generated by host keyset stored on persistent internal storage per node<br>
root        - root.public,root.sig<br>
revoke      - revoke.public,revoke.sig<br>
persistent  - persistent.public,persistent.sig<br>
tmp         - tmp.public<br>
root.sig is signed by the hosts persistent key... if its signed by host root it becomes a persistent key... not an internal key<br>
revoke.sig is signed by the host persistent key<br>
persistent.public is still signed by internal root... and .sig is signed again by host persistent<br>
tmp.public signed by internal persistent... scrapping tmp.sig implies once internal is unlocked you can still actually use it... without re authing access to usb<br>
<br>
bottom level - container... currently a bit meh realistically it should only hold the tmp level keys if its someone elses node<br>
but overall same layout<br>
<br>
current general fuck ups...<br>
i want a three hop key structure for gnupg,openssh,openssl<br>
i can do gnupg and netcat proof of concept easy<br>
but openssh and openssl are a bit meh<br>
could blag internal facing webserver to give a host control panel even dump some form of privledge seperation / access via it for all running nodes<br>
but i cant think of a legitimate reason to have an internal facing ssh server not even sshfs seems worth it<br>
<br>
so its either go usability and scrap writing a gnupg wrapper to handle openssh and openssl pki with this general layout<br>
or just write a 3 hop full set for handling those protocols / programs /shrug<br>
<br>
i personally wouldnt ever dump a root signing key on someone elses node...<br>
if i wanted to blag handing out containers to users rather than grsec a multi user environment<br>
it would still be using a usb key for root,revoke,persistent and tmp key on the container only...<br>
<br>
so my plan of completing all possible hops for all three things is a bit proof rather than functionality : /<br>
<br>
hence the total slow down<br>
loads of pointless stuff i dont need... that makes very little sense<br>
get the complete top level keys, sign a middle set of keys, middle set sign a lower set<br>
^ every possible keyset exchange handled but no decent way to implement it<br>
was going to blag a gnupg wrapper for the stuff openssh lacks and the stuff openssl just outright fucks up (in my opinion worst cli command ever)<br>
<br>
or....<br>
<br>
to make a decent lab environment on throw up any hardware...<br>
usb key multiboot a server cluster<br>
setup pxe boot... images on the cluster<br>
blag making interchangable container / pxe boot images<br>
so entire fake playground network or actual network with real bare metal nodes<br>
<br>
i enjoy setting up infrastructure mostly network insurgency and hijacking other peoples shit but actual lab environment for myself seems pretty fun<br>
<br>
but i need something to work on im getting bored : /<br>
<br>
<br>
<br>



