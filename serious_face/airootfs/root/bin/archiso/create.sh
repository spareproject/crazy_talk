#!/bin/env bash
###############################################################################################################################################################################################################
#
# ez mode check unlocked check name collisions done ez
#
###############################################################################################################################################################################################################
dd if=/dev/random bs=1 count=8192 | gpg --homedir /tmp/user -e /mnt/luks > /mnt/luks/
fallocate -l ${size} /mnt/rawfs/
gpg --homedir /tmp/user -d /mnt/luks/ 2>/dev/null | cryptsetup --hash=${HASH} --cipher=${CIPHER} --offset=0 --key-file=- open --type=plain /mnt/rawfs/ 
mkfs.ext4 /dev/mapper/
mkdir /mnt/mount
mount /dev/mapper/ /mnt/mount/
###############################################################################################################################################################################################################
